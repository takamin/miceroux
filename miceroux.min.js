!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,r){"use strict";var n=r(2),i={};window.Miceroux=i,i.convertIndex=0,i.asciidoc=function(t,e){e=e||{},"string"==typeof t&&(t=Array.from(document.querySelectorAll(t))),Array.isArray(t)?t.forEach(function(t){return $(t,e)}):$(t,e)};var $=function(t,e){t.id=t.id||s();var r=document.createElement("DIV");if(r.classList.add("miceroux","result","type-asciidoc"),r.setAttribute("src",t.id),!(t instanceof HTMLElement))return r.innerHTML="No HTML element supplied. The name of the constructor is ".concat(t.constructor.name),void document.appendChild(r);var i=n(),$=t.parentNode,o=t.innerHTML.replace(/^\s*/,"");try{r.innerHTML=i.convert(o),$.insertBefore(r,t.nextElementSibling),e.replace&&$.removeChild(t)}catch(e){r.innerHTML="Error: Conversion was failed ".concat(e.message),$.insertBefore(r,t.nextElementSibling)}},s=function(){var t="miceroux".concat(i.convertIndex);return++i.convertIndex,t}},function(module,exports,__webpack_require__){(function(global,process,Buffer,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/**
 * @license Asciidoctor.js 2.0.3 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */
/**
 * @license Asciidoctor.js 2.0.3 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */
(function(t){var e,r,n,i,$,s,o=this;if(void 0!==global&&(o=global),"undefined"!=typeof window&&(o=window),"log"in(e="object"===_typeof(o.console)?o.console:null==o.console?o.console={}:{})||(e.log=function(){}),"warn"in e||(e.warn=e.log),void 0!==this.Opal)return e.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var a=this.Opal={};a.global=o,o.Opal=a,a.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var l=Object.hasOwnProperty,c=Function.prototype.bind,u=Object.setPrototypeOf,h=Array.prototype.slice,_=Array.prototype.splice,d=4;function p(t,e,r){"string"==typeof t?t[e]=r:Object.defineProperty(t,e,{value:r,enumerable:!1,configurable:!0,writable:!0})}function f(t,e){if(t)return t.$$const[e]}function m(t,e){var r,n,i;if(null!=t)for(r=0,n=(i=a.ancestors(t)).length;r<n;r++)if(i[r].$$const&&l.call(i[r].$$const,e))return i[r].$$const[e]}function y(t,e,r){if(!r)return(t||i).$const_missing(e)}function g(t){return t.hasOwnProperty("$$iclass")&&t.hasOwnProperty("$$root")}function b(t){var e=v(t);return t.$$is_module&&t.$$iclasses.push(e),e}function v(t){var e={},r=t.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var n,i=Object.getOwnPropertyNames(r),$=i.length;for(n=0;n<$;n++){var s=i[n];p(e,s,r[s])}return p(e,"$$iclass",!0),p(e,"$$module",t),e}function x(t){var e=t.length,r=t[0];if(p(r,"$$root",!0),1===e)return{first:r,last:r};for(var n=r,i=1;i<e;i++){var $=t[i];u(n,$),n=$}return{first:t[0],last:t[e-1]}}function w(t){if(!t.hasOwnProperty("$$dummy"))return t.hasOwnProperty("$$iclass")?t.$$module:t.hasOwnProperty("$$class")?t.$$class:void 0}function k(t){return"function"==typeof t&&!t.$$stub}a.uid=function(){return d+=2},a.id=function(t){return t.$$is_number?2*t+1:null!=t.$$id?t.$$id:(p(t,"$$id",a.uid()),t.$$id)},a.gvars={},a.exit=function(t){a.gvars.DEBUG&&e.log("Exited with status "+t)},a.exceptions=[],a.pop_exception=function(){a.gvars["!"]=a.exceptions.pop()||r},a.inspect=function(e){return e===t?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},a.defineProperty=p,a.slice=h,a.truthy=function(t){return t!==r&&null!=t&&(!t.$$is_boolean||1==t)},a.falsy=function(t){return t===r||null==t||t.$$is_boolean&&0==t},a.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=i),!t.$$is_module&&!t.$$is_class)throw new a.TypeError(t.toString()+" is not a class/module");return null!=(n=f(t,e))?n:null!=(n=y(t,e,r))?n:void 0}},a.const_get_qualified=function(t,e,r){var n,$,s,o=a.const_cache_version;if(null!=t){if("::"===t&&(t=i),!t.$$is_module&&!t.$$is_class)throw new a.TypeError(t.toString()+" is not a class/module");return null==($=t.$$const_cache)&&(p(t,"$$const_cache",Object.create(null)),$=t.$$const_cache),null==(s=$[e])||s[0]!==o?(null!=(n=f(t,e))||(n=m(t,e)),$[e]=[o,n]):n=s[1],null!=n?n:y(t,e,r)}},a.const_cache_version=1,a.const_get_relative=function(t,e,r){var n,$,s,o=t[0],l=a.const_cache_version;return null==($=t.$$const_cache)&&(p(t,"$$const_cache",Object.create(null)),$=t.$$const_cache),null==(s=$[e])||s[0]!==l?(null!=(n=f(o,e))||null!=(n=function(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(null!=(i=t[r].$$const[e]))return i}(t,e))||null!=(n=m(o,e))||(n=function(t,e){if(null==t||t.$$is_module)return m(i,e)}(o,e)),$[e]=[l,n]):n=s[1],null!=n?n:y(o,e,r)},a.const_set=function(t,e,n){return null!=t&&"::"!==t||(t=i),n.$$is_a_module&&(null!=n.$$name&&n.$$name!==r||(n.$$name=e),null==n.$$base_module&&(n.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=n,t.$$=t.$$const,a.const_cache_version++,t===i&&(a[e]=n),p(t,e,n),n},a.constants=function(t,e){null==e&&(e=!0);var r,n,$,s,o=[t],l={};for(e&&(o=o.concat(a.ancestors(t))),e&&t.$$is_module&&(o=o.concat([a.Object]).concat(a.ancestors(a.Object))),n=0,$=o.length;n<$&&(r=o[n],t===i||r!=i);n++)for(s in r.$$const)l[s]=!0;return Object.keys(l)},a.const_remove=function(t,e){if(a.const_cache_version++,null!=t.$$const[e]){var n=t.$$const[e];return delete t.$$const[e],n}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],r;throw a.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},a.allocate_class=function(t,e){var r,n;return n=null!=e&&e.$$bridge?function(){var t=h.call(arguments),n=new(c.apply(e.$$constructor,[null].concat(t)));return u(n,r.$$prototype),n}:function(){},t&&p(n,"displayName","::"+t),p(r=n,"$$name",t),p(r,"$$constructor",n),p(r,"$$prototype",n.prototype),p(r,"$$const",{}),p(r,"$$is_class",!0),p(r,"$$is_a_module",!0),p(r,"$$super",e),p(r,"$$cvars",{}),p(r,"$$own_included_modules",[]),p(r,"$$own_prepended_modules",[]),p(r,"$$ancestors",[]),p(r,"$$ancestors_cache_version",null),p(r.$$prototype,"$$class",r),a.Class&&u(r,a.Class.prototype),null!=e&&(u(r.$$prototype,e.$$prototype),e.$$meta&&a.build_class_singleton_class(r)),r},a.klass=function(t,e,r){var n;null==t?t=i:t.$$is_class||t.$$is_module||(t=t.$$class),null==e||e.hasOwnProperty("$$is_class")||(n=e,e=i);var $=function(t,e){var r=f(t,e);if(r){if(!r.$$is_class)throw a.TypeError.$new(e+" is not a class");return r}}(t,r);return $?(e&&function(t,e){if(t.$$super!==e)throw a.TypeError.$new("superclass mismatch for class "+t.$$name)}($,e),$):(null==e&&(e=i),$=a.allocate_class(r,e),a.const_set(t,r,$),e.$inherited&&e.$inherited($),n&&a.bridge(n,$),$)},a.allocate_module=function(t){var e=function(){};t&&p(e,"displayName",t+".$$constructor");var r=e;return t&&p(e,"displayName",t+".constructor"),p(r,"$$name",t),p(r,"$$prototype",e.prototype),p(r,"$$const",{}),p(r,"$$is_module",!0),p(r,"$$is_a_module",!0),p(r,"$$cvars",{}),p(r,"$$iclasses",[]),p(r,"$$own_included_modules",[]),p(r,"$$own_prepended_modules",[]),p(r,"$$ancestors",[r]),p(r,"$$ancestors_cache_version",null),u(r,a.Module.prototype),r},a.module=function(t,e){var r;return null==t?t=i:t.$$is_class||t.$$is_module||(t=t.$$class),(r=function(t,e){var r=f(t,e);if(null==r&&t===i&&(r=m(i,e)),r&&!r.$$is_module&&r!==i)throw a.TypeError.$new(e+" is not a module");return r}(t,e))?r:(r=a.allocate_module(e),a.const_set(t,e,r),r)},a.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.hasOwnProperty("$$is_class")?a.build_class_singleton_class(t):t.hasOwnProperty("$$is_module")?a.build_module_singletin_class(t):a.build_object_singleton_class(t)},a.build_class_singleton_class=function(t){var e,r;return t.$$meta?t.$$meta:(e=t===n?s:a.get_singleton_class(t.$$super),p(r=a.allocate_class(null,e,function(){}),"$$is_singleton",!0),p(r,"$$singleton_of",t),p(t,"$$meta",r),u(t,r.$$prototype),p(t,"$$class",a.Class),r)},a.build_module_singletin_class=function(t){if(t.$$meta)return t.$$meta;var e=a.allocate_class(null,a.Module,function(){});return p(e,"$$is_singleton",!0),p(e,"$$singleton_of",t),p(t,"$$meta",e),u(t,e.$$prototype),p(t,"$$class",a.Module),e},a.build_object_singleton_class=function(t){var e=t.$$class,n=a.allocate_class(r,e,function(){});return p(n,"$$is_singleton",!0),p(n,"$$singleton_of",t),delete n.$$prototype.$$class,p(t,"$$meta",n),u(t,t.$$meta.$$prototype),n},a.is_method=function(t){return"$"===t[0]&&"$"!==t[1]},a.instance_methods=function(t){for(var e=[],r=[],n=a.ancestors(t),i=0,$=n.length;i<$;i++){var s=n[i].$$prototype;s.hasOwnProperty("$$dummy")&&(s=s.$$define_methods_on);for(var o=Object.getOwnPropertyNames(s),l=0,c=o.length;l<c;l++){var u=o[l];if(a.is_method(u)){var h=u.slice(1),_=s[u];_.$$stub&&-1===e.indexOf(h)&&e.push(h),_.$$stub||-1!==r.indexOf(h)||-1!==e.indexOf(h)||r.push(h)}}}return r},a.own_instance_methods=function(t){var e=[],r=t.$$prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var n=Object.getOwnPropertyNames(r),i=0,$=n.length;i<$;i++){var s=n[i];if(a.is_method(s))if(!r[s].$$stub){var o=s.slice(1);e.push(o)}}return e},a.methods=function(t){return a.instance_methods(a.get_singleton_class(t))},a.own_methods=function(t){return a.own_instance_methods(a.get_singleton_class(t))},a.receiver_methods=function(t){var e=a.get_singleton_class(t),r=a.own_instance_methods(e),n=a.own_instance_methods(e.$$super);return r.concat(n)},a.class_variables=function(t){var e,r=a.ancestors(t),n={};for(e=r.length-1;e>=0;e--){var i=r[e];for(var $ in i.$$cvars)n[$]=i.$$cvars[$]}return n},a.class_variable_set=function(t,e,r){var n,i=a.ancestors(t);for(n=i.length-2;n>=0;n--){var $=i[n];if(l.call($.$$cvars,e))return $.$$cvars[e]=r,r}return t.$$cvars[e]=r,r},a.append_features=function(t,e){var r=a.ancestors(t),n=[];if(-1!==r.indexOf(e))throw a.ArgumentError.$new("cyclic include detected");for(var i=0,$=r.length;i<$;i++){var s=b(r[i]);p(s,"$$included",!0),n.push(s)}var o,l,c=a.ancestors(e),h=x(n);if(-1===c.indexOf(t))o=e.$$prototype,l=Object.getPrototypeOf(e.$$prototype);else{for(var _=e.$$prototype,d=Object.getPrototypeOf(_);null!=d&&(!g(d)||d.$$module!==t);)_=d,d=Object.getPrototypeOf(d);for(var f=Object.getPrototypeOf(d);f.hasOwnProperty("$$iclass")&&!g(f);)f=Object.getPrototypeOf(f);o=_,l=f}u(o,h.first),u(h.last,l),e.$$own_included_modules=function(t){for(var e,r=[],n=Object.getPrototypeOf(t.$$prototype);n&&!n.hasOwnProperty("$$class");)(e=w(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),a.const_cache_version++},a.prepend_features=function(t,e){var r=a.ancestors(t),n=[];if(-1!==r.indexOf(e))throw a.ArgumentError.$new("cyclic prepend detected");for(var i=0,$=r.length;i<$;i++){var s=b(r[i]);p(s,"$$prepended",!0),n.push(s)}var o,l,c,h=x(n),_=e.$$prototype,d=Object.getPrototypeOf(_);if(_.hasOwnProperty("$$dummy")?o=_.$$define_methods_on:(o=v(e),function(t){for(var e=t.$$prototype,r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n];a.is_method(i)&&delete e[i]}}(e),p(_,"$$dummy",!0),p(_,"$$define_methods_on",o),u(_,o),u(o,d)),-1!==a.ancestors(e).indexOf(t))throw a.RuntimeError.$new("Prepending a module multiple times is not supported");for(l=_,c=Object.getPrototypeOf(_);null!=c&&!c.hasOwnProperty("$$root")&&c!==o&&c.hasOwnProperty("$$iclass");)c=Object.getPrototypeOf(c);u(l,h.first),u(h.last,c),e.$$own_prepended_modules=function(t){var e,r=[],n=Object.getPrototypeOf(t.$$prototype);if(t.$$prototype.hasOwnProperty("$$dummy"))for(;n&&n!==t.$$prototype.$$define_methods_on;)(e=w(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),a.const_cache_version++},a.bridge=function(t,e){if(t.hasOwnProperty("$$bridge"))throw a.ArgumentError.$new("already bridged");e.$$super||a.Object;e.$$prototype;p(t,"$$bridge",e),u(t.prototype,(e.$$super||a.Object).$$prototype),p(e,"$$prototype",t.prototype),p(e.$$prototype,"$$class",e),p(e,"$$constructor",t),p(e,"$$bridge",!0)},a.ancestors=function(t){if(!t)return[];if(t.$$ancestors_cache_version===a.const_cache_version)return t.$$ancestors;var e,r,n,i=[];for(e=0,n=(r=function(t){return t.$$own_prepended_modules.concat([t]).concat(t.$$own_included_modules)}(t)).length;e<n;e++)i.push(r[e]);if(t.$$super)for(e=0,n=(r=a.ancestors(t.$$super)).length;e<n;e++)i.push(r[e]);return t.$$ancestors_cache_version=a.const_cache_version,t.$$ancestors=i,i},a.included_modules=function(t){for(var e=[],r=null,n=Object.getPrototypeOf(t.$$prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(r=w(n))&&r.$$is_module&&n.$$iclass&&n.$$included&&e.push(r);return e},a.add_stubs=function(t){for(var e=a.BasicObject.$$prototype,r=0,n=t.length;r<n;r++){var i=t[r],$=e[i];(null==$||$.$$stub)&&a.add_stub_for(e,i)}},a.add_stub_for=function(t,e){p(t,e,a.stub_for(e))},a.stub_for=function(t){function e(){this.$method_missing.$$p=e.$$p,e.$$p=null;for(var r=new Array(arguments.length),n=0,i=r.length;n<i;n++)r[n]=arguments[n];return this.$method_missing.apply(this,[t.slice(1)].concat(r))}return e.$$stub=!0,e},a.ac=function(t,e,r,n){var i="";throw r.$$is_a_module?i+=r.$$name+".":i+=r.$$class.$$name+"#",i+=n,a.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},a.block_ac=function(t,e,r){var n="`block in "+r+"'";throw a.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},a.find_super_dispatcher=function(t,e,r,n,i){for(var $,s,o="$"+e,l=($=t.hasOwnProperty("$$meta")?a.ancestors(t.$$meta):a.ancestors(t.$$class)).indexOf(r.$$owner)+1;l<$.length;l++){var c=$[l].$$prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty(o)){var u=c[o];u.$$stub||(s=u);break}}if(!n&&null==s&&a.Kernel.$method_missing===t.$method_missing)throw a.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return s},a.find_iter_super_dispatcher=function(t,e,r,n,i){var $=e;if(!r)throw a.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw a.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),a.find_super_dispatcher(t,$,r,n)},a.ret=function(t){throw a.returner.$v=t,a.returner},a.brk=function(t,e){throw e.$v=t,e},a.new_brk=function(){return new Error("unexpected break")},a.yield1=function(t,e){if("function"!=typeof t)throw a.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(t.length>1||(r||n)&&1===t.length)&&(e=a.to_ary(e)),(t.length>1||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},a.yieldX=function(t,e){if("function"!=typeof t)throw a.LocalJumpError.$new("no block given");if(t.length>1&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)}return t.apply(null,e)},a.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=a.rescue(t,n);if(i)return i}else{if(n===a.JS.Error)return n;if(n["$==="](t))return n}}return null},a.is_a=function(t,e){if(null!=e&&t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=a.ancestors(t.$$is_class?a.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},a.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw a.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw a.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},a.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===r)return[t];if(e.$$is_array)return e;throw a.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},a.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===r)return[t];if(e.$$is_array)return e;throw a.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},a.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(_.call(t,t.length-1,1),e.$to_hash()):a.hash2([],{})},a.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return a.hash2(r,n)},a.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?("function"==typeof n&&(i.$$p=n),i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},a.lambda=function(t){return t.$$is_lambda=!0,t},a.def=function(t,e,r){t===a.top?a.defn(a.Object,e,r):!t.$$eval&&t.$$is_a_module?a.defn(t,e,r):a.defs(t,e,r)},a.defn=function(t,e,r){r.displayName=e,r.$$owner=t;var n=t.$$prototype;if(n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on),p(n,e,r),t.$$is_module){t.$$module_function&&a.defs(t,e,r);for(var i=0,$=t.$$iclasses,s=$.length;i<s;i++){p($[i],e,r)}}var o=t.$$singleton_of;!t.$method_added||t.$method_added.$$stub||o?o&&o.$singleton_method_added&&!o.$singleton_method_added.$$stub&&o.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1))},a.defs=function(t,e,r){if(t.$$is_string||t.$$is_number)throw a.TypeError.$new("can't define singleton");a.defn(a.get_singleton_class(t),e,r)},a.rdef=function(t,e){if(!l.call(t.$$prototype,e))throw a.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$prototype[e],t.$$is_singleton?t.$$prototype.$singleton_method_removed&&!t.$$prototype.$singleton_method_removed.$$stub&&t.$$prototype.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},a.udef=function(t,e){if(!t.$$prototype[e]||t.$$prototype[e].$$stub)throw a.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());a.add_stub_for(t.$$prototype,e),t.$$is_singleton?t.$$prototype.$singleton_method_undefined&&!t.$$prototype.$singleton_method_undefined.$$stub&&t.$$prototype.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},a.alias=function(t,e,r){var n,i="$"+e,$="$"+r,s=t.$$prototype["$"+r];if(t.$$eval)return a.alias(a.get_singleton_class(t),e,r);if(!k(s)){for(var o=t.$$super;"function"!=typeof s&&o;)s=o[$],o=o.$$super;if(!k(s)&&t.$$is_module&&(s=a.Object.$$prototype[$]),!k(s))throw a.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return s.$$alias_of&&(s=s.$$alias_of),(n=function(){var t,e,r,i=n.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=i&&(n.$$p=null),a.send(this,s,t,i)}).displayName=e,n.length=s.length,n.$$arity=s.$$arity,n.$$parameters=s.$$parameters,n.$$source_location=s.$$source_location,n.$$alias_of=s,n.$$alias_name=e,a.defn(t,i,n),t},a.alias_native=function(t,e,r){var n="$"+e,i=t.$$prototype[r];if("function"!=typeof i||i.$$stub)throw a.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return a.defn(t,n,i),t},a.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},a.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,s=t.$$smap,o=$.length;i<o;i++)(r=$[i]).$$is_string?n=s[r]:(n=r.value,r=r.key),a.hash_put(e,r,n)},a.hash_put=function(e,r,n){if(r.$$is_string)return l.call(e.$$smap,r)||e.$$keys.push(r),void(e.$$smap[r]=n);var i,$,s;if(i=e.$$by_identity?a.id(r):r.$hash(),!l.call(e.$$map,i))return $={key:r,key_hash:i,value:n},e.$$keys.push($),void(e.$$map[i]=$);for($=e.$$map[i];$;){if(r===$.key||r["$eql?"]($.key)){s=t,$.value=n;break}s=$,$=$.next}s&&($={key:r,key_hash:i,value:n},e.$$keys.push($),s.next=$)},a.hash_get=function(t,e){if(e.$$is_string)return l.call(t.$$smap,e)?t.$$smap[e]:void 0;var r,n;if(r=t.$$by_identity?a.id(e):e.$hash(),l.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},a.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!l.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var s=e.$hash();if(l.call(t.$$map,s))for(var o,a=t.$$map[s];a;){if(e===a.key||e["$eql?"](a.key)){for(n=a.value,r=0;r<$;r++)if(i[r]===a){i.splice(r,1);break}return o&&a.next?o.next=a.next:o?delete o.next:a.next?t.$$map[s]=a.next:delete t.$$map[s],n}o=a,a=a.next}},a.hash_rehash=function(e){for(var r,n,i,$=0,s=e.$$keys.length;$<s;$++)if(!e.$$keys[$].$$is_string&&(r=e.$$keys[$].key.$hash())!==e.$$keys[$].key_hash){for(n=e.$$map[e.$$keys[$].key_hash],i=t;n;){if(n===e.$$keys[$]){i&&n.next?i.next=n.next:i?delete i.next:n.next?e.$$map[e.$$keys[$].key_hash]=n.next:delete e.$$map[e.$$keys[$].key_hash];break}i=n,n=n.next}if(e.$$keys[$].key_hash=r,l.call(e.$$map,r)){for(n=e.$$map[r],i=t;n;){if(n===e.$$keys[$]){i=t;break}i=n,n=n.next}i&&(i.next=e.$$keys[$])}else e.$$map[r]=e.$$keys[$]}},a.hash=function(){var t,e,r,n,i,$,s=arguments.length;if(1===s&&arguments[0].$$is_hash)return arguments[0];if(e=new a.Hash,a.hash_init(e),1===s&&arguments[0].$$is_array){for(n=(t=arguments[0]).length,r=0;r<n;r++){if(2!==t[r].length)throw a.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],$=t[r][1],a.hash_put(e,i,$)}return e}if(1===s){for(i in t=arguments[0])l.call(t,i)&&($=t[i],a.hash_put(e,i,$));return e}if(s%2!=0)throw a.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<s;r+=2)i=arguments[r],$=arguments[r+1],a.hash_put(e,i,$);return e},a.hash2=function(t,e){var r=new a.Hash;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},a.range=function(t,e,r){var n=new a.Range;return n.begin=t,n.end=e,n.excl=r,n},a.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},a.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},a.global_regexp=function(t){return t.global?t:(null==t.$$g?t.$$g=new RegExp(t.source,(t.multiline?"gm":"g")+(t.ignoreCase?"i":"")):t.$$g.lastIndex=null,t.$$g)},a.global_multiline_regexp=function(t){var e;if(t.multiline){if(t.global)return t;e=null!=t.$$g?t.$$g:t.$$g=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""))}else e=null!=t.$$gm?t.$$gm:t.$$gm=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));return e.lastIndex=null,e},a.modules={},a.loaded_features=["corelib/runtime"],a.current_dir=".",a.require_table={"corelib/runtime":!0},a.normalize=function(t){var e,r,n=[];"."!==a.current_dir&&(t=a.current_dir.replace(/\/*$/,"/")+t);for(var i=0,$=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<$;i++)""!==(r=e[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},a.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++)n=a.normalize(t[e]),a.require_table[n]||(a.loaded_features.push(n),a.require_table[n]=!0)},a.load=function(t){t=a.normalize(t),a.loaded([t]);var r=a.modules[t];if(r)r(a);else{var n=a.config.missing_require_severity,i="cannot load such file -- "+t;if("error"===n)throw a.LoadError?a.LoadError.$new(i):i;"warning"===n&&e.warn("WARNING: LoadError: "+i)}return!0},a.require=function(t){return t=a.normalize(t),!a.require_table[t]&&a.load(t)},a.BasicObject=n=a.allocate_class("BasicObject",null,function(){}),a.Object=i=a.allocate_class("Object",a.BasicObject,function(){}),a.Module=$=a.allocate_class("Module",a.Object,function(){}),a.Class=s=a.allocate_class("Class",a.Module,function(){}),u(a.BasicObject,a.Class.$$prototype),u(a.Object,a.Class.$$prototype),u(a.Module,a.Class.$$prototype),u(a.Class,a.Class.$$prototype),n.$$const.BasicObject=n,a.const_set(i,"BasicObject",n),a.const_set(i,"Object",i),a.const_set(i,"Module",$),a.const_set(i,"Class",s),n.$$class=s,i.$$class=s,$.$$class=s,s.$$class=s,p(i.$$prototype,"toString",function(){var t=this.$to_s();return t.$$is_string&&"object"===_typeof(t)?t.valueOf():t}),p(i.$$prototype,"$require",a.require),a.$$=i.$$,a.top=new i,a.top.$to_s=a.top.$inspect=function(){return"main"},a.NilClass=a.allocate_class("NilClass",a.Object,function(){}),a.const_set(i,"NilClass",a.NilClass),(r=a.nil=new a.NilClass).$$id=4,r.call=r.apply=function(){throw a.LocalJumpError.$new("no block given")},a.breaker=new Error("unexpected break (old)"),a.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.truthy;return t.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(e,s){var o,a,l,c,u,h,_,d,p,f,m,y,g,b,v=i(e,"Opal"),x=[v].concat(s);t.defs(v,"$bridge",o=function(e,r){return t.bridge(e,r)},o.$$arity=2),t.defs(v,"$type_error",a=function(t,e,i,s){var o;return null==i&&(i=r),null==s&&(s=r),$($(o=i)?s:o)?n(x,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+i+" gives "+s.$class()+")"):n(x,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},a.$$arity=-3),t.defs(v,"$coerce_to",l=function(t,e,r){return $(e["$==="](t))?t:($(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},l.$$arity=3),t.defs(v,"$coerce_to!",c=function(t,e,r){var n;return n=this.$coerce_to(t,e,r),$(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n},c.$$arity=3),t.defs(v,"$coerce_to?",u=function(t,e,n){var i=r;return $(t["$respond_to?"](n))?(i=this.$coerce_to(t,e,n),$(i["$nil?"]())?r:($(e["$==="](i))||this.$raise(this.$type_error(t,e,n,i)),i)):r},u.$$arity=3),t.defs(v,"$try_convert",h=function(t,e,n){return $(e["$==="](t))?t:$(t["$respond_to?"](n))?t.$__send__(n):r},h.$$arity=3),t.defs(v,"$compare",_=function(t,e){var i;return i=t["$<=>"](e),$(i===r)&&this.$raise(n(x,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),i},_.$$arity=2),t.defs(v,"$destructure",d=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},d.$$arity=1),t.defs(v,"$respond_to?",p=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},p.$$arity=-3),t.defs(v,"$inspect_obj",f=function(e){return t.inspect(e)},f.$$arity=1),t.defs(v,"$instance_variable_name!",m=function(t){return t=n(x,"Opal")["$coerce_to!"](t,n(x,"String"),"to_str"),$(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(n(x,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},m.$$arity=1),t.defs(v,"$class_variable_name!",y=function(t){return t=n(x,"Opal")["$coerce_to!"](t,n(x,"String"),"to_str"),$(t.length<3||"@@"!==t.slice(0,2))&&this.$raise(n(x,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},y.$$arity=1),t.defs(v,"$const_name!",g=function(t){return t=n(x,"Opal")["$coerce_to!"](t,n(x,"String"),"to_str"),$(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(n(x,"NameError"),"wrong constant name "+t),t},g.$$arity=1),t.defs(v,"$pristine",b=function(e,n){for(var i,$,s,o=(i=t.slice.call(arguments,1,arguments.length)).length-1;o>=0;o--)$=i[o],(s=e.$$prototype["$"+$])&&!s.$$stub&&(s.$$pristine=!0);return r},b.$$arity=-2)}(e[0],e)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"Module"),$nesting=[self].concat($parent_nesting),$Module_allocate$1,$Module_initialize$2,$Module_$eq_eq_eq$3,$Module_$lt$4,$Module_$lt_eq$5,$Module_$gt$6,$Module_$gt_eq$7,$Module_$lt_eq_gt$8,$Module_alias_method$9,$Module_alias_native$10,$Module_ancestors$11,$Module_append_features$12,$Module_attr_accessor$13,$Module_attr_reader$14,$Module_attr_writer$15,$Module_autoload$16,$Module_class_variables$17,$Module_class_variable_get$18,$Module_class_variable_set$19,$Module_class_variable_defined$ques$20,$Module_remove_class_variable$21,$Module_constants$22,$Module_constants$23,$Module_nesting$24,$Module_const_defined$ques$25,$Module_const_get$26,$Module_const_missing$28,$Module_const_set$29,$Module_public_constant$30,$Module_define_method$31,$Module_remove_method$33,$Module_singleton_class$ques$34,$Module_include$35,$Module_included_modules$36,$Module_include$ques$37,$Module_instance_method$38,$Module_instance_methods$39,$Module_included$40,$Module_extended$41,$Module_extend_object$42,$Module_method_added$43,$Module_method_removed$44,$Module_method_undefined$45,$Module_module_eval$46,$Module_module_exec$48,$Module_method_defined$ques$49,$Module_module_function$50,$Module_name$51,$Module_prepend$52,$Module_prepend_features$53,$Module_prepended$54,$Module_remove_const$55,$Module_to_s$56,$Module_undef_method$57,$Module_instance_variables$58,$Module_dup$59,$Module_copy_class_variables$60,$Module_copy_constants$61;return Opal.defs(self,"$allocate",$Module_allocate$1=function(){var t=Opal.allocate_module(nil,function(){});return this!==Opal.Module&&Object.setPrototypeOf(t,this.$$prototype),t},$Module_allocate$1.$$arity=0),Opal.def(self,"$initialize",$Module_initialize$2=function(){var t=$Module_initialize$2.$$p,e=t||nil;return t&&($Module_initialize$2.$$p=null),t&&($Module_initialize$2.$$p=null),e!==nil?$send(this,"module_eval",[],e.$to_proc()):nil},$Module_initialize$2.$$arity=0),Opal.def(self,"$===",$Module_$eq_eq_eq$3=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},$Module_$eq_eq_eq$3.$$arity=1),Opal.def(self,"$<",$Module_$lt$4=function(t){$truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module");var e,r,n;if(this===t)return!1;for(r=0,n=(e=Opal.ancestors(this)).length;r<n;r++)if(e[r]===t)return!0;for(r=0,n=(e=Opal.ancestors(t)).length;r<n;r++)if(e[r]===this)return!1;return nil},$Module_$lt$4.$$arity=1),Opal.def(self,"$<=",$Module_$lt_eq$5=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},$Module_$lt_eq$5.$$arity=1),Opal.def(self,"$>",$Module_$gt$6=function(t){return $truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},$Module_$gt$6.$$arity=1),Opal.def(self,"$>=",$Module_$gt_eq$7=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},$Module_$gt_eq$7.$$arity=1),Opal.def(self,"$<=>",$Module_$lt_eq_gt$8=function(t){var e=nil;return this===t?0:$truthy($$($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},$Module_$lt_eq_gt$8.$$arity=1),Opal.def(self,"$alias_method",$Module_alias_method$9=function(t,e){return Opal.alias(this,t,e),this},$Module_alias_method$9.$$arity=2),Opal.def(self,"$alias_native",$Module_alias_native$10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},$Module_alias_native$10.$$arity=-2),Opal.def(self,"$ancestors",$Module_ancestors$11=function(){return Opal.ancestors(this)},$Module_ancestors$11.$$arity=0),Opal.def(self,"$append_features",$Module_append_features$12=function(t){return Opal.append_features(this,t),this},$Module_append_features$12.$$arity=1),Opal.def(self,"$attr_accessor",$Module_attr_accessor$13=function(t){var e;return e=Opal.slice.call(arguments,0,arguments.length),$send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},$Module_attr_accessor$13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",$Module_attr_reader$14=function(t){var e;e=Opal.slice.call(arguments,0,arguments.length);for(var r=this.$$prototype,n=e.length-1;n>=0;n--){var i=e[n],$="$"+i,s=Opal.ivar(i),o=function(t){return function(){return null==this[t]?nil:this[t]}}(s);Opal.defineProperty(r,s,nil),o.$$parameters=[],o.$$arity=0,Opal.defn(this,$,o)}return nil},$Module_attr_reader$14.$$arity=-1),Opal.def(self,"$attr_writer",$Module_attr_writer$15=function(t){var e;e=Opal.slice.call(arguments,0,arguments.length);for(var r=this.$$prototype,n=e.length-1;n>=0;n--){var i=e[n],$="$"+i+"=",s=Opal.ivar(i),o=function(t){return function(e){return this[t]=e}}(s);o.$$parameters=[["req"]],o.$$arity=1,Opal.defineProperty(r,s,nil),Opal.defn(this,$,o)}return nil},$Module_attr_writer$15.$$arity=-1),Opal.def(self,"$autoload",$Module_autoload$16=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},$Module_autoload$16.$$arity=2),Opal.def(self,"$class_variables",$Module_class_variables$17=function(){return Object.keys(Opal.class_variables(this))},$Module_class_variables$17.$$arity=0),Opal.def(self,"$class_variable_get",$Module_class_variable_get$18=function(t){t=$$($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},$Module_class_variable_get$18.$$arity=1),Opal.def(self,"$class_variable_set",$Module_class_variable_set$19=function(t,e){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},$Module_class_variable_set$19.$$arity=2),Opal.def(self,"$class_variable_defined?",$Module_class_variable_defined$ques$20=function(t){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},$Module_class_variable_defined$ques$20.$$arity=1),Opal.def(self,"$remove_class_variable",$Module_remove_class_variable$21=function(t){if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(this.$$cvars,t)){var e=this.$$cvars[t];return delete this.$$cvars[t],e}this.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+this)},$Module_remove_class_variable$21.$$arity=1),Opal.def(self,"$constants",$Module_constants$22=function(t){return null==t&&(t=!0),Opal.constants(this,t)},$Module_constants$22.$$arity=-1),Opal.defs(self,"$constants",$Module_constants$23=function(t){if(null==t){var e,r,n,i=(this.$$nesting||[]).concat(Opal.Object),$={};for(r=0,n=i.length;r<n;r++)for(e in i[r].$$const)$[e]=!0;return Object.keys($)}return Opal.constants(this,t)},$Module_constants$23.$$arity=-1),Opal.defs(self,"$nesting",$Module_nesting$24=function(){return this.$$nesting||[]},$Module_nesting$24.$$arity=0),Opal.def(self,"$const_defined?",$Module_const_defined$ques$25=function(t,e){null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var r,n,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),r=0,n=i.length;r<n;r++)if(null!=i[r].$$const[t])return!0;return!1},$Module_const_defined$ques$25.$$arity=-2),Opal.def(self,"$const_get",$Module_const_get$26=function(t,e){var r;return null==e&&(e=!0),0===(t=$$($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[this],((r=function(t,e){r.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=this,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([this],t):Opal.const_get_local(this,t))},$Module_const_get$26.$$arity=-2),Opal.def(self,"$const_missing",$Module_const_missing$28=function(t){var e,r=this;if(r.$$autoload){var n=r.$$autoload[t];if(n)return r.$require(n),r.$const_get(t)}return e=r["$=="]($$($nesting,"Object"))?t:r+"::"+t,r.$raise($$($nesting,"NameError").$new("uninitialized constant "+e,t))},$Module_const_missing$28.$$arity=1),Opal.def(self,"$const_set",$Module_const_set$29=function(t,e){var r;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},$Module_const_set$29.$$arity=2),Opal.def(self,"$public_constant",$Module_public_constant$30=function(t){return nil},$Module_public_constant$30.$$arity=1),Opal.def(self,"$define_method",$Module_define_method$31=function(t,e){var r,n,i=$Module_define_method$31.$$p,$=i||nil,s=this,o=nil;i&&($Module_define_method$31.$$p=null),i&&($Module_define_method$31.$$p=null),$truthy(void 0===e&&$===nil)&&s.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block");var a="$"+t;return($=$truthy(r=$)?r:(o=e,$$($nesting,"Proc")["$==="](o)?e:$$($nesting,"Method")["$==="](o)?e.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](o)?$lambda(((n=function(t){var r,i,$=n.$$s||this;return r=Opal.slice.call(arguments,0,arguments.length),i=e.$bind($),$send(i,"call",Opal.to_a(r))}).$$s=s,n.$$arity=-1,n)):s.$raise($$($nesting,"TypeError"),"wrong argument type "+$.$class()+" (expected Proc/Method)"))).$$jsid=t,$.$$s=null,$.$$def=$,$.$$define_meth=!0,Opal.defn(s,a,$),t},$Module_define_method$31.$$arity=-2),Opal.def(self,"$remove_method",$Module_remove_method$33=function(t){for(var e,r=0,n=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<n;r++)Opal.rdef(this,"$"+e[r]);return this},$Module_remove_method$33.$$arity=-1),Opal.def(self,"$singleton_class?",$Module_singleton_class$ques$34=function(){return!!this.$$is_singleton},$Module_singleton_class$ques$34.$$arity=0),Opal.def(self,"$include",$Module_include$35=function(t){for(var e,r=(e=Opal.slice.call(arguments,0,arguments.length)).length-1;r>=0;r--){var n=e[r];n.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+n.$class()+" (expected Module)"),n.$append_features(this),n.$included(this)}return this},$Module_include$35.$$arity=-1),Opal.def(self,"$included_modules",$Module_included_modules$36=function(){return Opal.included_modules(this)},$Module_included_modules$36.$$arity=0),Opal.def(self,"$include?",$Module_include$ques$37=function(t){t.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,r,n,i=Opal.ancestors(this);for(e=0,r=i.length;e<r;e++)if((n=i[e])===t&&n!==this)return!0;return!1},$Module_include$ques$37.$$arity=1),Opal.def(self,"$instance_method",$Module_instance_method$38=function(t){var e=this.$$prototype["$"+t];return e&&!e.$$stub||this.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+this.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(this,e.$$owner||this,e,t)},$Module_instance_method$38.$$arity=1),Opal.def(self,"$instance_methods",$Module_instance_methods$39=function(t){return null==t&&(t=!0),$truthy(t)?Opal.instance_methods(this):Opal.own_instance_methods(this)},$Module_instance_methods$39.$$arity=-1),Opal.def(self,"$included",$Module_included$40=function(t){return nil},$Module_included$40.$$arity=1),Opal.def(self,"$extended",$Module_extended$41=function(t){return nil},$Module_extended$41.$$arity=1),Opal.def(self,"$extend_object",$Module_extend_object$42=function(t){return nil},$Module_extend_object$42.$$arity=1),Opal.def(self,"$method_added",$Module_method_added$43=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_added$43.$$arity=-1),Opal.def(self,"$method_removed",$Module_method_removed$44=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_removed$44.$$arity=-1),Opal.def(self,"$method_undefined",$Module_method_undefined$45=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$Module_method_undefined$45.$$arity=-1),Opal.def(self,"$module_eval",$Module_module_eval$46=function $$module_eval($a){var $iter=$Module_module_eval$46.$$p,block=$iter||nil,$post_args,args,$b,_$$3,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($Module_module_eval$46.$$p=null),$iter&&($Module_module_eval$46.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(_$$3=function $$47(){var self=_$$3.$$s||this;return function(self){return eval(compiled)}(self)},_$$3.$$s=self,_$$3.$$arity=0,_$$3))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},$Module_module_eval$46.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",$Module_module_exec$48=function(t){var e,r=$Module_module_exec$48.$$p,n=r||nil;r&&($Module_module_exec$48.$$p=null),r&&($Module_module_exec$48.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),n===nil&&this.$raise($$($nesting,"LocalJumpError"),"no block given");var i,$=n.$$s;return n.$$s=null,i=n.apply(this,e),n.$$s=$,i},$Module_module_exec$48.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",$Module_method_defined$ques$49=function(t){var e=this.$$prototype["$"+t];return!!e&&!e.$$stub},$Module_method_defined$ques$49.$$arity=1),Opal.def(self,"$module_function",$Module_module_function$50=function(t){var e;if(0===(e=Opal.slice.call(arguments,0,arguments.length)).length)this.$$module_function=!0;else for(var r=0,n=e.length;r<n;r++){var i="$"+e[r],$=this.$$prototype[i];Opal.defs(this,i,$)}return this},$Module_module_function$50.$$arity=-1),Opal.def(self,"$name",$Module_name$51=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},$Module_name$51.$$arity=0),Opal.def(self,"$prepend",$Module_prepend$52=function(t){var e;0===(e=Opal.slice.call(arguments,0,arguments.length)).length&&this.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var r=e.length-1;r>=0;r--){var n=e[r];n.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+n.$class()+" (expected Module)"),n.$prepend_features(this),n.$prepended(this)}return this},$Module_prepend$52.$$arity=-1),Opal.def(self,"$prepend_features",$Module_prepend_features$53=function(t){return this.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+this.$class()+" (expected Module)"),Opal.prepend_features(this,t),this},$Module_prepend_features$53.$$arity=1),Opal.def(self,"$prepended",$Module_prepended$54=function(t){return nil},$Module_prepended$54.$$arity=1),Opal.def(self,"$remove_const",$Module_remove_const$55=function(t){return Opal.const_remove(this,t)},$Module_remove_const$55.$$arity=1),Opal.def(self,"$to_s",$Module_to_s$56=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},$Module_to_s$56.$$arity=0),Opal.def(self,"$undef_method",$Module_undef_method$57=function(t){for(var e,r=0,n=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<n;r++)Opal.udef(this,"$"+e[r]);return this},$Module_undef_method$57.$$arity=-1),Opal.def(self,"$instance_variables",$Module_instance_variables$58=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!t["$include?"](r)&&e.push("@"+r);return e},$Module_instance_variables$58.$$arity=0),Opal.def(self,"$dup",$Module_dup$59=function(){var t,e=$Module_dup$59.$$p,r=nil,n=nil,i=nil;for(e&&($Module_dup$59.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=$send(this,Opal.find_super_dispatcher(this,"dup",$Module_dup$59,!1),n,e)).$copy_class_variables(this),r.$copy_constants(this),r},$Module_dup$59.$$arity=0),Opal.def(self,"$copy_class_variables",$Module_copy_class_variables$60=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},$Module_copy_class_variables$60.$$arity=1),Opal.def(self,"$copy_constants",$Module_copy_constants$61=function(t){var e,r=t.$$const;for(e in r)Opal.const_set(this,e,r[e])},$Module_copy_constants$61.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),s=t.send;return t.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),e.$require("corelib/module"),function(e,r,o){var a,l,c,u,h,_,d,p=$(e,null,"Class"),f=[p].concat(o);return t.defs(p,"$new",a=function(e){var r=a.$$p,$=r||n;if(r&&(a.$$p=null),r&&(a.$$p=null),null==e&&(e=i(f,"Object")),!e.$$is_class)throw t.TypeError.$new("superclass must be a Class");var o=t.allocate_class(n,e);return e.$inherited(o),$!==n&&s(o,"class_eval",[],$.$to_proc()),o},a.$$arity=-1),t.def(p,"$allocate",l=function(){var e=new this.$$constructor;return e.$$id=t.uid(),e},l.$$arity=0),t.def(p,"$inherited",c=function(t){return n},c.$$arity=1),t.def(p,"$initialize_dup",u=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},u.$$arity=1),t.def(p,"$new",h=function(e){var r,i=h.$$p,$=i||n;i&&(h.$$p=null),i&&(h.$$p=null),r=t.slice.call(arguments,0,arguments.length);var s=this.$allocate();return t.send(s,s.$initialize,r,$),s},h.$$arity=-1),t.def(p,"$superclass",_=function(){return this.$$super||n},_.$$arity=0),t.def(p,"$to_s",d=function(){var e=d.$$p;e&&(d.$$p=null);var r=this.$$singleton_of;return r&&r.$$is_a_module?"#<Class:"+r.$name()+">":r?"#<Class:#<"+r.$$class.$name()+":0x"+t.id(r).$to_s(16)+">>":s(this,t.find_super_dispatcher(this,"to_s",d,!1),[],null)},d.$$arity=0),n&&"to_s"}(r[0],0,r)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){var self=$klass($base,$super,"BasicObject"),$nesting=[self].concat($parent_nesting),$BasicObject_initialize$1,$BasicObject_$eq_eq$2,$BasicObject_eql$ques$3,$BasicObject___id__$4,$BasicObject___send__$5,$BasicObject_$excl$6,$BasicObject_$not_eq$7,$BasicObject_instance_eval$8,$BasicObject_instance_exec$10,$BasicObject_singleton_method_added$11,$BasicObject_singleton_method_removed$12,$BasicObject_singleton_method_undefined$13,$BasicObject_class$14,$BasicObject_method_missing$15;return Opal.def(self,"$initialize",$BasicObject_initialize$1=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_initialize$1.$$arity=-1),Opal.def(self,"$==",$BasicObject_$eq_eq$2=function(t){return this===t},$BasicObject_$eq_eq$2.$$arity=1),Opal.def(self,"$eql?",$BasicObject_eql$ques$3=function(t){return this["$=="](t)},$BasicObject_eql$ques$3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",$BasicObject___id__$4=function(){return null!=this.$$id?this.$$id:(Opal.defineProperty(this,"$$id",Opal.uid()),this.$$id)},$BasicObject___id__$4.$$arity=0),Opal.def(self,"$__send__",$BasicObject___send__$5=function(t,e){var r,n=$BasicObject___send__$5.$$p,i=n||nil;n&&($BasicObject___send__$5.$$p=null),n&&($BasicObject___send__$5.$$p=null),r=Opal.slice.call(arguments,1,arguments.length);var $=this["$"+t];return $?(i!==nil&&($.$$p=i),$.apply(this,r)):(i!==nil&&(this.$method_missing.$$p=i),this.$method_missing.apply(this,[t].concat(r)))},$BasicObject___send__$5.$$arity=-2),Opal.def(self,"$!",$BasicObject_$excl$6=function(){return!1},$BasicObject_$excl$6.$$arity=0),Opal.def(self,"$!=",$BasicObject_$not_eq$7=function(t){return this["$=="](t)["$!"]()},$BasicObject_$not_eq$7.$$arity=1),Opal.def(self,"$instance_eval",$BasicObject_instance_eval$8=function $$instance_eval($a){var $iter=$BasicObject_instance_eval$8.$$p,block=$iter||nil,$post_args,args,$b,_$$4,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&($BasicObject_instance_eval$8.$$p=null),$iter&&($BasicObject_instance_eval$8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(_$$4=function $$9(){var self=_$$4.$$s||this;return function(self){return eval(compiled)}(self)},_$$4.$$s=self,_$$4.$$arity=0,_$$4))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},$BasicObject_instance_eval$8.$$arity=-1),Opal.def(self,"$instance_exec",$BasicObject_instance_exec$10=function(t){var e,r=$BasicObject_instance_exec$10.$$p,n=r||nil;r&&($BasicObject_instance_exec$10.$$p=null),r&&($BasicObject_instance_exec$10.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),$truthy(n)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var i,$=n.$$s;if(n.$$s=null,this.$$is_a_module){this.$$eval=!0;try{i=n.apply(this,e)}finally{this.$$eval=!1}}else i=n.apply(this,e);return n.$$s=$,i},$BasicObject_instance_exec$10.$$arity=-1),Opal.def(self,"$singleton_method_added",$BasicObject_singleton_method_added$11=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_added$11.$$arity=-1),Opal.def(self,"$singleton_method_removed",$BasicObject_singleton_method_removed$12=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_removed$12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",$BasicObject_singleton_method_undefined$13=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},$BasicObject_singleton_method_undefined$13.$$arity=-1),Opal.def(self,"$class",$BasicObject_class$14=function(){return this.$$class},$BasicObject_class$14.$$arity=0),Opal.def(self,"$method_missing",$BasicObject_method_missing$15=function(t,e){var r,n=$BasicObject_method_missing$15.$$p,i=this;return n&&($BasicObject_method_missing$15.$$p=null),n&&($BasicObject_method_missing$15.$$p=null),Opal.slice.call(arguments,1,arguments.length),r=$truthy(i.$inspect&&!i.$inspect.$$stub)?"undefined method `"+t+"' for "+i.$inspect()+":"+i.$$class:"undefined method `"+t+"' for "+i.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(r,t))},$BasicObject_method_missing$15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.module),s=t.truthy,o=t.gvars,a=t.hash2,l=t.send,c=t.klass;return t.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$__id__","$to_s","$instance_variable_name!","$respond_to?","$to_int","$coerce_to!","$Integer","$nil?","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$length","$[]","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(e,c){var u,h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct,ut,ht,_t,dt,pt,ft,mt,yt,gt,bt,vt,xt=$(e,"Kernel"),wt=[xt].concat(c);t.def(xt,"$method_missing",u=function(e,r){var n,$=u.$$p;return $&&(u.$$p=null),$&&(u.$$p=null),n=t.slice.call(arguments,1,arguments.length),this.$raise(i(wt,"NoMethodError").$new("undefined method `"+e+"' for "+this.$inspect(),e,n))},u.$$arity=-2),t.def(xt,"$=~",h=function(t){return!1},h.$$arity=1),t.def(xt,"$!~",_=function(t){return this["$=~"](t)["$!"]()},_.$$arity=1),t.def(xt,"$===",d=function(t){var e;return s(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},d.$$arity=1),t.def(xt,"$<=>",p=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==r?0:r},p.$$arity=1),t.def(xt,"$method",f=function(t){var e=this["$"+t];return e&&!e.$$stub||this.$raise(i(wt,"NameError").$new("undefined method `"+t+"' for class `"+this.$class()+"'",t)),i(wt,"Method").$new(this,e.$$owner||this.$class(),e,t)},f.$$arity=1),t.def(xt,"$methods",m=function(e){return null==e&&(e=!0),s(e)?t.methods(this):t.own_methods(this)},m.$$arity=-1),t.def(xt,"$public_methods",y=function(e){return null==e&&(e=!0),s(e)?t.methods(this):t.receiver_methods(this)},y.$$arity=-1),t.def(xt,"$Array",g=function(t){var e;return t===r?[]:t.$$is_array?t:(e=i(wt,"Opal")["$coerce_to?"](t,i(wt,"Array"),"to_ary"))!==r?e:(e=i(wt,"Opal")["$coerce_to?"](t,i(wt,"Array"),"to_a"))!==r?e:[t]},g.$$arity=1),t.def(xt,"$at_exit",b=function(){var t,e=b.$$p,n=e||r;return null==o.__at_exit__&&(o.__at_exit__=r),e&&(b.$$p=null),e&&(b.$$p=null),o.__at_exit__=s(t=o.__at_exit__)?t:[],o.__at_exit__["$<<"](n)},b.$$arity=0),t.def(xt,"$caller",v=function(e){return t.slice.call(arguments,0,arguments.length),[]},v.$$arity=-1),t.def(xt,"$class",x=function(){return this.$$class},x.$$arity=0),t.def(xt,"$copy_instance_variables",w=function(t){var e,r,n,i=Object.keys(t);for(e=0,r=i.length;e<r;e++)"$"!==(n=i[e]).charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},w.$$arity=1),t.def(xt,"$copy_singleton_methods",k=function(e){var r,n,i,$;if(e.hasOwnProperty("$$meta")){var s=t.get_singleton_class(e),o=t.get_singleton_class(this);for(r=0,$=(i=Object.getOwnPropertyNames(s.$$prototype)).length;r<$;r++)n=i[r],t.is_method(n)&&(o.$$prototype[n]=s.$$prototype[n]);o.$$const=Object.assign({},s.$$const),Object.setPrototypeOf(o.$$prototype,Object.getPrototypeOf(s.$$prototype))}for(r=0,$=(i=Object.getOwnPropertyNames(e)).length;r<$;r++)"$"===(n=i[r]).charAt(0)&&"$"!==n.charAt(1)&&e.hasOwnProperty(n)&&(this[n]=e[n])},k.$$arity=1),t.def(xt,"$clone",E=function(e){var n=r;if(null==e)e=a([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,(n=this.$class().$allocate()).$copy_instance_variables(this),n.$copy_singleton_methods(this),n.$initialize_clone(this),n},E.$$arity=-1),t.def(xt,"$initialize_clone",A=function(t){return this.$initialize_copy(t)},A.$$arity=1),t.def(xt,"$define_singleton_method",O=function(t,e){var n=O.$$p,i=n||r;return n&&(O.$$p=null),n&&(O.$$p=null),l(this.$singleton_class(),"define_method",[t,e],i.$to_proc())},O.$$arity=-2),t.def(xt,"$dup",S=function(){var t=r;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},S.$$arity=0),t.def(xt,"$initialize_dup",R=function(t){return this.$initialize_copy(t)},R.$$arity=1),t.def(xt,"$enum_for",C=function(e,n){var $,s,o,a=C.$$p,c=a||r,u=this;return a&&(C.$$p=null),a&&(C.$$p=null),($=t.slice.call(arguments,0,arguments.length)).length>0&&(s=$[0],$.splice(0,1)),null==s&&(s="each"),o=$,l(i(wt,"Enumerator"),"for",[u,s].concat(t.to_a(o)),c.$to_proc())},C.$$arity=-1),t.alias(xt,"to_enum","enum_for"),t.def(xt,"$equal?",I=function(t){return this===t},I.$$arity=1),t.def(xt,"$exit",T=function(e){var n;for(null==o.__at_exit__&&(o.__at_exit__=r),null==e&&(e=!0),o.__at_exit__=s(n=o.__at_exit__)?n:[];!s(o.__at_exit__["$empty?"]());)o.__at_exit__.$pop().$call();return e=e.$$is_boolean?e?0:1:i(wt,"Opal").$coerce_to(e,i(wt,"Integer"),"to_int"),t.exit(e),r},T.$$arity=-1),t.def(xt,"$extend",L=function(e){var r;r=t.slice.call(arguments,0,arguments.length);for(var n=this.$singleton_class(),$=r.length-1;$>=0;$--){var s=r[$];s.$$is_module||this.$raise(i(wt,"TypeError"),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features(n),s.$extend_object(this),s.$extended(this)}return this},L.$$arity=-1),t.def(xt,"$hash",N=function(){return this.$__id__()},N.$$arity=0),t.def(xt,"$initialize_copy",D=function(t){return r},D.$$arity=1),t.def(xt,"$inspect",B=function(){return this.$to_s()},B.$$arity=0),t.def(xt,"$instance_of?",M=function(t){return t.$$is_class||t.$$is_module||this.$raise(i(wt,"TypeError"),"class or module required"),this.$$class===t},M.$$arity=1),t.def(xt,"$instance_variable_defined?",F=function(e){return e=i(wt,"Opal")["$instance_variable_name!"](e),t.hasOwnProperty.call(this,e.substr(1))},F.$$arity=1),t.def(xt,"$instance_variable_get",z=function(e){e=i(wt,"Opal")["$instance_variable_name!"](e);var n=this[t.ivar(e.substr(1))];return null==n?r:n},z.$$arity=1),t.def(xt,"$instance_variable_set",P=function(e,r){return e=i(wt,"Opal")["$instance_variable_name!"](e),this[t.ivar(e.substr(1))]=r},P.$$arity=2),t.def(xt,"$remove_instance_variable",j=function(e){e=i(wt,"Opal")["$instance_variable_name!"](e);var r,n=t.ivar(e.substr(1));return this.hasOwnProperty(n)?(r=this[n],delete this[n],r):this.$raise(i(wt,"NameError"),"instance variable "+e+" not defined")},j.$$arity=1),t.def(xt,"$instance_variables",q=function(){var t,e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,e.push("@"+t));return e},q.$$arity=0),t.def(xt,"$Integer",U=function(t,e){var n,$,s,o=this;return t.$$is_string?"0"===t?0:(void 0===e?e=0:(1===(e=i(wt,"Opal").$coerce_to(e,i(wt,"Integer"),"to_int"))||e<0||e>36)&&o.$raise(i(wt,"ArgumentError"),"invalid radix "+e),$=($=($=t.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(r,n,$){switch($){case"0b":if(0===e||2===e)return e=2,n;case"0":case"0o":if(0===e||8===e)return e=8,n;case"0d":if(0===e||10===e)return e=10,n;case"0x":if(0===e||16===e)return e=16,n}o.$raise(i(wt,"ArgumentError"),'invalid value for Integer(): "'+t+'"')}),s="0-"+((e=0===e?10:e)<=10?e-1:"9a-"+String.fromCharCode(e-11+97)),new RegExp("^\\s*[+-]?["+s+"]+\\s*$").test($)||o.$raise(i(wt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),n=parseInt($,e),isNaN(n)&&o.$raise(i(wt,"ArgumentError"),'invalid value for Integer(): "'+t+'"'),n):(void 0!==e&&o.$raise(i(wt,"ArgumentError"),"base specified for non string value"),t===r&&o.$raise(i(wt,"TypeError"),"can't convert nil into Integer"),t.$$is_number?((t===1/0||t===-1/0||isNaN(t))&&o.$raise(i(wt,"FloatDomainError"),t),Math.floor(t)):t["$respond_to?"]("to_int")&&(n=t.$to_int())!==r?n:i(wt,"Opal")["$coerce_to!"](t,i(wt,"Integer"),"to_i"))},U.$$arity=-2),t.def(xt,"$Float",H=function(t){var e;return t===r&&this.$raise(i(wt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(i(wt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):i(wt,"Opal")["$coerce_to!"](t,i(wt,"Float"),"to_f")},H.$$arity=1),t.def(xt,"$Hash",Y=function(t){var e;return s(s(e=t["$nil?"]())?e:t["$=="]([]))?a([],{}):s(i(wt,"Hash")["$==="](t))?t:i(wt,"Opal")["$coerce_to!"](t,i(wt,"Hash"),"to_hash")},Y.$$arity=1),t.def(xt,"$is_a?",G=function(e){return e.$$is_class||e.$$is_module||this.$raise(i(wt,"TypeError"),"class or module required"),t.is_a(this,e)},G.$$arity=1),t.def(xt,"$itself",W=function(){return this},W.$$arity=0),t.alias(xt,"kind_of?","is_a?"),t.def(xt,"$lambda",K=function(){var e=K.$$p,n=e||r;return e&&(K.$$p=null),e&&(K.$$p=null),t.lambda(n)},K.$$arity=0),t.def(xt,"$load",X=function(e){return e=i(wt,"Opal")["$coerce_to!"](e,i(wt,"String"),"to_str"),t.load(e)},X.$$arity=1),t.def(xt,"$loop",V=function(){var e,$=V.$$p,o=$||r,a=r;if($&&(V.$$p=null),o===r)return l(this,"enum_for",["loop"],((e=function(){e.$$s;return n(i(wt,"Float"),"INFINITY")}).$$s=this,e.$$arity=0,e));for(;s(!0);)try{t.yieldX(o,[])}catch(e){if(!t.rescue(e,[i(wt,"StopIteration")]))throw e;a=e;try{return a.$result()}finally{t.pop_exception()}}return this},V.$$arity=0),t.def(xt,"$nil?",J=function(){return!1},J.$$arity=0),t.alias(xt,"object_id","__id__"),t.def(xt,"$printf",Z=function(e){var n,i;return n=t.slice.call(arguments,0,arguments.length),s((i=n)["$any?"]())&&this.$print(l(this,"format",t.to_a(i))),r},Z.$$arity=-1),t.def(xt,"$proc",Q=function(){var t=Q.$$p,e=t||r;return t&&(Q.$$p=null),t&&(Q.$$p=null),s(e)||this.$raise(i(wt,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},Q.$$arity=0),t.def(xt,"$puts",tt=function(e){var n;return null==o.stdout&&(o.stdout=r),n=t.slice.call(arguments,0,arguments.length),l(o.stdout,"puts",t.to_a(n))},tt.$$arity=-1),t.def(xt,"$p",et=function(e){var n,i,$,a,c;return n=t.slice.call(arguments,0,arguments.length),l(i=n,"each",[],(($=function(t){$.$$s;return null==o.stdout&&(o.stdout=r),null==t&&(t=r),o.stdout.$puts(t.$inspect())}).$$s=this,$.$$arity=1,$)),s((a=i.$length(),c=1,"number"==typeof a&&"number"==typeof c?a<=c:a["$<="](c)))?i["$[]"](0):i},et.$$arity=-1),t.def(xt,"$print",rt=function(e){var n;return null==o.stdout&&(o.stdout=r),n=t.slice.call(arguments,0,arguments.length),l(o.stdout,"print",t.to_a(n))},rt.$$arity=-1),t.def(xt,"$warn",nt=function(e){var n,i;return null==o.VERBOSE&&(o.VERBOSE=r),null==o.stderr&&(o.stderr=r),n=t.slice.call(arguments,0,arguments.length),s(s(i=o.VERBOSE["$nil?"]())?i:n["$empty?"]())?r:l(o.stderr,"puts",t.to_a(n))},nt.$$arity=-1),t.def(xt,"$raise",it=function(e,n,$){if(null==o["!"]&&(o["!"]=r),null==n&&(n=r),null==$&&($=r),null==e&&o["!"]!==r)throw o["!"];throw null==e?e=i(wt,"RuntimeError").$new():e.$$is_string?e=i(wt,"RuntimeError").$new(e):e.$$is_class&&e["$respond_to?"]("exception")?e=e.$exception(n):e["$is_a?"](i(wt,"Exception"))||(e=i(wt,"TypeError").$new("exception class/object expected")),o["!"]!==r&&t.exceptions.push(o["!"]),o["!"]=e,e},it.$$arity=-1),t.alias(xt,"fail","raise"),t.def(xt,"$rand",$t=function(t){return void 0===t?n(i(wt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),n(i(wt,"Random"),"DEFAULT").$rand(t))},$t.$$arity=-1),t.def(xt,"$respond_to?",st=function(t,e){if(null==e&&(e=!1),s(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},st.$$arity=-2),t.def(xt,"$respond_to_missing?",ot=function(t,e){return null==e&&(e=!1),!1},ot.$$arity=-2),t.def(xt,"$require",at=function(e){return e=i(wt,"Opal")["$coerce_to!"](e,i(wt,"String"),"to_str"),t.require(e)},at.$$arity=1),t.def(xt,"$require_relative",lt=function(e){return i(wt,"Opal")["$try_convert!"](e,i(wt,"String"),"to_str"),e=i(wt,"File").$expand_path(i(wt,"File").$join(t.current_file,"..",e)),t.require(e)},lt.$$arity=1),t.def(xt,"$require_tree",ct=function(e){var r=[];for(var n in e=i(wt,"File").$expand_path(e),"."===(e=t.normalize(e))&&(e=""),t.modules)n["$start_with?"](e)&&r.push([n,t.require(n)]);return r},ct.$$arity=1),t.alias(xt,"send","__send__"),t.alias(xt,"public_send","__send__"),t.def(xt,"$singleton_class",ut=function(){return t.get_singleton_class(this)},ut.$$arity=0),t.def(xt,"$sleep",ht=function(e){null==e&&(e=r),e===r&&this.$raise(i(wt,"TypeError"),"can't convert NilClass into time interval"),e.$$is_number||this.$raise(i(wt,"TypeError"),"can't convert "+e.$class()+" into time interval"),e<0&&this.$raise(i(wt,"ArgumentError"),"time interval must be positive");for(var n=t.global.performance?function(){return performance.now()}:function(){return new Date},$=n();n()-$<=1e3*e;);return e},ht.$$arity=-1),t.def(xt,"$srand",_t=function(t){return null==t&&(t=i(wt,"Random").$new_seed()),i(wt,"Random").$srand(t)},_t.$$arity=-1),t.def(xt,"$String",dt=function(t){var e;return s(e=i(wt,"Opal")["$coerce_to?"](t,i(wt,"String"),"to_str"))?e:i(wt,"Opal")["$coerce_to!"](t,i(wt,"String"),"to_s")},dt.$$arity=1),t.def(xt,"$tap",pt=function(){var e=pt.$$p,n=e||r;return e&&(pt.$$p=null),e&&(pt.$$p=null),t.yield1(n,this),this},pt.$$arity=0),t.def(xt,"$to_proc",ft=function(){return this},ft.$$arity=0),t.def(xt,"$to_s",mt=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},mt.$$arity=0),t.def(xt,"$catch",yt=function(e){var n=yt.$$p,$=n||r,s=r;n&&(yt.$$p=null);try{return t.yieldX($,[])}catch(r){if(!t.rescue(r,[i(wt,"UncaughtThrowError")]))throw r;s=r;try{return s.$sym()["$=="](e)?s.$arg():this.$raise()}finally{t.pop_exception()}}},yt.$$arity=1),t.def(xt,"$throw",gt=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),this.$raise(i(wt,"UncaughtThrowError"),r)},gt.$$arity=-1),t.def(xt,"$open",bt=function(e){var n,$=bt.$$p,s=$||r;return $&&(bt.$$p=null),$&&(bt.$$p=null),n=t.slice.call(arguments,0,arguments.length),l(i(wt,"File"),"open",t.to_a(n),s.$to_proc())},bt.$$arity=-1),t.def(xt,"$yield_self",vt=function(){var e,n=vt.$$p,i=n||r;return n&&(vt.$$p=null),i===r?l(this,"enum_for",["yield_self"],((e=function(){e.$$s;return 1}).$$s=this,e.$$arity=0,e)):t.yield1(i,this)},vt.$$arity=0)}(e[0],e),function(t,e,r){var n=c(t,null,"Object"),$=[n].concat(r);return n.$include(i($,"Kernel"))}(e[0],0,e)},Opal.modules["corelib/error"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.send,s=t.truthy,o=t.module,a=t.hash2;return t.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(e,o,a){var l,c,u,h,_,d,p,f,m,y,g=i(e,o,"Exception"),b=[g].concat(a);g.$$prototype.message=r,t.defs(g,"$new",l=function(e){var n,i=(n=t.slice.call(arguments,0,arguments.length)).length>0?n[0]:r,$=new this.$$constructor(i);return $.name=this.$$name,$.message=i,t.send($,$.$initialize,n),t.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace($,y),$},l.$$arity=-1),y=g.$new,t.defs(g,"$exception",c=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),$(this,"new",t.to_a(r))},c.$$arity=-1),t.def(g,"$initialize",u=function(e){var n;return n=t.slice.call(arguments,0,arguments.length),this.message=n.length>0?n[0]:r},u.$$arity=-1),t.def(g,"$backtrace",h=function(){if(this.backtrace)return this.backtrace;var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},h.$$arity=0),t.def(g,"$exception",_=function(t){if(null==t&&(t=r),t===r||this===t)return this;var e=this.$clone();return e.message=t,e},_.$$arity=-1),t.def(g,"$message",d=function(){return this.$to_s()},d.$$arity=0),t.def(g,"$inspect",p=function(){var t=r;return t=this.$to_s(),s(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},p.$$arity=0),t.def(g,"$set_backtrace",f=function(t){var e,i,$=!0;if(t===r)this.backtrace=r;else if(t.$$is_string)this.backtrace=[t];else{if(t.$$is_array){for(e=0,i=t.length;e<i;e++)if(!t[e].$$is_string){$=!1;break}}else $=!1;!1===$&&this.$raise(n(b,"TypeError"),"backtrace must be Array of String"),this.backtrace=t}return t},f.$$arity=1),t.def(g,"$to_s",m=function(){var t,e;return s(t=s(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},m.$$arity=0)}(e[0],Error,e),function(t,e,r){[i(t,e,"ScriptError")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"SyntaxError")].concat(r)}(e[0],n(e,"ScriptError"),e),function(t,e,r){[i(t,e,"LoadError")].concat(r)}(e[0],n(e,"ScriptError"),e),function(t,e,r){[i(t,e,"NotImplementedError")].concat(r)}(e[0],n(e,"ScriptError"),e),function(t,e,r){[i(t,e,"SystemExit")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"NoMemoryError")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"SignalException")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"Interrupt")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"SecurityError")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"StandardError")].concat(r)}(e[0],n(e,"Exception"),e),function(t,e,r){[i(t,e,"EncodingError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"ZeroDivisionError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"NameError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"NoMethodError")].concat(r)}(e[0],n(e,"NameError"),e),function(t,e,r){[i(t,e,"RuntimeError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"FrozenError")].concat(r)}(e[0],n(e,"RuntimeError"),e),function(t,e,r){[i(t,e,"LocalJumpError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"TypeError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"ArgumentError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"IndexError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"StopIteration")].concat(r)}(e[0],n(e,"IndexError"),e),function(t,e,r){[i(t,e,"KeyError")].concat(r)}(e[0],n(e,"IndexError"),e),function(t,e,r){[i(t,e,"RangeError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"FloatDomainError")].concat(r)}(e[0],n(e,"RangeError"),e),function(t,e,r){[i(t,e,"IOError")].concat(r)}(e[0],n(e,"StandardError"),e),function(t,e,r){[i(t,e,"SystemCallError")].concat(r)}(e[0],n(e,"StandardError"),e),function(e,a){var l=[o(e,"Errno")].concat(a);!function(e,n,o){var a,l=i(e,n,"EINVAL");[l].concat(o);t.defs(l,"$new",a=function(e){var n,i,o=a.$$p,l=r;return o&&(a.$$p=null),null==e&&(e=r),l="Invalid argument",s(e)&&(i=" - "+e,l="number"==typeof(n=l)&&"number"==typeof i?n+i:n["$+"](i)),$(this,t.find_super_dispatcher(this,"new",a,!1,this.$$class.$$prototype),[l],null)},a.$$arity=-1)}(l[0],n(l,"SystemCallError"),l)}(e[0],e),function(e,n,o){var a,l=i(e,n,"UncaughtThrowError");[l].concat(o);l.$$prototype.sym=r,l.$attr_reader("sym","arg"),t.def(l,"$initialize",a=function(e){var r,n,i=a.$$p;return i&&(a.$$p=null),this.sym=e["$[]"](0),s((r=e.$length(),n=1,"number"==typeof r&&"number"==typeof n?r>n:r["$>"](n)))&&(this.arg=e["$[]"](1)),$(this,t.find_super_dispatcher(this,"initialize",a,!1),["uncaught throw "+this.sym.$inspect()],null)},a.$$arity=1)}(e[0],n(e,"ArgumentError"),e),function(e,n,s){var o,a=i(e,null,"NameError");[a].concat(s);a.$attr_reader("name"),t.def(a,"$initialize",o=function(e,n){var i=o.$$p;return i&&(o.$$p=null),null==n&&(n=r),$(this,t.find_super_dispatcher(this,"initialize",o,!1),[e],null),this.name=n},o.$$arity=-2)}(e[0],0,e),function(e,n,s){var o,a=i(e,null,"NoMethodError");[a].concat(s);a.$attr_reader("args"),t.def(a,"$initialize",o=function(e,n,i){var s=o.$$p;return s&&(o.$$p=null),null==n&&(n=r),null==i&&(i=[]),$(this,t.find_super_dispatcher(this,"initialize",o,!1),[e,n],null),this.args=i},o.$$arity=-2)}(e[0],0,e),function(t,e,r){var n=i(t,null,"StopIteration");[n].concat(r);n.$attr_reader("result")}(e[0],0,e),function(e,o,l){var c,u,h,_=i(e,null,"KeyError"),d=[_].concat(l);_.$$prototype.receiver=_.$$prototype.key=r,t.def(_,"$initialize",c=function(e,n){var i,s,o=c.$$p;if(o&&(c.$$p=null),null==n)n=a([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(i=n.$$smap.receiver)&&(i=r),null==(s=n.$$smap.key)&&(s=r),$(this,t.find_super_dispatcher(this,"initialize",c,!1),[e],null),this.receiver=i,this.key=s},c.$$arity=-2),t.def(_,"$receiver",u=function(){var t;return s(t=this.receiver)?t:this.$raise(n(d,"ArgumentError"),"no receiver is available")},u.$$arity=0),t.def(_,"$key",h=function(){var t;return s(t=this.key)?t:this.$raise(n(d,"ArgumentError"),"no key is available")},h.$$arity=0)}(e[0],0,e),function(t,e){var r=[o(t,"JS")].concat(e);!function(t,e,r){[i(t,null,"Error")].concat(r)}(r[0],0,r)}(e[0],e)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.1"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-12-25"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.hash2,s=t.truthy;return t.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(e,o,a){var l,c,u,h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O=i(e,null,"NilClass"),S=[O].concat(a);O.$$prototype.$$meta=O,function(e,r){var i,$=[e].concat(r);t.def(e,"$allocate",i=function(){return this.$raise(n($,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(O),S),t.def(O,"$!",l=function(){return!0},l.$$arity=0),t.def(O,"$&",c=function(t){return!1},c.$$arity=1),t.def(O,"$|",u=function(t){return!1!==t&&t!==r},u.$$arity=1),t.def(O,"$^",h=function(t){return!1!==t&&t!==r},h.$$arity=1),t.def(O,"$==",_=function(t){return t===r},_.$$arity=1),t.def(O,"$dup",d=function(){return r},d.$$arity=0),t.def(O,"$clone",p=function(e){if(null==e)e=$([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,r},p.$$arity=-1),t.def(O,"$inspect",f=function(){return"nil"},f.$$arity=0),t.def(O,"$nil?",m=function(){return!0},m.$$arity=0),t.def(O,"$singleton_class",y=function(){return n(S,"NilClass")},y.$$arity=0),t.def(O,"$to_a",g=function(){return[]},g.$$arity=0),t.def(O,"$to_h",b=function(){return t.hash()},b.$$arity=0),t.def(O,"$to_i",v=function(){return 0},v.$$arity=0),t.alias(O,"to_f","to_i"),t.def(O,"$to_s",x=function(){return""},x.$$arity=0),t.def(O,"$to_c",w=function(){return n(S,"Complex").$new(0,0)},w.$$arity=0),t.def(O,"$rationalize",k=function(e){var r,i,$;return r=t.slice.call(arguments,0,arguments.length),s((i=r.$length(),$=1,"number"==typeof i&&"number"==typeof $?i>$:i["$>"]($)))&&this.$raise(n(S,"ArgumentError")),this.$Rational(0,1)},k.$$arity=-1),t.def(O,"$to_r",E=function(){return this.$Rational(0,1)},E.$$arity=0),t.def(O,"$instance_variables",A=function(){return[]},A.$$arity=0)}(e[0],0,e),t.const_set(e[0],"NIL",r)},Opal.modules["corelib/boolean"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.hash2;return t.add_stubs(["$raise","$name"]),function(e,s,o){var a,l,c,u,h,_,d,p,f,m,y=i(e,s,"Boolean"),g=[y].concat(o);t.defineProperty(y.$$prototype,"$$is_boolean",!0),t.defineProperty(y.$$prototype,"$$meta",y),function(e,r){var i,$=[e].concat(r);t.def(e,"$allocate",i=function(){return this.$raise(n($,"TypeError"),"allocator undefined for "+this.$name())},i.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(y),g),t.def(y,"$__id__",a=function(){return this.valueOf()?2:0},a.$$arity=0),t.alias(y,"object_id","__id__"),t.def(y,"$!",l=function(){return 1!=this},l.$$arity=0),t.def(y,"$&",c=function(t){return 1==this&&(!1!==t&&t!==r)},c.$$arity=1),t.def(y,"$|",u=function(t){return 1==this||!1!==t&&t!==r},u.$$arity=1),t.def(y,"$^",h=function(t){return 1==this?!1===t||t===r:!1!==t&&t!==r},h.$$arity=1),t.def(y,"$==",_=function(t){return 1==this===t.valueOf()},_.$$arity=1),t.alias(y,"equal?","=="),t.alias(y,"eql?","=="),t.def(y,"$singleton_class",d=function(){return n(g,"Boolean")},d.$$arity=0),t.def(y,"$to_s",p=function(){return 1==this?"true":"false"},p.$$arity=0),t.def(y,"$dup",f=function(){return this},f.$$arity=0),t.def(y,"$clone",m=function(e){if(null==e)e=$([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},m.$$arity=-1)}(e[0],Boolean,e),t.const_set(e[0],"TrueClass",n(e,"Boolean")),t.const_set(e[0],"FalseClass",n(e,"Boolean")),t.const_set(e[0],"TRUE",!0),t.const_set(e[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],i=t.nil,$=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.module),o=t.truthy;return t.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(n,a){var l,c,u,h,_,d,p,f,m=s(n,"Comparable"),y=[m].concat(a);t.defs(m,"$normalize",l=function(t){return o($(y,"Integer")["$==="](t))?t:o(e(t,0))?1:o(r(t,0))?-1:0},l.$$arity=1),t.def(m,"$==",c=function(e){var r=i;try{return!!o(this["$equal?"](e))||this["$<=>"]!=t.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!o(r=this["$<=>"](e))&&0==$(y,"Comparable").$normalize(r))}catch(e){if(!t.rescue(e,[$(y,"StandardError")]))throw e;try{return!1}finally{t.pop_exception()}}},c.$$arity=1),t.def(m,"$>",u=function(t){var e;return o(e=this["$<=>"](t))||this.$raise($(y,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),$(y,"Comparable").$normalize(e)>0},u.$$arity=1),t.def(m,"$>=",h=function(t){var e;return o(e=this["$<=>"](t))||this.$raise($(y,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),$(y,"Comparable").$normalize(e)>=0},h.$$arity=1),t.def(m,"$<",_=function(t){var e;return o(e=this["$<=>"](t))||this.$raise($(y,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),$(y,"Comparable").$normalize(e)<0},_.$$arity=1),t.def(m,"$<=",d=function(t){var e;return o(e=this["$<=>"](t))||this.$raise($(y,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),$(y,"Comparable").$normalize(e)<=0},d.$$arity=1),t.def(m,"$between?",p=function(t,n){return!r(this,t)&&!e(this,n)},p.$$arity=2),t.def(m,"$clamp",f=function(t,n){var i;return i=t["$<=>"](n),o(i)||this.$raise($(y,"ArgumentError"),"comparison of "+t.$class()+" with "+n.$class()+" failed"),o(e($(y,"Comparable").$normalize(i),0))&&this.$raise($(y,"ArgumentError"),"min argument must be smaller than max argument"),o(r($(y,"Comparable").$normalize(this["$<=>"](t)),0))?t:o(e($(y,"Comparable").$normalize(this["$<=>"](n)),0))?n:this},f.$$arity=2)}(n[0],n)},Opal.modules["corelib/regexp"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.send,s=t.truthy,o=t.gvars;return t.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,r){[i(t,e,"RegexpError")].concat(r)}(e[0],n(e,"StandardError"),e),function(e,a,l){var c,u,h,_,d,p,f,m,y,g,b=i(e,a,"Regexp"),v=[b].concat(l);t.const_set(v[0],"IGNORECASE",1),t.const_set(v[0],"EXTENDED",2),t.const_set(v[0],"MULTILINE",4),t.defineProperty(b.$$prototype,"$$is_regexp",!0),function(e,i){var a,l,c,u,h,_=[e].concat(i);t.def(e,"$allocate",a=function(){var e,n=a.$$p,i=r,s=r,o=r;for(n&&(a.$$p=null),o=0,e=arguments.length,s=new Array(e);o<e;o++)s[o]=arguments[o];return(i=$(this,t.find_super_dispatcher(this,"allocate",a,!1),s,n)).uninitialized=!0,i},a.$$arity=0),t.def(e,"$escape",l=function(e){return t.escape_regexp(e)},l.$$arity=1),t.def(e,"$last_match",c=function(t){return null==o["~"]&&(o["~"]=r),null==t&&(t=r),s(t["$nil?"]())?o["~"]:o["~"]["$[]"](t)},c.$$arity=-1),t.alias(e,"quote","escape"),t.def(e,"$union",u=function(e){var r,i,$,s,o,a;if(0==(r=t.slice.call(arguments,0,arguments.length)).length)return/(?!)/;if(1==r.length&&r[0].$$is_regexp)return r[0];i=r[0].$$is_array,r.length>1&&i&&this.$raise(n(_,"TypeError"),"no implicit conversion of Array into String"),i&&(r=r[0]),o=void 0,$=[];for(var l=0;l<r.length;l++)(s=r[l]).$$is_string?$.push(this.$escape(s)):s.$$is_regexp?(a=s.$options(),null!=o&&o!=a&&this.$raise(n(_,"TypeError"),"All expressions must use the same options"),o=a,$.push("("+s.source+")")):$.push(this.$escape(s.$to_str()));return this.$new($.$join("|"),o)},u.$$arity=-1),t.def(e,"$new",h=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=n(_,"Opal")["$coerce_to!"](t,n(_,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(n(_,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";n(_,"IGNORECASE")&e&&(r+="i"),n(_,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},h.$$arity=-2)}(t.get_singleton_class(b),v),t.def(b,"$==",c=function(t){return t instanceof RegExp&&this.toString()===t.toString()},c.$$arity=1),t.def(b,"$===",u=function(t){return this.$match(n(v,"Opal")["$coerce_to?"](t,n(v,"String"),"to_str"))!==r},u.$$arity=1),t.def(b,"$=~",h=function(t){var e;return null==o["~"]&&(o["~"]=r),s(e=this.$match(t))?o["~"].$begin(0):e},h.$$arity=1),t.alias(b,"eql?","=="),t.def(b,"$inspect",_=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var r=e[1],n=e[2],i=r.split(""),$=i.length,s=!1,o="",a=0;a<$;a++){var l=i[a];s||"/"!=l||(o=o.concat("\\")),o=o.concat(l),s="\\"==l&&!s}return"/"+o+"/"+n}return t},_.$$arity=0),t.def(b,"$match",d=function(e,i){var $=d.$$p,s=$||r;if(null==o["~"]&&(o["~"]=r),$&&(d.$$p=null),$&&(d.$$p=null),this.uninitialized&&this.$raise(n(v,"TypeError"),"uninitialized Regexp"),void 0===i){if(e===r)return o["~"]=r;var a=this.exec(n(v,"Opal").$coerce_to(e,n(v,"String"),"to_str"));return a?(o["~"]=n(v,"MatchData").$new(this,a),s===r?o["~"]:t.yield1(s,o["~"])):o["~"]=r}if(i=n(v,"Opal").$coerce_to(i,n(v,"Integer"),"to_int"),e===r)return o["~"]=r;if(e=n(v,"Opal").$coerce_to(e,n(v,"String"),"to_str"),i<0&&(i+=e.length)<0)return o["~"]=r;for(var l,c=t.global_regexp(this);;){if(null===(l=c.exec(e)))return o["~"]=r;if(l.index>=i)return o["~"]=n(v,"MatchData").$new(c,l),s===r?o["~"]:t.yield1(s,o["~"]);c.lastIndex=l.index+1}},d.$$arity=-2),t.def(b,"$match?",p=function(e,i){var $;return this.uninitialized&&this.$raise(n(v,"TypeError"),"uninitialized Regexp"),void 0===i?e!==r&&this.test(n(v,"Opal").$coerce_to(e,n(v,"String"),"to_str")):(i=n(v,"Opal").$coerce_to(i,n(v,"Integer"),"to_int"),e!==r&&(e=n(v,"Opal").$coerce_to(e,n(v,"String"),"to_str"),!(i<0&&(i+=e.length)<0)&&!(null===($=t.global_regexp(this).exec(e))||$.index<i)))},p.$$arity=-2),t.def(b,"$~",f=function(){return null==o._&&(o._=r),this["$=~"](o._)},f.$$arity=0),t.def(b,"$source",m=function(){return this.source},m.$$arity=0),t.def(b,"$options",y=function(){this.uninitialized&&this.$raise(n(v,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=n(v,"MULTILINE")),this.ignoreCase&&(t|=n(v,"IGNORECASE")),t},y.$$arity=0),t.def(b,"$casefold?",g=function(){return this.ignoreCase},g.$$arity=0),t.alias(b,"to_s","source")}(e[0],RegExp,e),function(e,a,l){var c,u,h,_,d,p,f,m,y,g,b,v,x=i(e,null,"MatchData"),w=[x].concat(l);return x.$$prototype.matches=r,x.$attr_reader("post_match","pre_match","regexp","string"),t.def(x,"$initialize",c=function(t,e){o["~"]=this,this.regexp=t,this.begin=e.index,this.string=e.input,this.pre_match=e.input.slice(0,e.index),this.post_match=e.input.slice(e.index+e[0].length),this.matches=[];for(var n=0,i=e.length;n<i;n++){var $=e[n];null==$?this.matches.push(r):this.matches.push($)}},c.$$arity=2),t.def(x,"$[]",u=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),$(this.matches,"[]",t.to_a(r))},u.$$arity=-1),t.def(x,"$offset",h=function(t){return 0!==t&&this.$raise(n(w,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},h.$$arity=1),t.def(x,"$==",_=function(t){var e,r,i,$;return!!s(n(w,"MatchData")["$==="](t))&&(s(e=s(r=s(i=s($=this.string==t.string)?this.regexp.toString()==t.regexp.toString():$)?this.pre_match==t.pre_match:i)?this.post_match==t.post_match:r)?this.begin==t.begin:e)},_.$$arity=1),t.alias(x,"eql?","=="),t.def(x,"$begin",d=function(t){return 0!==t&&this.$raise(n(w,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},d.$$arity=1),t.def(x,"$end",p=function(t){return 0!==t&&this.$raise(n(w,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},p.$$arity=1),t.def(x,"$captures",f=function(){return this.matches.slice(1)},f.$$arity=0),t.def(x,"$inspect",m=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,r=this.matches.length;e<r;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},m.$$arity=0),t.def(x,"$length",y=function(){return this.matches.length},y.$$arity=0),t.alias(x,"size","length"),t.def(x,"$to_a",g=function(){return this.matches},g.$$arity=0),t.def(x,"$to_s",b=function(){return this.matches[0]},b.$$arity=0),t.def(x,"$values_at",v=function(e){var i;i=t.slice.call(arguments,0,arguments.length);var $,s,o,a=[];for($=0;$<i.length;$++)i[$].$$is_range&&((s=i[$].$to_a()).unshift($,1),Array.prototype.splice.apply(i,s)),(o=n(w,"Opal")["$coerce_to!"](i[$],n(w,"Integer"),"to_int"))<0&&(o+=this.matches.length)<0?a.push(r):a.push(this.matches[o]);return a},v.$$arity=-1),r&&"values_at"}(e[0],0,e)},Opal.modules["corelib/string"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var n=t.top,i=[],$=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.send,c=t.gvars;return t.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),n.$require("corelib/comparable"),n.$require("corelib/regexp"),function(n,i,u){var h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct,ut,ht,_t,dt,pt,ft,mt,yt,gt,bt,vt,xt,wt,kt,Et,At,Ot,St,Rt,Ct,It,Tt,Lt,Nt=o(n,i,"String"),Dt=[Nt].concat(u);function Bt(t){function e(t){var e,r,n,i,$,o,a="",l=t.length;for(e=0;e<l;e++)if("-"===(r=t.charAt(e))&&e>0&&e<l-1&&!n){for((i=t.charCodeAt(e-1))>($=t.charCodeAt(e+1))&&Nt.$raise(s(Dt,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),o=i+1;o<$+1;o++)a+=String.fromCharCode(o);n=!0,e++}else n="\\"===r,a+=r;return a}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),-1!==e.indexOf(n)&&(i+=n);return i}var n,i,$,o,a,l,c="",u="";for(n=0,i=t.length;n<i;n++)o="^"===($=s(Dt,"Opal").$coerce_to(t[n],s(Dt,"String"),"to_str")).charAt(0)&&$.length>1,$=e(o?$.slice(1):$),o?u=r(u,$):c=r(c,$);if(c.length>0&&u.length>0){for(l="",n=0,i=c.length;n<i;n++)a=c.charAt(n),-1===u.indexOf(a)&&(l+=a);c=l,u=""}return c.length>0?"["+s(Dt,"Regexp").$escape(c)+"]":u.length>0?"[^"+s(Dt,"Regexp").$escape(u)+"]":null}Nt.$include(s(Dt,"Comparable")),t.defineProperty(Nt.$$prototype,"$$is_string",!0),t.defineProperty(Nt.$$prototype,"$$cast",function(t){var e=this.$$class;return e.$$constructor===String?t:new e.$$constructor(t)}),t.def(Nt,"$__id__",h=function(){return this.toString()},h.$$arity=0),t.alias(Nt,"object_id","__id__"),t.defs(Nt,"$try_convert",_=function(t){return s(Dt,"Opal")["$coerce_to?"](t,s(Dt,"String"),"to_str")},_.$$arity=1),t.defs(Nt,"$new",d=function(t){return null==t&&(t=""),t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str"),new this.$$constructor(t)},d.$$arity=-1),t.def(Nt,"$initialize",p=function(t){return void 0===t?this:this.$raise(s(Dt,"NotImplementedError"),"Mutable strings are not supported in Opal.")},p.$$arity=-1),t.def(Nt,"$%",f=function(e){var r=this;return a(s(Dt,"Array")["$==="](e))?l(r,"format",[r].concat(t.to_a(e))):r.$format(r,e)},f.$$arity=1),t.def(Nt,"$*",m=function(t){if((t=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int"))<0&&this.$raise(s(Dt,"ArgumentError"),"negative argument"),0===t)return this.$$cast("");var e="",r=this.toString();for(r.length*t>=1<<28&&this.$raise(s(Dt,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(e+=r),0!==(t>>>=1);)r+=r;return this.$$cast(e)},m.$$arity=1),t.def(Nt,"$+",y=function(t){return this+(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str")).$to_s()},y.$$arity=1),t.def(Nt,"$<=>",g=function(t){if(a(t["$respond_to?"]("to_str")))return this>(t=t.$to_str().$to_s())?1:this<t?-1:0;var e=t["$<=>"](this);return e===$?$:e>0?-1:e<0?1:0},g.$$arity=1),t.def(Nt,"$==",b=function(t){return t.$$is_string?this.toString()===t.toString():!!s(Dt,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},b.$$arity=1),t.alias(Nt,"eql?","=="),t.alias(Nt,"===","=="),t.def(Nt,"$=~",v=function(t){return t.$$is_string&&this.$raise(s(Dt,"TypeError"),"type mismatch: String given"),t["$=~"](this)},v.$$arity=1),t.def(Nt,"$[]",x=function(t,e){var r,n=this.length;if(t.$$is_range)return r=t.excl,e=s(Dt,"Opal").$coerce_to(t.end,s(Dt,"Integer"),"to_int"),t=s(Dt,"Opal").$coerce_to(t.begin,s(Dt,"Integer"),"to_int"),Math.abs(t)>n?$:(t<0&&(t+=n),e<0&&(e+=n),r||(e+=1),(e-=t)<0&&(e=0),this.$$cast(this.substr(t,e)));if(t.$$is_string)return null!=e&&this.$raise(s(Dt,"TypeError")),-1!==this.indexOf(t)?this.$$cast(t):$;if(t.$$is_regexp){var i=this.match(t);return null===i?(c["~"]=$,$):(c["~"]=s(Dt,"MatchData").$new(t,i),null==e?this.$$cast(i[0]):(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"Integer"),"to_int"))<0&&-e<i.length?this.$$cast(i[e+=i.length]):e>=0&&e<i.length?this.$$cast(i[e]):$)}return(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int"))<0&&(t+=n),null==e?t>=n||t<0?$:this.$$cast(this.substr(t,1)):(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"Integer"),"to_int"))<0?$:t>n||t<0?$:this.$$cast(this.substr(t,e))},x.$$arity=-2),t.alias(Nt,"byteslice","[]"),t.def(Nt,"$b",w=function(){return this.$force_encoding("binary")},w.$$arity=0),t.def(Nt,"$capitalize",k=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},k.$$arity=0),t.def(Nt,"$casecmp",E=function(t){var e=this;if(!a(t["$respond_to?"]("to_str")))return $;t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},E.$$arity=1),t.def(Nt,"$casecmp?",A=function(t){var e=this.$casecmp(t);return e===$?$:0===e},A.$$arity=1),t.def(Nt,"$center",O=function(t,n){if(null==n&&(n=" "),t=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int"),n=s(Dt,"Opal").$coerce_to(n,s(Dt,"String"),"to_str").$to_s(),a(n["$empty?"]())&&this.$raise(s(Dt,"ArgumentError"),"zero width padding"),a(t<=this.length))return this;var i=this.$ljust(e(r(t,this.length),2).$ceil(),n),$=this.$rjust(e(r(t,this.length),2).$floor(),n);return this.$$cast($+i.slice(this.length))},O.$$arity=-2),t.def(Nt,"$chars",S=function(){var t=S.$$p,e=t||$;return t&&(S.$$p=null),t&&(S.$$p=null),a(e)?l(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},S.$$arity=0),t.def(Nt,"$chomp",R=function(t){var e;if(null==c["/"]&&(c["/"]=$),null==t&&(t=c["/"]),a(t===$||0===this.length))return this;if("\n"===(t=s(Dt,"Opal")["$coerce_to!"](t,s(Dt,"String"),"to_str").$to_s()))e=this.replace(/\r?\n?$/,"");else if(""===t)e=this.replace(/(\r?\n)+$/,"");else if(this.length>=t.length){this.substr(this.length-t.length,t.length)===t&&(e=this.substr(0,this.length-t.length))}return null!=e?this.$$cast(e):this},R.$$arity=-1),t.def(Nt,"$chop",C=function(){var t,e=this.length;return t=e<=1?"":"\n"===this.charAt(e-1)&&"\r"===this.charAt(e-2)?this.substr(0,e-2):this.substr(0,e-1),this.$$cast(t)},C.$$arity=0),t.def(Nt,"$chr",I=function(){return this.charAt(0)},I.$$arity=0),t.def(Nt,"$clone",T=function(){var t=$;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},T.$$arity=0),t.def(Nt,"$dup",L=function(){var t=$;return(t=this.slice()).$initialize_dup(this),t},L.$$arity=0),t.def(Nt,"$count",N=function(e){var r;0===(r=t.slice.call(arguments,0,arguments.length)).length&&this.$raise(s(Dt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var n=Bt(r);return null===n?0:this.length-this.replace(new RegExp(n,"g"),"").length},N.$$arity=-1),t.def(Nt,"$delete",D=function(e){var r;0===(r=t.slice.call(arguments,0,arguments.length)).length&&this.$raise(s(Dt,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var n=Bt(r);return null===n?this:this.$$cast(this.replace(new RegExp(n,"g"),""))},D.$$arity=-1),t.def(Nt,"$delete_prefix",B=function(t){return t.$$is_string||(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str")),this.slice(0,t.length)===t?this.$$cast(this.slice(t.length)):this},B.$$arity=1),t.def(Nt,"$delete_suffix",M=function(t){return t.$$is_string||(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str")),this.slice(this.length-t.length)===t?this.$$cast(this.slice(0,this.length-t.length)):this},M.$$arity=1),t.def(Nt,"$downcase",F=function(){return this.$$cast(this.toLowerCase())},F.$$arity=0),t.def(Nt,"$each_char",z=function(){var e,r=z.$$p,n=r||$;if(r&&(z.$$p=null),r&&(z.$$p=null),n===$)return l(this,"enum_for",["each_char"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i=0,s=this.length;i<s;i++)t.yield1(n,this.charAt(i));return this},z.$$arity=0),t.def(Nt,"$each_line",P=function(e){var r,n,i,o,a,l,u,h=P.$$p,_=h||$;if(null==c["/"]&&(c["/"]=$),h&&(P.$$p=null),h&&(P.$$p=null),null==e&&(e=c["/"]),_===$)return this.$enum_for("each_line",e);if(e===$)return t.yield1(_,this),this;if(0===(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str")).length){for(n=0,i=(r=this.split(/(\n{2,})/)).length;n<i;n+=2)if(r[n]||r[n+1]){var d=(r[n]||"")+(r[n+1]||"");t.yield1(_,this.$$cast(d))}return this}for(a=this.$chomp(e),l=this.length!=a.length,n=0,o=(u=a.split(e)).length;n<o;n++)n<o-1||l?t.yield1(_,this.$$cast(u[n]+e)):t.yield1(_,this.$$cast(u[n]));return this},P.$$arity=-1),t.def(Nt,"$empty?",j=function(){return 0===this.length},j.$$arity=0),t.def(Nt,"$end_with?",q=function(e){for(var r,n=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;n<i;n++){var $=s(Dt,"Opal").$coerce_to(r[n],s(Dt,"String"),"to_str").$to_s();if(this.length>=$.length&&this.substr(this.length-$.length,$.length)==$)return!0}return!1},q.$$arity=-1),t.alias(Nt,"equal?","==="),t.def(Nt,"$gsub",U=function(e,r){var n=U.$$p,i=n||$,o=this;if(n&&(U.$$p=null),n&&(U.$$p=null),void 0===r&&i===$)return o.$enum_for("gsub",e);var a,l,u,h="",_=$,d=0;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(a=e.exec(o))){c["~"]=$,h+=o.slice(d);break}_=s(Dt,"MatchData").$new(e,a),void 0===r?(u=e.lastIndex,l=i(a[0]),e.lastIndex=u):r.$$is_hash?l=r["$[]"](a[0]).$to_s():(r.$$is_string||(r=s(Dt,"Opal").$coerce_to(r,s(Dt,"String"),"to_str")),l=r.replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return e.slice(1)+a[n];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+o.slice(0,a.index);case"'":return e.slice(1)+o.slice(a.index+a[0].length);default:return e.slice(1)+(a[r]||"")}}).replace(/\\\\/g,"\\")),e.lastIndex===a.index?(h+=l+o.slice(d,a.index+1),e.lastIndex+=1):h+=o.slice(d,a.index)+l,d=e.lastIndex}return c["~"]=_,o.$$cast(h)},U.$$arity=-2),t.def(Nt,"$hash",H=function(){return this.toString()},H.$$arity=0),t.def(Nt,"$hex",Y=function(){return this.$to_i(16)},Y.$$arity=0),t.def(Nt,"$include?",G=function(t){return t.$$is_string||(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str")),-1!==this.indexOf(t)},G.$$arity=1),t.def(Nt,"$index",W=function(e,r){var n,i,o;if(void 0===r)r=0;else if((r=s(Dt,"Opal").$coerce_to(r,s(Dt,"Integer"),"to_int"))<0&&(r+=this.length)<0)return $;if(e.$$is_regexp)for(o=t.global_multiline_regexp(e);;){if(null===(i=o.exec(this))){c["~"]=$,n=-1;break}if(i.index>=r){c["~"]=s(Dt,"MatchData").$new(o,i),n=i.index;break}o.lastIndex=i.index+1}else n=0===(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str")).length&&r>this.length?-1:this.indexOf(e,r);return-1===n?$:n},W.$$arity=-2),t.def(Nt,"$inspect",K=function(){var t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},K.$$arity=0),t.def(Nt,"$intern",X=function(){return this.toString()},X.$$arity=0),t.def(Nt,"$lines",V=function(t){var e=V.$$p,r=e||$,n=$;return null==c["/"]&&(c["/"]=$),e&&(V.$$p=null),e&&(V.$$p=null),null==t&&(t=c["/"]),n=l(this,"each_line",[t],r.$to_proc()),a(r)?this:n.$to_a()},V.$$arity=-1),t.def(Nt,"$length",J=function(){return this.length},J.$$arity=0),t.def(Nt,"$ljust",Z=function(t,e){if(null==e&&(e=" "),t=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int"),e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str").$to_s(),a(e["$empty?"]())&&this.$raise(s(Dt,"ArgumentError"),"zero width padding"),a(t<=this.length))return this;var r=-1,n="";for(t-=this.length;++r<t;)n+=e;return this.$$cast(this+n.slice(0,t))},Z.$$arity=-2),t.def(Nt,"$lstrip",Q=function(){return this.replace(/^\s*/,"")},Q.$$arity=0),t.def(Nt,"$ascii_only?",tt=function(){return this.match(/[ -~\n]*/)[0]===this},tt.$$arity=0),t.def(Nt,"$match",et=function(t,e){var r,n=et.$$p,i=n||$;return n&&(et.$$p=null),n&&(et.$$p=null),a(a(r=s(Dt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=s(Dt,"Regexp").$new(t.$to_str())),a(s(Dt,"Regexp")["$==="](t))||this.$raise(s(Dt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),l(t,"match",[this,e],i.$to_proc())},et.$$arity=-2),t.def(Nt,"$match?",rt=function(t,e){var r;return a(a(r=s(Dt,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=s(Dt,"Regexp").$new(t.$to_str())),a(s(Dt,"Regexp")["$==="](t))||this.$raise(s(Dt,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),t["$match?"](this,e)},rt.$$arity=-2),t.def(Nt,"$next",nt=function(){var t=this.length;if(0===t)return this.$$cast("");for(var e,r=this,n=this.search(/[a-zA-Z0-9]/),i=!1;t--;){if((e=this.charCodeAt(t))>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)switch(e){case 57:i=!0,e=48;break;case 90:i=!0,e=65;break;case 122:i=!0,e=97;break;default:i=!1,e+=1}else-1===n?255===e?(i=!0,e=0):(i=!1,e+=1):i=!0;if(r=r.slice(0,t)+String.fromCharCode(e)+r.slice(t+1),i&&(0===t||t===n)){switch(e){case 65:case 97:break;default:e+=1}r=0===t?String.fromCharCode(e)+r:r.slice(0,t)+String.fromCharCode(e)+r.slice(t),i=!1}if(!i)break}return this.$$cast(r)},nt.$$arity=0),t.def(Nt,"$oct",it=function(){var t,e=this,r=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,n,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===n)return t}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return e+i}),t=parseInt(e.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},it.$$arity=0),t.def(Nt,"$ord",$t=function(){return this.charCodeAt(0)},$t.$$arity=0),t.def(Nt,"$partition",st=function(t){var e,r;return t.$$is_regexp?null===(r=t.exec(this))?e=-1:(s(Dt,"MatchData").$new(t,r),t=r[0],e=r.index):(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str"),e=this.indexOf(t)),-1===e?[this,"",""]:[this.slice(0,e),this.slice(e,e+t.length),this.slice(e+t.length)]},st.$$arity=1),t.def(Nt,"$reverse",ot=function(){return this.split("").reverse().join("")},ot.$$arity=0),t.def(Nt,"$rindex",at=function(e,r){var n,i,o,a;if(void 0===r)r=this.length;else if((r=s(Dt,"Opal").$coerce_to(r,s(Dt,"Integer"),"to_int"))<0&&(r+=this.length)<0)return $;if(e.$$is_regexp){for(i=null,o=t.global_multiline_regexp(e);!(null===(a=o.exec(this))||a.index>r);)i=a,o.lastIndex=i.index+1;null===i?(c["~"]=$,n=-1):(s(Dt,"MatchData").$new(o,i),n=i.index)}else e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str"),n=this.lastIndexOf(e,r);return-1===n?$:n},at.$$arity=-2),t.def(Nt,"$rjust",lt=function(t,e){if(null==e&&(e=" "),t=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int"),e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str").$to_s(),a(e["$empty?"]())&&this.$raise(s(Dt,"ArgumentError"),"zero width padding"),a(t<=this.length))return this;var r=Math.floor(t-this.length),n=Math.floor(r/e.length),i=Array(n+1).join(e),$=r-i.length;return this.$$cast(i+e.slice(0,$)+this)},lt.$$arity=-2),t.def(Nt,"$rpartition",ct=function(e){var r,n,i,$;if(e.$$is_regexp){for(n=null,i=t.global_multiline_regexp(e);null!==($=i.exec(this));)n=$,i.lastIndex=n.index+1;null===n?r=-1:(s(Dt,"MatchData").$new(i,n),e=n[0],r=n.index)}else e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str"),r=this.lastIndexOf(e);return-1===r?["","",this]:[this.slice(0,r),this.slice(r,r+e.length),this.slice(r+e.length)]},ct.$$arity=1),t.def(Nt,"$rstrip",ut=function(){return this.replace(/[\s\u0000]*$/,"")},ut.$$arity=0),t.def(Nt,"$scan",ht=function(e){var r=ht.$$p,n=r||$;r&&(ht.$$p=null),r&&(ht.$$p=null);var i,o=[],a=$;for(e.$$is_regexp?e=t.global_multiline_regexp(e):(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str"),e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(i=e.exec(this));)a=s(Dt,"MatchData").$new(e,i),n===$?1==i.length?o.push(i[0]):o.push(a.$captures()):1==i.length?n(i[0]):n.call(this,a.$captures()),e.lastIndex===i.index&&(e.lastIndex+=1);return c["~"]=a,n!==$?this:o},ht.$$arity=1),t.alias(Nt,"size","length"),t.alias(Nt,"slice","[]"),t.def(Nt,"$split",_t=function(e,r){var n,i=this;if(null==c[";"]&&(c[";"]=$),0===i.length)return[];if(void 0===r)r=0;else if(1===(r=s(Dt,"Opal")["$coerce_to!"](r,s(Dt,"Integer"),"to_int")))return[i];void 0!==e&&e!==$||(e=a(n=c[";"])?n:" ");var o,l,u,h=[],_=i.toString(),d=0;if(e.$$is_regexp?e=t.global_multiline_regexp(e):" "===(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str").$to_s())?(e=/\s+/gm,_=_.replace(/^\s+/,"")):e=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(h=_.split(e)).length&&h[0]===_)return[i.$$cast(h[0])];for(;-1!==(l=h.indexOf(void 0));)h.splice(l,1);function p(){for(l=0;l<h.length;l++)h[l]=i.$$cast(h[l])}if(0===r){for(;""===h[h.length-1];)h.length-=1;return p(),h}if(o=e.exec(_),r<0){if(null!==o&&""===o[0]&&-1===e.source.indexOf("(?="))for(l=0,u=o.length;l<u;l++)h.push("");return p(),h}if(null!==o&&""===o[0])return h.splice(r-1,h.length-1,h.slice(r-1).join("")),p(),h;if(r>=h.length)return p(),h;for(l=0;null!==o&&(l++,d=e.lastIndex,l+1!==r);)o=e.exec(_);return h.splice(r-1,h.length-1,_.slice(d)),p(),h},_t.$$arity=-1),t.def(Nt,"$squeeze",dt=function(e){var r;if(0===(r=t.slice.call(arguments,0,arguments.length)).length)return this.$$cast(this.replace(/(.)\1+/g,"$1"));var n=Bt(r);return null===n?this:this.$$cast(this.replace(new RegExp("("+n+")\\1+","g"),"$1"))},dt.$$arity=-1),t.def(Nt,"$start_with?",pt=function(e){for(var r,n=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;n<i;n++){var $=s(Dt,"Opal").$coerce_to(r[n],s(Dt,"String"),"to_str").$to_s();if(0===this.indexOf($))return!0}return!1},pt.$$arity=-1),t.def(Nt,"$strip",ft=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ft.$$arity=0),t.def(Nt,"$sub",mt=function(t,e){var r=mt.$$p,n=r||$,i=this;r&&(mt.$$p=null),r&&(mt.$$p=null),t.$$is_regexp||(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,a=t.exec(i);return null===a?(c["~"]=$,o=i.toString()):(s(Dt,"MatchData").$new(t,a),void 0===e?(n===$&&i.$raise(s(Dt,"ArgumentError"),"wrong number of arguments (1 for 2)"),o=i.slice(0,a.index)+n(a[0])+i.slice(a.index+a[0].length)):e.$$is_hash?o=i.slice(0,a.index)+e["$[]"](a[0]).$to_s()+i.slice(a.index+a[0].length):(e=(e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=a.length-1;n>0;n--)if(void 0!==a[n])return e.slice(1)+a[n];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+i.slice(0,a.index);case"'":return e.slice(1)+i.slice(a.index+a[0].length);default:return e.slice(1)+(a[r]||"")}}).replace(/\\\\/g,"\\"),o=i.slice(0,a.index)+e+i.slice(a.index+a[0].length))),i.$$cast(o)},mt.$$arity=-2),t.alias(Nt,"succ","next"),t.def(Nt,"$sum",yt=function(t){null==t&&(t=16),t=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return t<=0?e:e&Math.pow(2,t)-1},yt.$$arity=-1),t.def(Nt,"$swapcase",gt=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},gt.$$arity=0),t.def(Nt,"$to_f",bt=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},bt.$$arity=0),t.def(Nt,"$to_i",vt=function(t){null==t&&(t=10);var e,r=this.toLowerCase(),n=s(Dt,"Opal").$coerce_to(t,s(Dt,"Integer"),"to_int");return(1===n||n<0||n>36)&&this.$raise(s(Dt,"ArgumentError"),"invalid radix "+n),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,i){switch(i.charAt(0)){case"+":case"-":return t;case"0":if("x"===i.charAt(1)&&"0x"===r&&(0===n||16===n))return t}switch(r){case"0b":if(0===n||2===n)return n=2,e+i;break;case"0":case"0o":if(0===n||8===n)return n=8,e+i;break;case"0d":if(0===n||10===n)return n=10,e+i;break;case"0x":if(0===n||16===n)return n=16,e+i}return t}),e=parseInt(r.replace(/_(?!_)/g,""),n),isNaN(e)?0:e)},vt.$$arity=-1),t.def(Nt,"$to_proc",xt=function(){var e,n,i=xt.$$p;return i&&(xt.$$p=null),n=r("$",this.valueOf()),l(this,"proc",[],((e=function(r){var i,o=e.$$s||this,a=e.$$p,l=a||$;a&&(e.$$p=null),0===(i=t.slice.call(arguments,0,arguments.length)).length&&o.$raise(s(Dt,"ArgumentError"),"no receiver given");var c=i[0];null==c&&(c=$);var u=c[n];return u?("function"==typeof l&&(u.$$p=l),1===i.length?u.call(c):u.apply(c,i.slice(1))):c.$method_missing.apply(c,i)}).$$s=this,e.$$arity=-1,e))},xt.$$arity=0),t.def(Nt,"$to_s",wt=function(){return this.toString()},wt.$$arity=0),t.alias(Nt,"to_str","to_s"),t.alias(Nt,"to_sym","intern"),t.def(Nt,"$tr",kt=function(t,e){var r,n,i,$,o,a,l;if(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str").$to_s(),e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str").$to_s(),0==t.length||t===e)return this;var c={},u=t.split(""),h=u.length,_=e.split(""),d=_.length,p=!1,f=null;"^"===u[0]&&u.length>1&&(p=!0,u.shift(),f=_[d-1],h-=1);var m=[],y=null;for(n=!1,r=0;r<h;r++)if($=u[r],null==y)y=$,m.push($);else if("-"===$)"-"===y?(m.push("-"),m.push("-")):r==h-1?m.push("-"):n=!0;else if(n){for((o=y.charCodeAt(0))>(a=$.charCodeAt(0))&&this.$raise(s(Dt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)m.push(String.fromCharCode(i));m.push($),n=null,y=null}else m.push($);if(h=(u=m).length,p)for(r=0;r<h;r++)c[u[r]]=!0;else{if(d>0){var g=[],b=null;for(n=!1,r=0;r<d;r++)if($=_[r],null==b)b=$,g.push($);else if("-"===$)"-"===b?(g.push("-"),g.push("-")):r==d-1?g.push("-"):n=!0;else if(n){for((o=b.charCodeAt(0))>(a=$.charCodeAt(0))&&this.$raise(s(Dt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)g.push(String.fromCharCode(i));g.push($),n=null,b=null}else g.push($);d=(_=g).length}var v=h-d;if(v>0){var x=d>0?_[d-1]:"";for(r=0;r<v;r++)_.push(x)}for(r=0;r<h;r++)c[u[r]]=_[r]}var w="";for(r=0,l=this.length;r<l;r++){var k=c[$=this.charAt(r)];w+=p?null==k?f:$:null!=k?k:$}return this.$$cast(w)},kt.$$arity=2),t.def(Nt,"$tr_s",Et=function(t,e){var r,n,i,$,o,a,l;if(t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str").$to_s(),e=s(Dt,"Opal").$coerce_to(e,s(Dt,"String"),"to_str").$to_s(),0==t.length)return this;var c={},u=t.split(""),h=u.length,_=e.split(""),d=_.length,p=!1,f=null;"^"===u[0]&&u.length>1&&(p=!0,u.shift(),f=_[d-1],h-=1);var m=[],y=null;for(n=!1,r=0;r<h;r++)if($=u[r],null==y)y=$,m.push($);else if("-"===$)"-"===y?(m.push("-"),m.push("-")):r==h-1?m.push("-"):n=!0;else if(n){for((o=y.charCodeAt(0))>(a=$.charCodeAt(0))&&this.$raise(s(Dt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)m.push(String.fromCharCode(i));m.push($),n=null,y=null}else m.push($);if(h=(u=m).length,p)for(r=0;r<h;r++)c[u[r]]=!0;else{if(d>0){var g=[];for(n=!1,r=0;r<d;r++)if($=_[r],null==y)y=$,g.push($);else if("-"===$)r==d-1?g.push("-"):n=!0;else if(n){for((o=y.charCodeAt(0))>(a=$.charCodeAt(0))&&this.$raise(s(Dt,"ArgumentError"),'invalid range "'+String.fromCharCode(o)+"-"+String.fromCharCode(a)+'" in string transliteration'),i=o+1;i<a;i++)g.push(String.fromCharCode(i));g.push($),n=null,y=null}else g.push($);d=(_=g).length}var b=h-d;if(b>0){var v=d>0?_[d-1]:"";for(r=0;r<b;r++)_.push(v)}for(r=0;r<h;r++)c[u[r]]=_[r]}var x="",w=null;for(r=0,l=this.length;r<l;r++){var k=c[$=this.charAt(r)];p?null==k?null==w&&(x+=f,w=!0):(x+=$,w=null):null!=k?null!=w&&w===k||(x+=k,w=k):(x+=$,w=null)}return this.$$cast(x)},Et.$$arity=2),t.def(Nt,"$upcase",At=function(){return this.$$cast(this.toUpperCase())},At.$$arity=0),t.def(Nt,"$upto",Ot=function(t,e){var r=Ot.$$p,n=r||$;if(r&&(Ot.$$p=null),r&&(Ot.$$p=null),null==e&&(e=!1),n===$)return this.$enum_for("upto",t,e);t=s(Dt,"Opal").$coerce_to(t,s(Dt,"String"),"to_str");var i,o,a=this.toString();if(1===a.length&&1===t.length)for(i=a.charCodeAt(0),o=t.charCodeAt(0);i<=o&&(!e||i!==o);)n(String.fromCharCode(i)),i+=1;else if(parseInt(a,10).toString()===a&&parseInt(t,10).toString()===t)for(i=parseInt(a,10),o=parseInt(t,10);i<=o&&(!e||i!==o);)n(i.toString()),i+=1;else for(;a.length<=t.length&&a<=t&&(!e||a!==t);)n(a),a=a.$succ();return this},Ot.$$arity=-2),t.def(Nt,"$instance_variables",St=function(){return[]},St.$$arity=0),t.defs(Nt,"$_load",Rt=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),l(this,"new",t.to_a(r))},Rt.$$arity=-1),t.def(Nt,"$unicode_normalize",Ct=function(t){return this.toString()},Ct.$$arity=-1),t.def(Nt,"$unicode_normalized?",It=function(t){return!0},It.$$arity=-1),t.def(Nt,"$unpack",Tt=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Tt.$$arity=1),t.def(Nt,"$unpack1",Lt=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Lt.$$arity=1)}(i[0],String,i),t.const_set(i[0],"Symbol",s(i,"String"))},Opal.modules["corelib/enumerable"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var $=[],s=t.nil,o=t.const_get_qualified,a=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.truthy,u=t.send,h=t.falsy,_=t.hash2,d=t.lambda;return t.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function($,p){var f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct=l($,"Enumerable"),ut=[ct].concat(p);function ht(t){return 0===t.length&&(t=[s]),t.length>1&&(t=[t]),t}t.def(ct,"$all?",f=function(e){try{var r,n,i,$=f.$$p,o=$||s;return $&&(f.$$p=null),$&&(f.$$p=null),c(void 0!==e)?u(this,"each",[],((r=function(n){var i;r.$$s;if(i=ht(t.slice.call(arguments,0,arguments.length)),c(u(e,"public_send",["==="].concat(t.to_a(i)))))return s;t.ret(!1)}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],o!==s?((n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),c(t.yieldX(o,t.to_a(r))))return s;t.ret(!1)}).$$s=this,n.$$arity=-1,n):((i=function(e){var r;i.$$s;if(r=t.slice.call(arguments,0,arguments.length),c(a(ut,"Opal").$destructure(r)))return s;t.ret(!1)}).$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},f.$$arity=-1),t.def(ct,"$any?",m=function(e){try{var r,n,i,$=m.$$p,o=$||s;return $&&(m.$$p=null),$&&(m.$$p=null),c(void 0!==e)?u(this,"each",[],((r=function(n){var i;r.$$s;if(i=ht(t.slice.call(arguments,0,arguments.length)),!c(u(e,"public_send",["==="].concat(t.to_a(i)))))return s;t.ret(!0)}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],o!==s?((n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),!c(t.yieldX(o,t.to_a(r))))return s;t.ret(!0)}).$$s=this,n.$$arity=-1,n):((i=function(e){var r;i.$$s;if(r=t.slice.call(arguments,0,arguments.length),!c(a(ut,"Opal").$destructure(r)))return s;t.ret(!0)}).$$s=this,i.$$arity=-1,i)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},m.$$arity=-1),t.def(ct,"$chunk",y=function(){var e,r,n=y.$$p,i=n||s;return n&&(y.$$p=null),n&&(y.$$p=null),i===s?u(this,"to_enum",["chunk"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):u(o("::","Enumerator"),"new",[],((r=function(e){var n=r.$$s||this;null==e&&(e=s);var $=s,o=[];function a(){o.length>0&&e.$yield($,o)}n.$each.$$p=function(e){var r=t.yield1(i,e);r===s?(a(),o=[],$=s):($===s||$===r?o.push(e):(a(),o=[e]),$=r)},n.$each(),a()}).$$s=this,r.$$arity=1,r))},y.$$arity=0),t.def(ct,"$chunk_while",g=function(){var e,r=g.$$p,n=r||s;return r&&(g.$$p=null),r&&(g.$$p=null),n!==s||this.$raise(a(ut,"ArgumentError"),"no block given"),u(this,"slice_when",[],((e=function(r,i){e.$$s;return null==r&&(r=s),null==i&&(i=s),t.yieldX(n,[r,i])["$!"]()}).$$s=this,e.$$arity=2,e))},g.$$arity=0),t.def(ct,"$collect",b=function(){var e,r=b.$$p,n=r||s;if(r&&(b.$$p=null),r&&(b.$$p=null),n===s)return u(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=t.yieldX(n,arguments);i.push(e)},this.$each(),i},b.$$arity=0),t.def(ct,"$collect_concat",v=function(){var e,r,n=v.$$p,i=n||s;return n&&(v.$$p=null),n&&(v.$$p=null),i===s?u(this,"enum_for",["collect_concat"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):u(this,"map",[],(r=function(e){r.$$s;return null==e&&(e=s),t.yield1(i,e)},r.$$s=this,r.$$arity=1,r)).$flatten(1)},v.$$arity=0),t.def(ct,"$count",x=function(e){var r,n,i,$=x.$$p,o=$||s,l=s;return $&&(x.$$p=null),$&&(x.$$p=null),l=0,null!=e&&o!==s&&this.$warn("warning: given block not used"),c(null!=e)?o=u(this,"proc",[],((r=function(n){var i;r.$$s;return i=t.slice.call(arguments,0,arguments.length),a(ut,"Opal").$destructure(i)["$=="](e)}).$$s=this,r.$$arity=-1,r)):c(o["$nil?"]())&&(o=u(this,"proc",[],((n=function(){n.$$s;return!0}).$$s=this,n.$$arity=0,n))),u(this,"each",[],((i=function(e){var r;i.$$s;return r=t.slice.call(arguments,0,arguments.length),c(t.yieldX(o,r))?l++:s}).$$s=this,i.$$arity=-1,i)),l},x.$$arity=-1),t.def(ct,"$cycle",w=function(r){var n,i=w.$$p,$=i||s;if(i&&(w.$$p=null),i&&(w.$$p=null),null==r&&(r=s),$===s)return u(this,"enum_for",["cycle",r],((n=function(){var t,i,$=n.$$s||this;return c(r["$nil?"]())?c($["$respond_to?"]("size"))?o(a(ut,"Float"),"INFINITY"):s:(r=a(ut,"Opal")["$coerce_to!"](r,a(ut,"Integer"),"to_int"),c(e(r,0))?(t=$.$enumerator_size(),i=r,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,n.$$arity=0,n));if(c(r["$nil?"]()));else if(r=a(ut,"Opal")["$coerce_to!"](r,a(ut,"Integer"),"to_int"),c(r<=0))return s;var l,h,_=[];if(this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments);t.yield1($,e);_.push(e)},this.$each(),0===_.length)return s;if(r===s)for(;;)for(l=0,h=_.length;l<h;l++)t.yield1($,_[l]);else for(;r>1;){for(l=0,h=_.length;l<h;l++)t.yield1($,_[l]);r--}},w.$$arity=-1),t.def(ct,"$detect",k=function(e){try{var r,n=k.$$p,i=n||s;return n&&(k.$$p=null),n&&(k.$$p=null),i===s?this.$enum_for("detect",e):(u(this,"each",[],((r=function(e){var n,$;r.$$s;if(n=t.slice.call(arguments,0,arguments.length),$=a(ut,"Opal").$destructure(n),!c(t.yield1(i,$)))return s;t.ret($)}).$$s=this,r.$$arity=-1,r)),void 0!==e?"function"==typeof e?e():e:s)}catch(e){if(e===t.returner)return e.$v;throw e}},k.$$arity=-1),t.def(ct,"$drop",E=function(t){t=a(ut,"Opal").$coerce_to(t,a(ut,"Integer"),"to_int"),c(t<0)&&this.$raise(a(ut,"ArgumentError"),"attempt to drop negative size");var e=[],r=0;return this.$each.$$p=function(){t<=r&&e.push(a(ut,"Opal").$destructure(arguments)),r++},this.$each(),e},E.$$arity=1),t.def(ct,"$drop_while",A=function(){var e=A.$$p,r=e||s;if(e&&(A.$$p=null),e&&(A.$$p=null),r===s)return this.$enum_for("drop_while");var n=[],i=!0;return this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments);if(i){var $=t.yield1(r,e);h($)&&(i=!1,n.push(e))}else n.push(e)},this.$each(),n},A.$$arity=0),t.def(ct,"$each_cons",O=function(e){var i,$=O.$$p,o=$||s;if($&&(O.$$p=null),$&&(O.$$p=null),c(1!=arguments.length)&&this.$raise(a(ut,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),e=a(ut,"Opal").$try_convert(e,a(ut,"Integer"),"to_int"),c(e<=0)&&this.$raise(a(ut,"ArgumentError"),"invalid size"),o===s)return u(this,"enum_for",["each_cons",e],((i=function(){var t,$,o,a=i.$$s||this,l=s;return l=a.$enumerator_size(),c(l["$nil?"]())?s:c(c(t=l["$=="](0))?t:(o=e,"number"==typeof($=l)&&"number"==typeof o?$<o:$["$<"](o)))?0:r(n(l,e),1)}).$$s=this,i.$$arity=0,i));var l=[],h=s;return this.$each.$$p=function(){var r=a(ut,"Opal").$destructure(arguments);l.push(r),l.length>e&&l.shift(),l.length==e&&t.yield1(o,l.slice(0,e))},this.$each(),h},O.$$arity=1),t.def(ct,"$each_entry",S=function(e){var r,n,i=S.$$p,$=i||s;return i&&(S.$$p=null),i&&(S.$$p=null),r=t.slice.call(arguments,0,arguments.length),$===s?u(this,"to_enum",["each_entry"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n)):(this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments);t.yield1($,e)},this.$each.apply(this,r),this)},S.$$arity=-1),t.def(ct,"$each_slice",R=function(e){var r,n=R.$$p,i=n||s;if(n&&(R.$$p=null),n&&(R.$$p=null),e=a(ut,"Opal").$coerce_to(e,a(ut,"Integer"),"to_int"),c(e<=0)&&this.$raise(a(ut,"ArgumentError"),"invalid slice size"),i===s)return u(this,"enum_for",["each_slice",e],((r=function(){var t,n,i=r.$$s||this;return c(i["$respond_to?"]("size"))?(t=i.$size(),n=e,"number"==typeof t&&"number"==typeof n?t/n:t["$/"](n)).$ceil():s}).$$s=this,r.$$arity=0,r));var $=[];return this.$each.$$p=function(){var r=a(ut,"Opal").$destructure(arguments);$.push(r),$.length===e&&(t.yield1(i,$),$=[])},this.$each(),$.length>0&&t.yield1(i,$),s},R.$$arity=1),t.def(ct,"$each_with_index",C=function(e){var r,n,i=C.$$p,$=i||s;if(i&&(C.$$p=null),i&&(C.$$p=null),r=t.slice.call(arguments,0,arguments.length),$===s)return u(this,"enum_for",["each_with_index"].concat(t.to_a(r)),((n=function(){return(n.$$s||this).$enumerator_size()}).$$s=this,n.$$arity=0,n));var o=0;return this.$each.$$p=function(){var t=a(ut,"Opal").$destructure(arguments);$(t,o),o++},this.$each.apply(this,r),this},C.$$arity=-1),t.def(ct,"$each_with_object",I=function(t){var e,r=I.$$p,n=r||s;return r&&(I.$$p=null),r&&(I.$$p=null),n===s?u(this,"enum_for",["each_with_object",t],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments);n(e,t)},this.$each(),t)},I.$$arity=1),t.def(ct,"$entries",T=function(e){var r;r=t.slice.call(arguments,0,arguments.length);var n=[];return this.$each.$$p=function(){n.push(a(ut,"Opal").$destructure(arguments))},this.$each.apply(this,r),n},T.$$arity=-1),t.alias(ct,"find","detect"),t.def(ct,"$find_all",L=function(){var e,r=L.$$p,n=r||s;if(r&&(L.$$p=null),r&&(L.$$p=null),n===s)return u(this,"enum_for",["find_all"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),r=t.yield1(n,e);c(r)&&i.push(e)},this.$each(),i},L.$$arity=0),t.def(ct,"$find_index",N=function(e){try{var r,n,i=N.$$p,$=i||s,o=s;return i&&(N.$$p=null),i&&(N.$$p=null),c(void 0===e&&$===s)?this.$enum_for("find_index"):(null!=e&&$!==s&&this.$warn("warning: given block not used"),o=0,c(null!=e)?u(this,"each",[],((r=function(n){var i;r.$$s;return i=t.slice.call(arguments,0,arguments.length),a(ut,"Opal").$destructure(i)["$=="](e)&&t.ret(o),o+=1}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],((n=function(e){var r;n.$$s;return r=t.slice.call(arguments,0,arguments.length),c(t.yieldX($,t.to_a(r)))&&t.ret(o),o+=1}).$$s=this,n.$$arity=-1,n)),s)}catch(e){if(e===t.returner)return e.$v;throw e}},N.$$arity=-1),t.def(ct,"$first",D=function(e){try{var r,n,i=s,$=s;return c(void 0===e)?u(this,"each",[],((r=function(e){r.$$s;null==e&&(e=s),t.ret(e)}).$$s=this,r.$$arity=1,r)):(i=[],e=a(ut,"Opal").$coerce_to(e,a(ut,"Integer"),"to_int"),c(e<0)&&this.$raise(a(ut,"ArgumentError"),"attempt to take negative size"),c(0==e)?[]:($=0,u(this,"each",[],((n=function(r){var o;n.$$s;if(o=t.slice.call(arguments,0,arguments.length),i.push(a(ut,"Opal").$destructure(o)),!c(e<=++$))return s;t.ret(i)}).$$s=this,n.$$arity=-1,n)),i))}catch(e){if(e===t.returner)return e.$v;throw e}},D.$$arity=-1),t.alias(ct,"flat_map","collect_concat"),t.def(ct,"$grep",B=function(r){var n,$=B.$$p,o=$||s,a=s;return $&&(B.$$p=null),$&&(B.$$p=null),a=[],u(this,"each",[],((n=function($){var l,h;n.$$s;return h=ht(l=t.slice.call(arguments,0,arguments.length)),c(u(r,"__send__",["==="].concat(t.to_a(h))))?(o!==s?(c(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):c(i(l.$length(),1))&&(l=l["$[]"](0)),a.$push(l)):s}).$$s=this,n.$$arity=-1,n)),a},B.$$arity=1),t.def(ct,"$grep_v",M=function(r){var n,$=M.$$p,o=$||s,a=s;return $&&(M.$$p=null),$&&(M.$$p=null),a=[],u(this,"each",[],((n=function($){var l,h;n.$$s;return h=ht(l=t.slice.call(arguments,0,arguments.length)),c(u(r,"__send__",["==="].concat(t.to_a(h))))?s:(o!==s?(c(e(l.$length(),1))&&(l=[l]),l=t.yieldX(o,t.to_a(l))):c(i(l.$length(),1))&&(l=l["$[]"](0)),a.$push(l))}).$$s=this,n.$$arity=-1,n)),a},M.$$arity=1),t.def(ct,"$group_by",F=function(){var e,r,i=F.$$p,$=i||s,o=s,l=s;return i&&(F.$$p=null),i&&(F.$$p=null),$===s?u(this,"enum_for",["group_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):(o=_([],{}),this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),i=t.yield1($,e);(c(r=o["$[]"](i))?r:(l=[i,[]],u(o,"[]=",t.to_a(l)),l[n(l.length,1)]))["$<<"](e)},this.$each(),o)},F.$$arity=0),t.def(ct,"$include?",z=function(e){try{var r;return u(this,"each",[],((r=function(n){var i;r.$$s;if(i=t.slice.call(arguments,0,arguments.length),!a(ut,"Opal").$destructure(i)["$=="](e))return s;t.ret(!0)}).$$s=this,r.$$arity=-1,r)),!1}catch(e){if(e===t.returner)return e.$v;throw e}},z.$$arity=1),t.def(ct,"$inject",P=function(e,r){var n=P.$$p,i=n||s;n&&(P.$$p=null),n&&(P.$$p=null);var $=e;return i!==s&&void 0===r?this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments);void 0!==$?(e=t.yieldX(i,[$,e]),$=e):$=e}:(void 0===r&&(a(ut,"Symbol")["$==="](e)||this.$raise(a(ut,"TypeError"),e.$inspect()+" is not a Symbol"),r=e,$=void 0),this.$each.$$p=function(){var t=a(ut,"Opal").$destructure(arguments);$=void 0!==$?$.$__send__(r,t):t}),this.$each(),null==$?s:$},P.$$arity=-1),t.def(ct,"$lazy",j=function(){var e;return u(o(a(ut,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((e=function(r,n){var i;e.$$s;return null==r&&(r=s),i=t.slice.call(arguments,1,arguments.length),u(r,"yield",t.to_a(i))}).$$s=this,e.$$arity=-2,e))},j.$$arity=0),t.def(ct,"$enumerator_size",q=function(){return c(this["$respond_to?"]("size"))?this.$size():s},q.$$arity=0),t.alias(ct,"map","collect"),t.def(ct,"$max",U=function(e){var r,n,i=U.$$p,$=i||s,o=this;return i&&(U.$$p=null),i&&(U.$$p=null),void 0===e||e===s?(o.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments);void 0!==r?((n=$!==s?t.yieldX($,[e,r]):e["$<=>"](r))===s&&o.$raise(a(ut,"ArgumentError"),"comparison failed"),n>0&&(r=e)):r=e},o.$each(),void 0===r?s:r):(e=a(ut,"Opal").$coerce_to(e,a(ut,"Integer"),"to_int"),u(o,"sort",[],$.$to_proc()).$reverse().$first(e))},U.$$arity=-1),t.def(ct,"$max_by",H=function(){var e,r,n,i=H.$$p,$=i||s;return i&&(H.$$p=null),i&&(H.$$p=null),c($)?(this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),i=t.yield1($,e);if(void 0===r)return r=e,void(n=i);i["$<=>"](n)>0&&(r=e,n=i)},this.$each(),void 0===r?s:r):u(this,"enum_for",["max_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},H.$$arity=0),t.alias(ct,"member?","include?"),t.def(ct,"$min",Y=function(){var t,e=Y.$$p,r=e||s,n=this;return e&&(Y.$$p=null),e&&(Y.$$p=null),n.$each.$$p=r!==s?function(){var e=a(ut,"Opal").$destructure(arguments);if(void 0!==t){var i=r(e,t);i===s&&n.$raise(a(ut,"ArgumentError"),"comparison failed"),i<0&&(t=e)}else t=e}:function(){var e=a(ut,"Opal").$destructure(arguments);void 0!==t?a(ut,"Opal").$compare(e,t)<0&&(t=e):t=e},n.$each(),void 0===t?s:t},Y.$$arity=0),t.def(ct,"$min_by",G=function(){var e,r,n,i=G.$$p,$=i||s;return i&&(G.$$p=null),i&&(G.$$p=null),c($)?(this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),i=t.yield1($,e);if(void 0===r)return r=e,void(n=i);i["$<=>"](n)<0&&(r=e,n=i)},this.$each(),void 0===r?s:r):u(this,"enum_for",["min_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e))},G.$$arity=0),t.def(ct,"$minmax",W=function(){var t,e,r=W.$$p,n=r||s,i=this;r&&(W.$$p=null),r&&(W.$$p=null),n=c(t=n)?t:u(i,"proc",[],((e=function(t,r){e.$$s;return null==t&&(t=s),null==r&&(r=s),t["$<=>"](r)}).$$s=i,e.$$arity=2,e));var $=s,o=s,l=!0;return i.$each.$$p=function(){var t=a(ut,"Opal").$destructure(arguments);if(l)$=o=t,l=!1;else{var e=n.$call($,t);e===s?i.$raise(a(ut,"ArgumentError"),"comparison failed"):e>0&&($=t);var r=n.$call(o,t);r===s?i.$raise(a(ut,"ArgumentError"),"comparison failed"):r<0&&(o=t)}},i.$each(),[$,o]},W.$$arity=0),t.def(ct,"$minmax_by",K=function(){var t=K.$$p;return t&&(K.$$p=null),t&&(K.$$p=null),this.$raise(a(ut,"NotImplementedError"))},K.$$arity=0),t.def(ct,"$none?",X=function(e){try{var r,n,i,$=X.$$p,o=$||s;return $&&(X.$$p=null),$&&(X.$$p=null),c(void 0!==e)?u(this,"each",[],((r=function(n){var i;r.$$s;if(i=ht(t.slice.call(arguments,0,arguments.length)),!c(u(e,"public_send",["==="].concat(t.to_a(i)))))return s;t.ret(!1)}).$$s=this,r.$$arity=-1,r)):u(this,"each",[],o!==s?((n=function(e){var r;n.$$s;if(r=t.slice.call(arguments,0,arguments.length),!c(t.yieldX(o,t.to_a(r))))return s;t.ret(!1)}).$$s=this,n.$$arity=-1,n):((i=function(e){var r,n;i.$$s;if(r=t.slice.call(arguments,0,arguments.length),n=a(ut,"Opal").$destructure(r),!c(n))return s;t.ret(!1)}).$$s=this,i.$$arity=-1,i)),!0}catch(e){if(e===t.returner)return e.$v;throw e}},X.$$arity=-1),t.def(ct,"$one?",V=function(n){try{var i,$,o,l=V.$$p,h=l||s,_=s;return l&&(V.$$p=null),l&&(V.$$p=null),_=0,c(void 0!==n)?u(this,"each",[],((i=function($){var o;i.$$s;return o=ht(t.slice.call(arguments,0,arguments.length)),c(u(n,"public_send",["==="].concat(t.to_a(o))))?(_=r(_,1),c(e(_,1))?void t.ret(!1):s):s}).$$s=this,i.$$arity=-1,i)):u(this,"each",[],h!==s?(($=function(n){var i;$.$$s;return i=t.slice.call(arguments,0,arguments.length),c(t.yieldX(h,t.to_a(i)))?(_=r(_,1),c(e(_,1))?void t.ret(!1):s):s}).$$s=this,$.$$arity=-1,$):((o=function(n){var i;o.$$s;return i=t.slice.call(arguments,0,arguments.length),c(a(ut,"Opal").$destructure(i))?(_=r(_,1),c(e(_,1))?void t.ret(!1):s):s}).$$s=this,o.$$arity=-1,o)),_["$=="](1)}catch(e){if(e===t.returner)return e.$v;throw e}},V.$$arity=-1),t.def(ct,"$partition",J=function(){var e,r=J.$$p,n=r||s;if(r&&(J.$$p=null),r&&(J.$$p=null),n===s)return u(this,"enum_for",["partition"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[],$=[];return this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),r=t.yield1(n,e);c(r)?i.push(e):$.push(e)},this.$each(),[i,$]},J.$$arity=0),t.alias(ct,"reduce","inject"),t.def(ct,"$reject",Z=function(){var e,r=Z.$$p,n=r||s;if(r&&(Z.$$p=null),r&&(Z.$$p=null),n===s)return u(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];return this.$each.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),r=t.yield1(n,e);h(r)&&i.push(e)},this.$each(),i},Z.$$arity=0),t.def(ct,"$reverse_each",Q=function(){var e,r=Q.$$p,n=r||s;if(r&&(Q.$$p=null),r&&(Q.$$p=null),n===s)return u(this,"enum_for",["reverse_each"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e));var i=[];this.$each.$$p=function(){i.push(arguments)},this.$each();for(var $=i.length-1;$>=0;$--)t.yieldX(n,i[$]);return i},Q.$$arity=0),t.alias(ct,"select","find_all"),t.def(ct,"$slice_before",tt=function(e){var r,n=tt.$$p,i=n||s;return n&&(tt.$$p=null),n&&(tt.$$p=null),c(void 0===e&&i===s)&&this.$raise(a(ut,"ArgumentError"),"both pattern and block are given"),c(void 0!==e&&i!==s||arguments.length>1)&&this.$raise(a(ut,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),u(a(ut,"Enumerator"),"new",[],((r=function(n){var $=r.$$s||this;null==n&&(n=s);var o=[];$.$each.$$p=i!==s?void 0===e?function(){var e=a(ut,"Opal").$destructure(arguments),r=t.yield1(i,e);c(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(e)}:function(){var t=a(ut,"Opal").$destructure(arguments),r=i(t,e.$dup());c(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)}:function(){var t=a(ut,"Opal").$destructure(arguments),r=e["$==="](t);c(r)&&o.length>0&&(n["$<<"](o),o=[]),o.push(t)},$.$each(),o.length>0&&n["$<<"](o)}).$$s=this,r.$$arity=1,r))},tt.$$arity=-1),t.def(ct,"$slice_after",et=function(e){var r,n,i=et.$$p,$=i||s;return i&&(et.$$p=null),i&&(et.$$p=null),c(void 0===e&&$===s)&&this.$raise(a(ut,"ArgumentError"),"both pattern and block are given"),c(void 0!==e&&$!==s||arguments.length>1)&&this.$raise(a(ut,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),c(void 0!==e)&&($=u(this,"proc",[],((r=function(t){r.$$s;return null==t&&(t=s),e["$==="](t)}).$$s=this,r.$$arity=1,r))),u(a(ut,"Enumerator"),"new",[],((n=function(e){var r,i=n.$$s||this;null==e&&(e=s),i.$each.$$p=function(){var n=a(ut,"Opal").$destructure(arguments),i=t.yield1($,n);null==r&&(r=[]),c(i)?(r.push(n),e.$yield(r),r=null):r.push(n)},i.$each(),null!=r&&e.$yield(r)}).$$s=this,n.$$arity=1,n))},et.$$arity=-1),t.def(ct,"$slice_when",rt=function(){var e,r=rt.$$p,n=r||s;return r&&(rt.$$p=null),r&&(rt.$$p=null),n!==s||this.$raise(a(ut,"ArgumentError"),"wrong number of arguments (0 for 1)"),u(a(ut,"Enumerator"),"new",[],((e=function(r){var i=e.$$s||this;null==r&&(r=s);var $=s,o=s;i.$each_cons.$$p=function(){var e=a(ut,"Opal").$destructure(arguments),i=e[0],l=e[1],u=t.yieldX(n,[i,l]);o=l,$===s&&($=[]),c(u)?($.push(i),r.$yield($),$=[]):$.push(i)},i.$each_cons(2),$!==s&&($.push(o),r.$yield($))}).$$s=this,e.$$arity=1,e))},rt.$$arity=0),t.def(ct,"$sort",nt=function(){var t,e,r=nt.$$p,n=r||s;return r&&(nt.$$p=null),r&&(nt.$$p=null),e=this.$to_a(),n!==s||(n=d(((t=function(e,r){t.$$s;return null==e&&(e=s),null==r&&(r=s),e["$<=>"](r)}).$$s=this,t.$$arity=2,t))),u(e,"sort",[],n.$to_proc())},nt.$$arity=0),t.def(ct,"$sort_by",it=function(){var e,r,n,i,$,o=it.$$p,l=o||s;return o&&(it.$$p=null),o&&(it.$$p=null),l===s?u(this,"enum_for",["sort_by"],((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=this,e.$$arity=0,e)):($=u(this,"map",[],((r=function(){var e;r.$$s;return e=a(ut,"Opal").$destructure(arguments),[t.yield1(l,e),e]}).$$s=this,r.$$arity=0,r)),u($,"sort!",[],((n=function(t,e){n.$$s;return null==t&&(t=s),null==e&&(e=s),t[0]["$<=>"](e[0])}).$$s=this,n.$$arity=2,n)),u($,"map!",[],((i=function(t){i.$$s;return null==t&&(t=s),t[1]}).$$s=this,i.$$arity=1,i)))},it.$$arity=0),t.def(ct,"$sum",$t=function(e){var n,i=$t.$$p,$=i||s,o=s;return i&&($t.$$p=null),null==e&&(e=0),o=e,u(this,"each",[],((n=function(e){var i,l,c;n.$$s;return i=t.slice.call(arguments,0,arguments.length),l=i,c=$!==s?t.yieldX($,t.to_a(l)):a(ut,"Opal").$destructure(l),o=r(o,c)}).$$s=this,n.$$arity=-1,n)),o},$t.$$arity=-1),t.def(ct,"$take",st=function(t){return this.$first(t)},st.$$arity=1),t.def(ct,"$take_while",ot=function(){try{var e,r=ot.$$p,n=r||s,i=s;return r&&(ot.$$p=null),r&&(ot.$$p=null),c(n)?(i=[],u(this,"each",[],((e=function(r){var $,s;e.$$s;return $=t.slice.call(arguments,0,arguments.length),s=a(ut,"Opal").$destructure($),c(t.yield1(n,s))||t.ret(i),i.push(s)}).$$s=this,e.$$arity=-1,e))):this.$enum_for("take_while")}catch(e){if(e===t.returner)return e.$v;throw e}},ot.$$arity=0),t.def(ct,"$uniq",at=function(){var e,r=at.$$p,i=r||s,$=s;return r&&(at.$$p=null),r&&(at.$$p=null),$=_([],{}),u(this,"each",[],((e=function(r){e.$$s;var o,l,h,_=s;return o=t.slice.call(arguments,0,arguments.length),l=a(ut,"Opal").$destructure(o),h=i!==s?t.yield1(i,l):l,c($["$key?"](h))?s:(_=[h,l],u($,"[]=",t.to_a(_)),_[n(_.length,1)])}).$$s=this,e.$$arity=-1,e)),$.$values()},at.$$arity=0),t.alias(ct,"to_a","entries"),t.def(ct,"$zip",lt=function(e){var r,n=lt.$$p;return n&&(lt.$$p=null),n&&(lt.$$p=null),r=t.slice.call(arguments,0,arguments.length),u(this.$to_a(),"zip",t.to_a(r))},lt.$$arity=-1)}($[0],$)},Opal.modules["corelib/enumerator"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var n=t.top,i=[],$=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=t.breaker,a=t.slice,l=t.klass,c=t.truthy,u=t.send,h=t.falsy;return t.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),n.$require("corelib/enumerable"),function(n,i,_){var d,p,f,m,y,g,b=l(n,null,"Enumerator"),v=[b].concat(_);return b.$$prototype.size=b.$$prototype.args=b.$$prototype.object=b.$$prototype.method=$,b.$include(s(v,"Enumerable")),b.$$prototype.$$is_enumerator=!0,t.defs(b,"$for",d=function(e,r,n){var i,s,o,a=d.$$p,l=a||$;a&&(d.$$p=null),a&&(d.$$p=null),(i=t.slice.call(arguments,1,arguments.length)).length>0&&(s=i[0],i.splice(0,1)),null==s&&(s="each"),o=i;var c=this.$allocate();return c.object=e,c.size=l,c.method=s,c.args=o,c},d.$$arity=-2),t.def(b,"$initialize",p=function(e){var r=p.$$p,n=r||$;return r&&(p.$$p=null),r&&(p.$$p=null),t.slice.call(arguments,0,arguments.length),c(n)?(this.object=u(s(v,"Generator"),"new",[],n.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||$,c(this.size)?this.size=s(v,"Opal").$coerce_to(this.size,s(v,"Integer"),"to_int"):$):(this.object=arguments[0],this.method=arguments[1]||"each",this.args=a.call(arguments,2),this.size=$)},p.$$arity=-1),t.def(b,"$each",f=function(r){var n,i,s=f.$$p,o=s||$;return s&&(f.$$p=null),s&&(f.$$p=null),n=t.slice.call(arguments,0,arguments.length),c(c(i=o["$nil?"]())?n["$empty?"]():i)?this:(n=e(this.args,n),c(o["$nil?"]())?u(this.$class(),"new",[this.object,this.method].concat(t.to_a(n))):u(this.object,"__send__",[this.method].concat(t.to_a(n)),o.$to_proc()))},f.$$arity=-1),t.def(b,"$size",m=function(){return c(s(v,"Proc")["$==="](this.size))?u(this.size,"call",t.to_a(this.args)):this.size},m.$$arity=0),t.def(b,"$with_index",y=function(t){var e,r=y.$$p,n=r||$;if(r&&(y.$$p=null),r&&(y.$$p=null),null==t&&(t=0),t=c(t)?s(v,"Opal").$coerce_to(t,s(v,"Integer"),"to_int"):0,!c(n))return u(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=s(v,"Opal").$destructure(arguments),e=n(t,i);return i++,e},this.$each()},y.$$arity=-1),t.alias(b,"with_object","each_with_object"),t.def(b,"$inspect",g=function(){var t=$;return t="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method,c(this.args["$any?"]())&&(t=e(t,"("+this.args.$inspect()["$[]"](s(v,"Range").$new(1,-2))+")")),e(t,">")},g.$$arity=0),function(e,r,n){var i,a,h=l(e,null,"Generator"),_=[h].concat(n);h.$$prototype.block=$,h.$include(s(_,"Enumerable")),t.def(h,"$initialize",i=function(){var t=i.$$p,e=t||$;return t&&(i.$$p=null),t&&(i.$$p=null),c(e)||this.$raise(s(_,"LocalJumpError"),"no block given"),this.block=e},i.$$arity=0),t.def(h,"$each",a=function(e){var r,n,i=a.$$p,l=i||$;i&&(a.$$p=null),i&&(a.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=u(s(_,"Yielder"),"new",[],l.$to_proc());try{r.unshift(n),t.yieldX(this.block,r)}catch(t){if(t===o)return o.$v;throw t}return this},a.$$arity=-1)}(v[0],0,v),function(e,r,n){var i,s,a,c=l(e,null,"Yielder");[c].concat(n);c.$$prototype.block=$,t.def(c,"$initialize",i=function(){var t=i.$$p,e=t||$;return t&&(i.$$p=null),t&&(i.$$p=null),this.block=e},i.$$arity=0),t.def(c,"$yield",s=function(e){var r;r=t.slice.call(arguments,0,arguments.length);var n=t.yieldX(this.block,r);if(n===o)throw o;return n},s.$$arity=-1),t.def(c,"$<<",a=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),u(this,"yield",t.to_a(r)),this},a.$$arity=-1)}(v[0],0,v),function(n,i,o){var a,_,d,p,f,m,y,g,b,v,x,w,k,E=l(n,i,"Lazy"),A=[E].concat(o);return E.$$prototype.enumerator=$,function(t,e,r){[l(t,e,"StopLazyError")].concat(r)}(A[0],s(A,"Exception"),A),t.def(E,"$initialize",a=function(e,r){var n,i=a.$$p,o=i||$;return i&&(a.$$p=null),i&&(a.$$p=null),null==r&&(r=$),o!==$||this.$raise(s(A,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=e,u(this,t.find_super_dispatcher(this,"initialize",a,!1),[r],((n=function(r,i){var a,l,c=n.$$s||this;null==r&&(r=$),a=t.slice.call(arguments,1,arguments.length);try{return u(e,"each",t.to_a(a),((l=function(e){var n;l.$$s;(n=t.slice.call(arguments,0,arguments.length)).unshift(r),t.yieldX(o,n)}).$$s=c,l.$$arity=-1,l))}catch(e){if(!t.rescue(e,[s(A,"Exception")]))throw e;try{return $}finally{t.pop_exception()}}}).$$s=this,n.$$arity=-2,n))},a.$$arity=-2),t.alias(E,"force","to_a"),t.def(E,"$lazy",_=function(){return this},_.$$arity=0),t.def(E,"$collect",d=function(){var e,r=d.$$p,n=r||$;return r&&(d.$$p=null),r&&(d.$$p=null),c(n)||this.$raise(s(A,"ArgumentError"),"tried to call lazy map without a block"),u(s(A,"Lazy"),"new",[this,this.$enumerator_size()],((e=function(r,i){var s;e.$$s;null==r&&(r=$),s=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(n,s);r.$yield(o)}).$$s=this,e.$$arity=-2,e))},d.$$arity=0),t.def(E,"$collect_concat",p=function(){var e,r=p.$$p,n=r||$;return r&&(p.$$p=null),r&&(p.$$p=null),c(n)||this.$raise(s(A,"ArgumentError"),"tried to call lazy map without a block"),u(s(A,"Lazy"),"new",[this,$],((e=function(r,i){var o,a,l,c=e.$$s||this;null==r&&(r=$),o=t.slice.call(arguments,1,arguments.length);var h=t.yieldX(n,o);h["$respond_to?"]("force")&&h["$respond_to?"]("each")?u(h,"each",[],((a=function(t){a.$$s;return null==t&&(t=$),r.$yield(t)}).$$s=c,a.$$arity=1,a)):s(A,"Opal").$try_convert(h,s(A,"Array"),"to_ary")===$?r.$yield(h):u(h,"each",[],((l=function(t){l.$$s;return null==t&&(t=$),r.$yield(t)}).$$s=c,l.$$arity=1,l))}).$$s=this,e.$$arity=-2,e))},p.$$arity=0),t.def(E,"$drop",f=function(n){var i,o,a,l=$;return n=s(A,"Opal").$coerce_to(n,s(A,"Integer"),"to_int"),c(r(n,0))&&this.$raise(s(A,"ArgumentError"),"attempt to drop negative size"),o=this.$enumerator_size(),a=c(s(A,"Integer")["$==="](o))&&c(r(n,o))?n:o,l=0,u(s(A,"Lazy"),"new",[this,a],((i=function(s,o){var a;i.$$s;return null==s&&(s=$),a=t.slice.call(arguments,1,arguments.length),c(r(l,n))?l=e(l,1):u(s,"yield",t.to_a(a))}).$$s=this,i.$$arity=-2,i))},f.$$arity=1),t.def(E,"$drop_while",m=function(){var e,r=m.$$p,n=r||$,i=$;return r&&(m.$$p=null),r&&(m.$$p=null),c(n)||this.$raise(s(A,"ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,u(s(A,"Lazy"),"new",[this,$],((e=function(r,s){var o;e.$$s;if(null==r&&(r=$),o=t.slice.call(arguments,1,arguments.length),!c(i))return u(r,"yield",t.to_a(o));var a=t.yieldX(n,o);h(a)&&(i=!1,u(r,"yield",t.to_a(o)))}).$$s=this,e.$$arity=-2,e))},m.$$arity=0),t.def(E,"$enum_for",y=function(e,r){var n,i,s,o=y.$$p,a=o||$,l=this;return o&&(y.$$p=null),o&&(y.$$p=null),(n=t.slice.call(arguments,0,arguments.length)).length>0&&(i=n[0],n.splice(0,1)),null==i&&(i="each"),s=n,u(l.$class(),"for",[l,i].concat(t.to_a(s)),a.$to_proc())},y.$$arity=-1),t.def(E,"$find_all",g=function(){var e,r=g.$$p,n=r||$;return r&&(g.$$p=null),r&&(g.$$p=null),c(n)||this.$raise(s(A,"ArgumentError"),"tried to call lazy select without a block"),u(s(A,"Lazy"),"new",[this,$],((e=function(r,i){var s;e.$$s;null==r&&(r=$),s=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(n,s);c(o)&&u(r,"yield",t.to_a(s))}).$$s=this,e.$$arity=-2,e))},g.$$arity=0),t.alias(E,"flat_map","collect_concat"),t.def(E,"$grep",b=function(e){var r,n,i=b.$$p,o=i||$;return i&&(b.$$p=null),i&&(b.$$p=null),c(o)?u(s(A,"Lazy"),"new",[this,$],((r=function(n,i){var a;r.$$s;null==n&&(n=$),a=t.slice.call(arguments,1,arguments.length);var l=s(A,"Opal").$destructure(a),u=e["$==="](l);c(u)&&(u=t.yield1(o,l),n.$yield(t.yield1(o,l)))}).$$s=this,r.$$arity=-2,r)):u(s(A,"Lazy"),"new",[this,$],((n=function(r,i){var o;n.$$s;null==r&&(r=$),o=t.slice.call(arguments,1,arguments.length);var a=s(A,"Opal").$destructure(o),l=e["$==="](a);c(l)&&r.$yield(a)}).$$s=this,n.$$arity=-2,n))},b.$$arity=1),t.alias(E,"map","collect"),t.alias(E,"select","find_all"),t.def(E,"$reject",v=function(){var e,r=v.$$p,n=r||$;return r&&(v.$$p=null),r&&(v.$$p=null),c(n)||this.$raise(s(A,"ArgumentError"),"tried to call lazy reject without a block"),u(s(A,"Lazy"),"new",[this,$],((e=function(r,i){var s;e.$$s;null==r&&(r=$),s=t.slice.call(arguments,1,arguments.length);var o=t.yieldX(n,s);h(o)&&u(r,"yield",t.to_a(s))}).$$s=this,e.$$arity=-2,e))},v.$$arity=0),t.def(E,"$take",x=function(n){var i,o,a,l=$;return n=s(A,"Opal").$coerce_to(n,s(A,"Integer"),"to_int"),c(r(n,0))&&this.$raise(s(A,"ArgumentError"),"attempt to take negative size"),o=this.$enumerator_size(),a=c(s(A,"Integer")["$==="](o))&&c(r(n,o))?n:o,l=0,u(s(A,"Lazy"),"new",[this,a],((i=function(o,a){var h,_=i.$$s||this;return null==o&&(o=$),h=t.slice.call(arguments,1,arguments.length),c(r(l,n))?(u(o,"yield",t.to_a(h)),l=e(l,1)):_.$raise(s(A,"StopLazyError"))}).$$s=this,i.$$arity=-2,i))},x.$$arity=1),t.def(E,"$take_while",w=function(){var e,r=w.$$p,n=r||$;return r&&(w.$$p=null),r&&(w.$$p=null),c(n)||this.$raise(s(A,"ArgumentError"),"tried to call lazy take_while without a block"),u(s(A,"Lazy"),"new",[this,$],((e=function(r,i){var o,a=e.$$s||this;null==r&&(r=$),o=t.slice.call(arguments,1,arguments.length);var l=t.yieldX(n,o);c(l)?u(r,"yield",t.to_a(o)):a.$raise(s(A,"StopLazyError"))}).$$s=this,e.$$arity=-2,e))},w.$$arity=0),t.alias(E,"to_enum","enum_for"),t.def(E,"$inspect",k=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},k.$$arity=0),$&&"inspect"}(v[0],b,v)}(i[0],0,i)},Opal.modules["corelib/numeric"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var $=t.top,s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,h=t.hash2;return t.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),$.$require("corelib/comparable"),function($,s,_){var d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J=c($,null,"Numeric"),Z=[J].concat(_);return J.$include(l(Z,"Comparable")),t.def(J,"$coerce",d=function(t){return u(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},d.$$arity=1),t.def(J,"$__coerced__",p=function(e,r){var n,i,$=this,s=o,a=o,c=o;return u(r["$respond_to?"]("coerce"))?(i=r.$coerce($),s=null==(n=t.to_ary(i))[0]?o:n[0],a=null==n[1]?o:n[1],s.$__send__(e,a)):"+"["$==="](c=e)||"-"["$==="](c)||"*"["$==="](c)||"/"["$==="](c)||"%"["$==="](c)||"&"["$==="](c)||"|"["$==="](c)||"^"["$==="](c)||"**"["$==="](c)?$.$raise(l(Z,"TypeError"),r.$class()+" can't be coerced into Numeric"):">"["$==="](c)||">="["$==="](c)||"<"["$==="](c)||"<="["$==="](c)||"<=>"["$==="](c)?$.$raise(l(Z,"ArgumentError"),"comparison of "+$.$class()+" with "+r.$class()+" failed"):o},p.$$arity=2),t.def(J,"$<=>",f=function(t){return u(this["$equal?"](t))?0:o},f.$$arity=1),t.def(J,"$+@",m=function(){return this},m.$$arity=0),t.def(J,"$-@",y=function(){return e(0,this)},y.$$arity=0),t.def(J,"$%",g=function(t){return e(this,r(t,this.$div(t)))},g.$$arity=1),t.def(J,"$abs",b=function(){return n(this,0)?this["$-@"]():this},b.$$arity=0),t.def(J,"$abs2",v=function(){return r(this,this)},v.$$arity=0),t.def(J,"$angle",x=function(){return n(this,0)?a(l(Z,"Math"),"PI"):0},x.$$arity=0),t.alias(J,"arg","angle"),t.def(J,"$ceil",w=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},w.$$arity=-1),t.def(J,"$conj",k=function(){return this},k.$$arity=0),t.alias(J,"conjugate","conj"),t.def(J,"$denominator",E=function(){return this.$to_r().$denominator()},E.$$arity=0),t.def(J,"$div",A=function(t){return t["$=="](0)&&this.$raise(l(Z,"ZeroDivisionError"),"divided by o"),i(this,t).$floor()},A.$$arity=1),t.def(J,"$divmod",O=function(t){return[this.$div(t),this["$%"](t)]},O.$$arity=1),t.def(J,"$fdiv",S=function(t){return i(this.$to_f(),t)},S.$$arity=1),t.def(J,"$floor",R=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},R.$$arity=-1),t.def(J,"$i",C=function(){return this.$Complex(0,this)},C.$$arity=0),t.def(J,"$imag",I=function(){return 0},I.$$arity=0),t.alias(J,"imaginary","imag"),t.def(J,"$integer?",T=function(){return!1},T.$$arity=0),t.alias(J,"magnitude","abs"),t.alias(J,"modulo","%"),t.def(J,"$nonzero?",L=function(){return u(this["$zero?"]())?o:this},L.$$arity=0),t.def(J,"$numerator",N=function(){return this.$to_r().$numerator()},N.$$arity=0),t.alias(J,"phase","arg"),t.def(J,"$polar",D=function(){return[this.$abs(),this.$arg()]},D.$$arity=0),t.def(J,"$quo",B=function(t){return i(l(Z,"Opal")["$coerce_to!"](this,l(Z,"Rational"),"to_r"),t)},B.$$arity=1),t.def(J,"$real",M=function(){return this},M.$$arity=0),t.def(J,"$real?",F=function(){return!0},F.$$arity=0),t.def(J,"$rect",z=function(){return[this,0]},z.$$arity=0),t.alias(J,"rectangular","rect"),t.def(J,"$round",P=function(t){return this.$to_f().$round(t)},P.$$arity=-1),t.def(J,"$to_c",j=function(){return this.$Complex(this,0)},j.$$arity=0),t.def(J,"$to_int",q=function(){return this.$to_i()},q.$$arity=0),t.def(J,"$truncate",U=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},U.$$arity=-1),t.def(J,"$zero?",H=function(){return this["$=="](0)},H.$$arity=0),t.def(J,"$positive?",Y=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?t>e:t["$>"](e)},Y.$$arity=0),t.def(J,"$negative?",G=function(){return n(this,0)},G.$$arity=0),t.def(J,"$dup",W=function(){return this},W.$$arity=0),t.def(J,"$clone",K=function(e){if(null==e)e=h([],{});else if(!e.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==e.$$smap.freeze&&!0,this},K.$$arity=-1),t.def(J,"$finite?",X=function(){return!0},X.$$arity=0),t.def(J,"$infinite?",V=function(){return o},V.$$arity=0),o&&"infinite?"}(s[0],0,s)},Opal.modules["corelib/array"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.klass),a=t.truthy,l=t.hash2,c=t.send,u=t.gvars;return t.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),r.$require("corelib/enumerable"),r.$require("corelib/numeric"),function(r,n,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct,ut,ht,_t,dt,pt,ft,mt,yt,gt,bt,vt,xt,wt,kt,Et,At,Ot,St,Rt,Ct,It,Tt,Lt,Nt,Dt,Bt,Mt,Ft,zt,Pt,jt,qt,Ut,Ht,Yt,Gt,Wt,Kt,Xt,Vt,Jt,Zt=o(r,n,"Array"),Qt=[Zt].concat(h);function te(e,r){return r.$$name===t.Array?e:r.$allocate().$replace(e.$to_a())}function ee(t,e){return t===e||0===e?1:e>0&&t>e?ee(t-1,e-1)+ee(t-1,e):0}return Zt.$include(s(Qt,"Enumerable")),t.defineProperty(Zt.$$prototype,"$$is_array",!0),t.defs(Zt,"$[]",_=function(e){return te(t.slice.call(arguments,0,arguments.length),this)},_.$$arity=-1),t.def(Zt,"$initialize",d=function(t,e){var r,n,o=d.$$p,a=o||i;if(o&&(d.$$p=null),o&&(d.$$p=null),null==t&&(t=i),null==e&&(e=i),e!==i&&a!==i&&this.$warn("warning: block supersedes default value argument"),t>$(s(Qt,"Integer"),"MAX")&&this.$raise(s(Qt,"ArgumentError"),"array size too big"),arguments.length>2&&this.$raise(s(Qt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(t.$$is_array)return this.$replace(t.$to_a()),this;if(t["$respond_to?"]("to_ary"))return this.$replace(t.$to_ary()),this}if((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),this.splice(0,this.length),a===i)for(r=0;r<t;r++)this.push(e);else for(r=0;r<t;r++)n=a(r),this[r]=n;return this},d.$$arity=-1),t.defs(Zt,"$try_convert",p=function(t){return s(Qt,"Opal")["$coerce_to?"](t,s(Qt,"Array"),"to_ary")},p.$$arity=1),t.def(Zt,"$&",f=function(e){e=a(s(Qt,"Array")["$==="](e))?e.$to_a():s(Qt,"Opal").$coerce_to(e,s(Qt,"Array"),"to_ary").$to_a();var r,n,i,$=[],o=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(o,e[r],!0);for(r=0,n=this.length;r<n;r++)i=this[r],void 0!==t.hash_delete(o,i)&&$.push(i);return $},f.$$arity=1),t.def(Zt,"$|",m=function(e){e=a(s(Qt,"Array")["$==="](e))?e.$to_a():s(Qt,"Opal").$coerce_to(e,s(Qt,"Array"),"to_ary").$to_a();var r,n,i=l([],{});for(r=0,n=this.length;r<n;r++)t.hash_put(i,this[r],!0);for(r=0,n=e.length;r<n;r++)t.hash_put(i,e[r],!0);return i.$keys()},m.$$arity=1),t.def(Zt,"$*",y=function(t){if(a(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),a(t<0)&&this.$raise(s(Qt,"ArgumentError"),"negative argument");for(var e=[],r=this.$to_a(),n=0;n<t;n++)e=e.concat(r);return te(e,this.$class())},y.$$arity=1),t.def(Zt,"$+",g=function(t){return t=a(s(Qt,"Array")["$==="](t))?t.$to_a():s(Qt,"Opal").$coerce_to(t,s(Qt,"Array"),"to_ary").$to_a(),this.concat(t)},g.$$arity=1),t.def(Zt,"$-",b=function(e){if(e=a(s(Qt,"Array")["$==="](e))?e.$to_a():s(Qt,"Opal").$coerce_to(e,s(Qt,"Array"),"to_ary").$to_a(),a(0===this.length))return[];if(a(0===e.length))return this.slice();var r,n,i,$=[],o=l([],{});for(r=0,n=e.length;r<n;r++)t.hash_put(o,e[r],!0);for(r=0,n=this.length;r<n;r++)i=this[r],void 0===t.hash_get(o,i)&&$.push(i);return $},b.$$arity=1),t.def(Zt,"$<<",v=function(t){return this.push(t),this},v.$$arity=1),t.def(Zt,"$<=>",x=function(t){if(a(s(Qt,"Array")["$==="](t)))t=t.$to_a();else{if(!a(t["$respond_to?"]("to_ary")))return i;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),r=0;r<e;r++){var n=this[r]["$<=>"](t[r]);if(0!==n)return n}return this.length["$<=>"](t.length)},x.$$arity=1),t.def(Zt,"$==",w=function(t){var e={};return function t(r,n){var i,$,o,a;if(r===n)return!0;if(!n.$$is_array)return!!s(Qt,"Opal")["$respond_to?"](n,"to_ary")&&n["$=="](r);if(r.$$constructor!==Array&&(r=r.$to_a()),n.$$constructor!==Array&&(n=n.$to_a()),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,i=0,$=r.length;i<$;i++)if(o=r[i],a=n[i],o.$$is_array){if(a.$$is_array&&a.length!==o.length)return!1;if(!e.hasOwnProperty(o.$object_id())&&!t(o,a))return!1}else if(!o["$=="](a))return!1;return!0}(this,t)},w.$$arity=1),t.def(Zt,"$[]",k=function(e,r){return e.$$is_range?function(e,r){var n,$,s,o=e.length;return n=r.excl,$=t.Opal.$coerce_to(r.begin,t.Integer,"to_int"),s=t.Opal.$coerce_to(r.end,t.Integer,"to_int"),$<0&&($+=o)<0?i:$>o?i:s<0&&(s+=o)<0?[]:(n||(s+=1),te(e.slice($,s),e.$class()))}(this,e):function(e,r,n){var $=e.length;return(r=t.Opal.$coerce_to(r,t.Integer,"to_int"))<0&&(r+=$)<0?i:void 0===n?r>=$||r<0?i:e[r]:(n=t.Opal.$coerce_to(n,t.Integer,"to_int"))<0||r>$||r<0?i:te(e.slice(r,r+n),e.$class())}(this,e,r)},k.$$arity=-2),t.def(Zt,"$[]=",E=function(t,e,r){var n,$,o=i,l=i,c=this.length;if(a(s(Qt,"Range")["$==="](t))){o=a(s(Qt,"Array")["$==="](e))?e.$to_a():a(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var u=t.excl,h=s(Qt,"Opal").$coerce_to(t.begin,s(Qt,"Integer"),"to_int"),_=s(Qt,"Opal").$coerce_to(t.end,s(Qt,"Integer"),"to_int");if(h<0&&(h+=c)<0&&this.$raise(s(Qt,"RangeError"),t.$inspect()+" out of range"),_<0&&(_+=c),u||(_+=1),h>c)for(n=c;n<h;n++)this[n]=i;return _<0?this.splice.apply(this,[h,0].concat(o)):this.splice.apply(this,[h,_-h].concat(o)),e}if(a(void 0===r)?l=1:(l=e,e=r,o=a(s(Qt,"Array")["$==="](e))?e.$to_a():a(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),l=s(Qt,"Opal").$coerce_to(l,s(Qt,"Integer"),"to_int"),t<0&&($=t,(t+=c)<0&&this.$raise(s(Qt,"IndexError"),"index "+$+" too small for array; minimum "+-this.length)),l<0&&this.$raise(s(Qt,"IndexError"),"negative length ("+l+")"),t>c)for(n=c;n<t;n++)this[n]=i;return void 0===r?this[t]=e:this.splice.apply(this,[t,l].concat(o)),e},E.$$arity=-3),t.def(Zt,"$any?",A=function(e){var r,n=A.$$p,$=i,s=i;for(n&&(A.$$p=null),s=0,r=arguments.length,$=new Array(r);s<r;s++)$[s]=arguments[s];return n&&(A.$$p=null),0!==this.length&&c(this,t.find_super_dispatcher(this,"any?",A,!1),$,n)},A.$$arity=-1),t.def(Zt,"$assoc",O=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&e[0]["$=="](t))return e;return i},O.$$arity=1),t.def(Zt,"$at",S=function(t){return(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length?i:this[t]},S.$$arity=1),t.def(Zt,"$bsearch_index",R=function(){var e=R.$$p,r=e||i;if(e&&(R.$$p=null),e&&(R.$$p=null),r===i)return this.$enum_for("bsearch_index");for(var n,$,o,a=0,l=this.length,c=!1,u=i;a<l;){if($=this[n=a+Math.floor((l-a)/2)],!0===(o=t.yield1(r,$)))u=n,c=!0;else if(!1===o||o===i)c=!1;else if(o.$$is_number){if(0===o)return n;c=o<0}else this.$raise(s(Qt,"TypeError"),"wrong argument type "+o.$class()+" (must be numeric, true, false or nil)");c?l=n:a=n+1}return u},R.$$arity=0),t.def(Zt,"$bsearch",C=function(){var t,e=C.$$p,r=e||i;return e&&(C.$$p=null),e&&(C.$$p=null),r===i?this.$enum_for("bsearch"):null!=(t=c(this,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?this[t]:t},C.$$arity=0),t.def(Zt,"$cycle",I=function(r){var n,o,l,u,h=I.$$p,_=h||i;if(h&&(I.$$p=null),h&&(I.$$p=null),null==r&&(r=i),_===i)return c(this,"enum_for",["cycle",r],((n=function(){var t,i,o=n.$$s||this;return a(r["$nil?"]())?$(s(Qt,"Float"),"INFINITY"):(r=s(Qt,"Opal")["$coerce_to!"](r,s(Qt,"Integer"),"to_int"),a(e(r,0))?(t=o.$enumerator_size(),i=r,"number"==typeof t&&"number"==typeof i?t*i:t["$*"](i)):0)}).$$s=this,n.$$arity=0,n));if(a(a(o=this["$empty?"]())?o:r["$=="](0)))return i;if(r===i)for(;;)for(l=0,u=this.length;l<u;l++)t.yield1(_,this[l]);else{if((r=s(Qt,"Opal")["$coerce_to!"](r,s(Qt,"Integer"),"to_int"))<=0)return this;for(;r>0;){for(l=0,u=this.length;l<u;l++)t.yield1(_,this[l]);r--}}return this},I.$$arity=-1),t.def(Zt,"$clear",T=function(){return this.splice(0,this.length),this},T.$$arity=0),t.def(Zt,"$count",L=function(e){var r,n,$=L.$$p,s=$||i,o=i,l=i;for($&&(L.$$p=null),l=0,n=arguments.length,o=new Array(n);l<n;l++)o[l]=arguments[l];return $&&(L.$$p=null),null==e&&(e=i),a(a(r=e)?r:s)?c(this,t.find_super_dispatcher(this,"count",L,!1),o,$):this.$size()},L.$$arity=-1),t.def(Zt,"$initialize_copy",N=function(t){return this.$replace(t)},N.$$arity=1),t.def(Zt,"$collect",D=function(){var e,r=D.$$p,n=r||i;if(r&&(D.$$p=null),r&&(D.$$p=null),n===i)return c(this,"enum_for",["collect"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=[],s=0,o=this.length;s<o;s++){var a=t.yield1(n,this[s]);$.push(a)}return $},D.$$arity=0),t.def(Zt,"$collect!",B=function(){var e,r=B.$$p,n=r||i;if(r&&(B.$$p=null),r&&(B.$$p=null),n===i)return c(this,"enum_for",["collect!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=0,s=this.length;$<s;$++){var o=t.yield1(n,this[$]);this[$]=o}return this},B.$$arity=0),t.def(Zt,"$combination",M=function(e){var r,n,$,o,a,l,u,h,_,d=M.$$p,p=d||i;if(d&&(M.$$p=null),n=s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"Integer"),"to_int"),p===i)return c(this,"enum_for",["combination",n],((r=function(){return ee((r.$$s||this).length,n)}).$$s=this,r.$$arity=0,r));if(0===n)t.yield1(p,[]);else if(1===n)for($=0,o=this.length;$<o;$++)t.yield1(p,[this[$]]);else if(n===this.length)t.yield1(p,this.slice());else if(n>=0&&n<this.length){for(a=[],$=0;$<=n+1;$++)a.push(0);for(l=[],u=0,h=!1,a[0]=-1;!h;){for(l[u]=this[a[u+1]];u<n-1;)_=a[++u+1]=a[u]+1,l[u]=this[_];t.yield1(p,l.slice()),u++;do{h=0===u,a[u]++,u--}while(a[u+1]+n===this.length+u+1)}}return this},M.$$arity=1),t.def(Zt,"$repeated_combination",F=function(e){var r,n,$=F.$$p,o=$||i;if($&&(F.$$p=null),n=s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"Integer"),"to_int"),o===i)return c(this,"enum_for",["repeated_combination",n],((r=function(){return ee((r.$$s||this).length+n-1,n)}).$$s=this,r.$$arity=0,r));return n>=0&&function e(r,n,i,$){if(i.length!=r)for(var s=n;s<$.length;s++)i.push($[s]),e(r,s,i,$),i.pop();else{var a=i.slice();t.yield1(o,a)}}(n,0,[],this),this},F.$$arity=1),t.def(Zt,"$compact",z=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==i&&e.push(t);return e},z.$$arity=0),t.def(Zt,"$compact!",P=function(){for(var t=this.length,e=0,r=this.length;e<r;e++)this[e]===i&&(this.splice(e,1),r--,e--);return this.length===t?i:this},P.$$arity=0),t.def(Zt,"$concat",j=function(e){var r,n,$,o;return r=t.slice.call(arguments,0,arguments.length),n=c(n=r,"map",[],(($=function(t){var e=$.$$s||this;return null==t&&(t=i),t=a(s(Qt,"Array")["$==="](t))?t.$to_a():s(Qt,"Opal").$coerce_to(t,s(Qt,"Array"),"to_ary").$to_a(),a(t["$equal?"](e))&&(t=t.$dup()),t}).$$s=this,$.$$arity=1,$)),c(n,"each",[],((o=function(t){var e=o.$$s||this;null==t&&(t=i);for(var r=0,n=t.length;r<n;r++)e.push(t[r])}).$$s=this,o.$$arity=1,o)),this},j.$$arity=-1),t.def(Zt,"$delete",q=function(e){var r=q.$$p,n=r||i;r&&(q.$$p=null);for(var $=this.length,s=0,o=$;s<o;s++)this[s]["$=="](e)&&(this.splice(s,1),o--,s--);return this.length===$?n!==i?t.yieldX(n,[]):i:e},q.$$arity=1),t.def(Zt,"$delete_at",U=function(t){if((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return i;var e=this[t];return this.splice(t,1),e},U.$$arity=1),t.def(Zt,"$delete_if",H=function(){var t,e=H.$$p,r=e||i;if(e&&(H.$$p=null),e&&(H.$$p=null),r===i)return c(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,$=0,s=this.length;$<s;$++)!1!==(n=r(this[$]))&&n!==i&&(this.splice($,1),s--,$--);return this},H.$$arity=0),t.def(Zt,"$dig",Y=function(e,r){var n,$=i;return n=t.slice.call(arguments,1,arguments.length),($=this["$[]"](e))===i||0===n.length?$:(a($["$respond_to?"]("dig"))||this.$raise(s(Qt,"TypeError"),$.$class()+" does not have #dig method"),c($,"dig",t.to_a(n)))},Y.$$arity=-2),t.def(Zt,"$drop",G=function(t){return t<0&&this.$raise(s(Qt,"ArgumentError")),this.slice(t)},G.$$arity=1),t.def(Zt,"$dup",W=function(){var e,r=W.$$p,n=i,$=i;for(r&&(W.$$p=null),$=0,e=arguments.length,n=new Array(e);$<e;$++)n[$]=arguments[$];return this.$$class===t.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):c(this,t.find_super_dispatcher(this,"dup",W,!1),n,r)},W.$$arity=0),t.def(Zt,"$each",K=function(){var e,r=K.$$p,n=r||i;if(r&&(K.$$p=null),r&&(K.$$p=null),n===i)return c(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=0,s=this.length;$<s;$++)t.yield1(n,this[$]);return this},K.$$arity=0),t.def(Zt,"$each_index",X=function(){var e,r=X.$$p,n=r||i;if(r&&(X.$$p=null),r&&(X.$$p=null),n===i)return c(this,"enum_for",["each_index"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $=0,s=this.length;$<s;$++)t.yield1(n,$);return this},X.$$arity=0),t.def(Zt,"$empty?",V=function(){return 0===this.length},V.$$arity=0),t.def(Zt,"$eql?",J=function(t){var e={};return function t(r,n){var i,$,s,o;if(!n.$$is_array)return!1;if(n=n.$to_a(),r.length!==n.length)return!1;for(e[r.$object_id()]=!0,i=0,$=r.length;i<$;i++)if(s=r[i],o=n[i],s.$$is_array){if(o.$$is_array&&o.length!==s.length)return!1;if(!e.hasOwnProperty(s.$object_id())&&!t(s,o))return!1}else if(!s["$eql?"](o))return!1;return!0}(this,t)},J.$$arity=1),t.def(Zt,"$fetch",Z=function(t,e){var r=Z.$$p,n=r||i;r&&(Z.$$p=null),r&&(Z.$$p=null);var $=t;return(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(t+=this.length),t>=0&&t<this.length?this[t]:(n!==i&&null!=e&&this.$warn("warning: block supersedes default value argument"),n!==i?n($):null!=e?e:void(0===this.length?this.$raise(s(Qt,"IndexError"),"index "+$+" outside of array bounds: 0...0"):this.$raise(s(Qt,"IndexError"),"index "+$+" outside of array bounds: -"+this.length+"..."+this.length)))},Z.$$arity=-2),t.def(Zt,"$fill",Q=function(e){var r,n,$,o,l,c=Q.$$p,u=c||i,h=i,_=i,d=i,p=i,f=i;if(c&&(Q.$$p=null),c&&(Q.$$p=null),r=t.slice.call(arguments,0,arguments.length),a(u)?(a(r.length>2)&&this.$raise(s(Qt,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 0..2)"),$=r,h=null==(n=t.to_ary($))[0]?i:n[0],_=null==n[1]?i:n[1]):(a(0==r.length)?this.$raise(s(Qt,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):a(r.length>3)&&this.$raise(s(Qt,"ArgumentError"),"wrong number of arguments ("+r.$length()+" for 1..3)"),$=r,d=null==(n=t.to_ary($))[0]?i:n[0],h=null==n[1]?i:n[1],_=null==n[2]?i:n[2]),a(s(Qt,"Range")["$==="](h))){if(a(_)&&this.$raise(s(Qt,"TypeError"),"length invalid with range"),p=s(Qt,"Opal").$coerce_to(h.$begin(),s(Qt,"Integer"),"to_int"),a(p<0)&&(p+=this.length),a(p<0)&&this.$raise(s(Qt,"RangeError"),h.$inspect()+" out of range"),f=s(Qt,"Opal").$coerce_to(h.$end(),s(Qt,"Integer"),"to_int"),a(f<0)&&(f+=this.length),a(h["$exclude_end?"]())||(f+=1),a(f<=p))return this}else if(a(h))if(p=s(Qt,"Opal").$coerce_to(h,s(Qt,"Integer"),"to_int"),a(p<0)&&(p+=this.length),a(p<0)&&(p=0),a(_)){if(f=s(Qt,"Opal").$coerce_to(_,s(Qt,"Integer"),"to_int"),a(0==f))return this;f+=p}else f=this.length;else p=0,f=this.length;if(a(p>this.length))for(o=this.length;o<f;o++)this[o]=i;if(a(f>this.length)&&(this.length=f),a(u))for(this.length;p<f;p++)l=u(p),this[p]=l;else for(this.length;p<f;p++)this[p]=d;return this},Q.$$arity=-1),t.def(Zt,"$first",tt=function(t){return null==t?0===this.length?i:this[0]:((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),this.slice(0,t))},tt.$$arity=-1),t.def(Zt,"$flatten",et=function(t){var e=this;return void 0!==t&&(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int")),te(function t(r,n){var $,o,a,l,c=[];for($=0,o=(r=r.$to_a()).length;$<o;$++)if(a=r[$],s(Qt,"Opal")["$respond_to?"](a,"to_ary",!0))if((l=a.$to_ary())!==i)switch(l.$$is_array||e.$raise(s(Qt,"TypeError")),l===e&&e.$raise(s(Qt,"ArgumentError")),n){case void 0:c=c.concat(t(l));break;case 0:c.push(l);break;default:c.push.apply(c,t(l,n-1))}else c.push(a);else c.push(a);return c}(e,t),e.$class())},et.$$arity=-1),t.def(Zt,"$flatten!",rt=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var r=0,n=this.length;r<n&&this[r]===e[r];r++);if(r==n)return i}return this.$replace(e),this},rt.$$arity=-1),t.def(Zt,"$hash",nt=function(){var e,r,n,i=void 0===t.hash_ids,$=["A"],s=this.$object_id();try{if(i&&(t.hash_ids=Object.create(null)),t.hash_ids[s])return"self";for(n in t.hash_ids)if(e=t.hash_ids[n],this["$eql?"](e))return"self";for(t.hash_ids[s]=this,r=0;r<this.length;r++)e=this[r],$.push(e.$hash());return $.join(",")}finally{i&&(t.hash_ids=void 0)}},nt.$$arity=0),t.def(Zt,"$include?",it=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},it.$$arity=1),t.def(Zt,"$index",$t=function(t){var e,r,n,$=$t.$$p,s=$||i;if($&&($t.$$p=null),$&&($t.$$p=null),null!=t&&s!==i&&this.$warn("warning: given block not used"),null!=t){for(e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return e}else{if(s===i)return this.$enum_for("index");for(e=0,r=this.length;e<r;e++)if(!1!==(n=s(this[e]))&&n!==i)return e}return i},$t.$$arity=-1),t.def(Zt,"$insert",st=function(e,r){var n;if(n=t.slice.call(arguments,1,arguments.length),e=s(Qt,"Opal").$coerce_to(e,s(Qt,"Integer"),"to_int"),n.length>0){if(e<0&&(e+=this.length+1)<0&&this.$raise(s(Qt,"IndexError"),e+" is out of bounds"),e>this.length)for(var $=this.length;$<e;$++)this.push(i);this.splice.apply(this,[e,0].concat(n))}return this},st.$$arity=-2),t.def(Zt,"$inspect",ot=function(){for(var t=[],e=this.$__id__(),r=0,n=this.length;r<n;r++){var i=this["$[]"](r);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},ot.$$arity=0),t.def(Zt,"$join",at=function(e){if(null==u[","]&&(u[","]=i),null==e&&(e=i),a(0===this.length))return"";a(e===i)&&(e=u[","]);var r,n,$,o,l=[];for(r=0,n=this.length;r<n;r++)$=this[r],s(Qt,"Opal")["$respond_to?"]($,"to_str")&&(o=$.$to_str())!==i?l.push(o.$to_s()):s(Qt,"Opal")["$respond_to?"]($,"to_ary")&&((o=$.$to_ary())===this&&this.$raise(s(Qt,"ArgumentError")),o!==i)?l.push(o.$join(e)):s(Qt,"Opal")["$respond_to?"]($,"to_s")&&(o=$.$to_s())!==i?l.push(o):this.$raise(s(Qt,"NoMethodError").$new(t.inspect($)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return e===i?l.join(""):l.join(s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"String"),"to_str").$to_s())},at.$$arity=-1),t.def(Zt,"$keep_if",lt=function(){var t,e=lt.$$p,r=e||i;if(e&&(lt.$$p=null),e&&(lt.$$p=null),r===i)return c(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,$=0,s=this.length;$<s;$++)!1!==(n=r(this[$]))&&n!==i||(this.splice($,1),s--,$--);return this},lt.$$arity=0),t.def(Zt,"$last",ct=function(t){return null==t?0===this.length?i:this[this.length-1]:((t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},ct.$$arity=-1),t.def(Zt,"$length",ut=function(){return this.length},ut.$$arity=0),t.alias(Zt,"map","collect"),t.alias(Zt,"map!","collect!"),t.def(Zt,"$max",ht=function(t){var e=ht.$$p,r=e||i;return e&&(ht.$$p=null),e&&(ht.$$p=null),c(this.$each(),"max",[t],r.$to_proc())},ht.$$arity=-1),t.def(Zt,"$min",_t=function(){var t=_t.$$p,e=t||i;return t&&(_t.$$p=null),t&&(_t.$$p=null),c(this.$each(),"min",[],e.$to_proc())},_t.$$arity=0),t.def(Zt,"$permutation",dt=function(e){var r,n,$,o,a=dt.$$p,l=a||i,u=this,h=i,_=i;if(a&&(dt.$$p=null),a&&(dt.$$p=null),l===i)return c(u,"enum_for",["permutation",e],((r=function(){var t=r.$$s||this;return function(t,e){for(var r=e>=0?1:0;e;)r*=t,t--,e--;return r}(t.length,void 0===e?t.length:e)}).$$s=u,r.$$arity=0,r));if((e=void 0===e?u.length:s(Qt,"Opal").$coerce_to(e,s(Qt,"Integer"),"to_int"))<0||u.length<e);else if(0===e)t.yield1(l,[]);else if(1===e)for(var d=0;d<u.length;d++)t.yield1(l,[u[d]]);else h=s(Qt,"Array").$new(e),_=s(Qt,"Array").$new(u.length,!1),n=function(e,r,i,$,s){u=this;for(var a=0;a<u.length;a++)if($["$[]"](a)["$!"]())if(r[i]=a,i<e-1)$[a]=!0,n.call(u,e,r,i+1,$,s),$[a]=!1;else{o=[];for(var l=0;l<r.length;l++)o.push(u[r[l]]);t.yield1(s,o)}},l!==i?($=u.slice(),n.call($,e,h,0,_,l)):n.call(u,e,h,0,_,l);return u},dt.$$arity=-1),t.def(Zt,"$repeated_permutation",pt=function(e){var r,n,$=pt.$$p,o=$||i;if($&&(pt.$$p=null),n=s(Qt,"Opal")["$coerce_to!"](e,s(Qt,"Integer"),"to_int"),o===i)return c(this,"enum_for",["repeated_permutation",n],((r=function(){var t,e,i=r.$$s||this;return a((e=0,"number"==typeof(t=n)&&"number"==typeof e?t>=e:t["$>="](e)))?i.$size()["$**"](n):0}).$$s=this,r.$$arity=0,r));return function e(r,n,i){if(n.length!=r)for(var $=0;$<i.length;$++)n.push(i[$]),e(r,n,i),n.pop();else{var s=n.slice();t.yield1(o,s)}}(n,[],this.slice()),this},pt.$$arity=1),t.def(Zt,"$pop",ft=function(t){return a(void 0===t)?a(0===this.length)?i:this.pop():(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),a(t<0)&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),a(0===this.length)?[]:a(t>this.length)?this.splice(0,this.length):this.splice(this.length-t,this.length))},ft.$$arity=-1),t.def(Zt,"$product",mt=function(e){var r,n,$=mt.$$p,o=$||i;$&&(mt.$$p=null),$&&(mt.$$p=null),r=t.slice.call(arguments,0,arguments.length);var a,l,c,u,h=o!==i?null:[],_=(n=r).length+1,d=new Array(_),p=new Array(_),f=new Array(_),m=1;for(f[0]=this,a=1;a<_;a++)f[a]=s(Qt,"Opal").$coerce_to(n[a-1],s(Qt,"Array"),"to_ary");for(a=0;a<_;a++){if(0===(u=f[a].length))return h||this;(m*=u)>2147483647&&this.$raise(s(Qt,"RangeError"),"too big to product"),p[a]=u,d[a]=0}t:for(;;){for(c=[],a=0;a<_;a++)c.push(f[a][d[a]]);for(h?h.push(c):t.yield1(o,c),d[l=_-1]++;d[l]===p[l];){if(d[l]=0,--l<0)break t;d[l]++}}return h||this},mt.$$arity=-1),t.def(Zt,"$push",yt=function(e){for(var r,n=0,i=(r=t.slice.call(arguments,0,arguments.length)).length;n<i;n++)this.push(r[n]);return this},yt.$$arity=-1),t.alias(Zt,"append","push"),t.def(Zt,"$rassoc",gt=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return i},gt.$$arity=1),t.def(Zt,"$reject",bt=function(){var t,e=bt.$$p,r=e||i;if(e&&(bt.$$p=null),e&&(bt.$$p=null),r===i)return c(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,$=[],s=0,o=this.length;s<o;s++)!1!==(n=r(this[s]))&&n!==i||$.push(this[s]);return $},bt.$$arity=0),t.def(Zt,"$reject!",vt=function(){var t,e,r=vt.$$p,n=r||i;return r&&(vt.$$p=null),r&&(vt.$$p=null),n===i?c(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),c(this,"delete_if",[],n.$to_proc()),this.$length()["$=="](e)?i:this)},vt.$$arity=0),t.def(Zt,"$replace",xt=function(t){return t=a(s(Qt,"Array")["$==="](t))?t.$to_a():s(Qt,"Opal").$coerce_to(t,s(Qt,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},xt.$$arity=1),t.def(Zt,"$reverse",wt=function(){return this.slice(0).reverse()},wt.$$arity=0),t.def(Zt,"$reverse!",kt=function(){return this.reverse()},kt.$$arity=0),t.def(Zt,"$reverse_each",Et=function(){var t,e=Et.$$p,r=e||i;return e&&(Et.$$p=null),e&&(Et.$$p=null),r===i?c(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(c(this.$reverse(),"each",[],r.$to_proc()),this)},Et.$$arity=0),t.def(Zt,"$rindex",At=function(t){var e,r,n=At.$$p,$=n||i;if(n&&(At.$$p=null),n&&(At.$$p=null),null!=t&&$!==i&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if($!==i){for(e=this.length-1;e>=0&&!(e>=this.length);e--)if(!1!==(r=$(this[e]))&&r!==i)return e}else if(null==t)return this.$enum_for("rindex");return i},At.$$arity=-1),t.def(Zt,"$rotate",Ot=function(t){var e,r,n,i;return null==t&&(t=1),t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(r=t%(e=this.slice()).length,n=e.slice(r),i=e.slice(0,r),n.concat(i))},Ot.$$arity=-1),t.def(Zt,"$rotate!",St=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},St.$$arity=-1),function(e,r,n){var $,l,c=o(e,null,"SampleRandom"),u=[c].concat(n);c.$$prototype.rng=i,t.def(c,"$initialize",$=function(t){return this.rng=t},$.$$arity=1),t.def(c,"$rand",l=function(t){var e;return e=s(u,"Opal").$coerce_to(this.rng.$rand(t),s(u,"Integer"),"to_int"),a(e<0)&&this.$raise(s(u,"RangeError"),"random value must be >= 0"),a(e<t)||this.$raise(s(u,"RangeError"),"random value must be less than Array size"),e},l.$$arity=1)}(Qt[0],0,Qt),t.def(Zt,"$sample",Rt=function(t,e){var r,n,$,o,l,c,u,h,_,d=i,p=i;if(a(void 0===t))return this.$at(s(Qt,"Kernel").$rand(this.length));if(a(void 0===e)?a(d=s(Qt,"Opal")["$coerce_to?"](t,s(Qt,"Hash"),"to_hash"))?(e=d,t=i):(e=i,t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int")):(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),e=s(Qt,"Opal").$coerce_to(e,s(Qt,"Hash"),"to_hash")),a(a(r=t)?t<0:r)&&this.$raise(s(Qt,"ArgumentError"),"count must be greater than 0"),a(e)&&(p=e["$[]"]("random")),p=a(a(r=p)?p["$respond_to?"]("rand"):r)?s(Qt,"SampleRandom").$new(p):s(Qt,"Kernel"),!a(t))return this[p.$rand(this.length)];switch(t>this.length&&(t=this.length),t){case 0:return[];case 1:return[this[p.$rand(this.length)]];case 2:return(l=p.$rand(this.length))===(c=p.$rand(this.length))&&(c=0===l?l+1:l-1),[this[l],this[c]];default:if(this.length/t>3){for(n=!1,$=0,l=1,(o=s(Qt,"Array").$new(t))[0]=p.$rand(this.length);l<t;){for(u=p.$rand(this.length),c=0;c<l;){for(;u===o[c];){if(++$>100){n=!0;break}u=p.$rand(this.length)}if(n)break;c++}if(n)break;o[l]=u,l++}if(!n){for(l=0;l<t;)o[l]=this[o[l]],l++;return o}}o=this.slice();for(var f=0;f<t;f++)h=p.$rand(this.length),_=o[f],o[f]=o[h],o[h]=_;return t===this.length?o:o["$[]"](0,t)}},Rt.$$arity=-1),t.def(Zt,"$select",Ct=function(){var e,r=Ct.$$p,n=r||i;if(r&&(Ct.$$p=null),r&&(Ct.$$p=null),n===i)return c(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var $,s,o=[],a=0,l=this.length;a<l;a++)$=this[a],s=t.yield1(n,$),t.truthy(s)&&o.push($);return o},Ct.$$arity=0),t.def(Zt,"$select!",It=function(){var t,e=It.$$p,r=e||i;if(e&&(It.$$p=null),e&&(It.$$p=null),r===i)return c(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n=this.length;return c(this,"keep_if",[],r.$to_proc()),this.length===n?i:this},It.$$arity=0),t.def(Zt,"$shift",Tt=function(t){return a(void 0===t)?a(0===this.length)?i:this.shift():(t=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),a(t<0)&&this.$raise(s(Qt,"ArgumentError"),"negative array size"),a(0===this.length)?[]:this.splice(0,t))},Tt.$$arity=-1),t.alias(Zt,"size","length"),t.def(Zt,"$shuffle",Lt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},Lt.$$arity=-1),t.def(Zt,"$shuffle!",Nt=function(t){var e,r,n,$=this.length;for(void 0!==t&&(t=s(Qt,"Opal")["$coerce_to?"](t,s(Qt,"Hash"),"to_hash"))!==i&&(t=t["$[]"]("random"))!==i&&t["$respond_to?"]("rand")&&(e=t);$;)e?((r=e.$rand($).$to_int())<0&&this.$raise(s(Qt,"RangeError"),"random number too small "+r),r>=$&&this.$raise(s(Qt,"RangeError"),"random number too big "+r)):r=this.$rand($),n=this[--$],this[$]=this[r],this[r]=n;return this},Nt.$$arity=-1),t.alias(Zt,"slice","[]"),t.def(Zt,"$slice!",Dt=function(t,e){var r=i,n=i,$=i,o=i,l=i;if(r=i,a(void 0===e))if(a(s(Qt,"Range")["$==="](t))){n=t,r=this["$[]"](n),$=s(Qt,"Opal").$coerce_to(n.$begin(),s(Qt,"Integer"),"to_int"),o=s(Qt,"Opal").$coerce_to(n.$end(),s(Qt,"Integer"),"to_int"),$<0&&($+=this.length),o<0?o+=this.length:o>=this.length&&(o=this.length-1,n.excl&&(o+=1));var c=o-$;n.excl?o-=1:c+=1,$<this.length&&$>=0&&o<this.length&&o>=0&&c>0&&this.splice($,c)}else{if((l=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"))<0&&(l+=this.length),l<0||l>=this.length)return i;r=this[l],0===l?this.shift():this.splice(l,1)}else{if(l=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),(e=s(Qt,"Opal").$coerce_to(e,s(Qt,"Integer"),"to_int"))<0)return i;r=this["$[]"](l,e),l<0&&(l+=this.length),l+e>this.length&&(e=this.length-l),l<this.length&&l>=0&&this.splice(l,e)}return r},Dt.$$arity=-2),t.def(Zt,"$sort",Bt=function(){var t=Bt.$$p,r=t||i,n=this;return t&&(Bt.$$p=null),t&&(Bt.$$p=null),a(n.length>1)?(r===i&&(r=function(t,e){return t["$<=>"](e)}),n.slice().sort(function(t,$){var o,a,l=r(t,$);return l===i&&n.$raise(s(Qt,"ArgumentError"),"comparison of "+t.$inspect()+" with "+$.$inspect()+" failed"),e(l,0)?1:(a=0,("number"==typeof(o=l)&&"number"==typeof a?o<a:o["$<"](a))?-1:0)})):n},Bt.$$arity=0),t.def(Zt,"$sort!",Mt=function(){var t,e=Mt.$$p,r=e||i;e&&(Mt.$$p=null),e&&(Mt.$$p=null),t=r!==i?c(this.slice(),"sort",[],r.$to_proc()):this.slice().$sort(),this.length=0;for(var n=0,$=t.length;n<$;n++)this.push(t[n]);return this},Mt.$$arity=0),t.def(Zt,"$sort_by!",Ft=function(){var t,e=Ft.$$p,r=e||i;return e&&(Ft.$$p=null),e&&(Ft.$$p=null),r===i?c(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(c(this,"sort_by",[],r.$to_proc()))},Ft.$$arity=0),t.def(Zt,"$take",zt=function(t){return t<0&&this.$raise(s(Qt,"ArgumentError")),this.slice(0,t)},zt.$$arity=1),t.def(Zt,"$take_while",Pt=function(){var t=Pt.$$p,e=t||i;t&&(Pt.$$p=null),t&&(Pt.$$p=null);for(var r,n,$=[],s=0,o=this.length;s<o;s++){if(!1===(n=e(r=this[s]))||n===i)return $;$.push(r)}return $},Pt.$$arity=0),t.def(Zt,"$to_a",jt=function(){return this},jt.$$arity=0),t.alias(Zt,"to_ary","to_a"),t.def(Zt,"$to_h",qt=function(){var e,r,n,i,$=this.length,o=l([],{});for(e=0;e<$;e++)(r=s(Qt,"Opal")["$coerce_to?"](this[e],s(Qt,"Array"),"to_ary")).$$is_array||this.$raise(s(Qt,"TypeError"),"wrong element type "+r.$class()+" at "+e+" (expected array)"),2!==r.length&&this.$raise(s(Qt,"ArgumentError"),"wrong array length at "+e+" (expected 2, was "+r.$length()+")"),n=r[0],i=r[1],t.hash_put(o,n,i);return o},qt.$$arity=0),t.alias(Zt,"to_s","inspect"),t.def(Zt,"$transpose",Ut=function(){var e,r=i,n=i;return a(this["$empty?"]())?[]:(r=[],n=i,c(this,"each",[],((e=function($){var o,l,u=e.$$s||this;return null==$&&($=i),$=a(s(Qt,"Array")["$==="]($))?$.$to_a():s(Qt,"Opal").$coerce_to($,s(Qt,"Array"),"to_ary").$to_a(),n=a(o=n)?o:$.length,a($.length["$!="](n))&&u.$raise(s(Qt,"IndexError"),"element size differs ("+$.length+" should be "+n+")"),c($.length,"times",[],((l=function(e){l.$$s;var n,s,o,u=i;return null==e&&(e=i),(a(n=r["$[]"](e))?n:(u=[e,[]],c(r,"[]=",t.to_a(u)),u[(s=u.length,o=1,"number"==typeof s&&"number"==typeof o?s-o:s["$-"](o))]))["$<<"]($.$at(e))}).$$s=u,l.$$arity=1,l))}).$$s=this,e.$$arity=1,e)),r)},Ut.$$arity=0),t.def(Zt,"$uniq",Ht=function(){var e=Ht.$$p,r=e||i;e&&(Ht.$$p=null),e&&(Ht.$$p=null);var n,$,s,o,a=l([],{});if(r===i)for(n=0,$=this.length;n<$;n++)s=this[n],void 0===t.hash_get(a,s)&&t.hash_put(a,s,s);else for(n=0,$=this.length;n<$;n++)s=this[n],o=t.yield1(r,s),void 0===t.hash_get(a,o)&&t.hash_put(a,o,s);return te(a.$values(),this.$class())},Ht.$$arity=0),t.def(Zt,"$uniq!",Yt=function(){var e=Yt.$$p,r=e||i;e&&(Yt.$$p=null),e&&(Yt.$$p=null);var n,$,s,o,a=this.length,c=l([],{});for(n=0,$=a;n<$;n++)s=this[n],o=r===i?s:t.yield1(r,s),void 0!==t.hash_get(c,o)?(this.splice(n,1),$--,n--):t.hash_put(c,o,s);return this.length===a?i:this},Yt.$$arity=0),t.def(Zt,"$unshift",Gt=function(e){for(var r,n=(r=t.slice.call(arguments,0,arguments.length)).length-1;n>=0;n--)this.unshift(r[n]);return this},Gt.$$arity=-1),t.alias(Zt,"prepend","unshift"),t.def(Zt,"$values_at",Wt=function(e){var r,n,$=i;return r=t.slice.call(arguments,0,arguments.length),$=[],c(r,"each",[],((n=function(t){var e,r=n.$$s||this,o=i,l=i,u=i;return null==t&&(t=i),a(t["$is_a?"](s(Qt,"Range")))?(o=s(Qt,"Opal").$coerce_to(t.$last(),s(Qt,"Integer"),"to_int"),(l=s(Qt,"Opal").$coerce_to(t.$first(),s(Qt,"Integer"),"to_int"))<0?(l+=r.length,i):(o<0&&(o+=r.length),t["$exclude_end?"]()&&o--,o<l?i:c(l,"upto",[o],((e=function(t){var r=e.$$s||this;return null==t&&(t=i),$["$<<"](r.$at(t))}).$$s=r,e.$$arity=1,e)))):(u=s(Qt,"Opal").$coerce_to(t,s(Qt,"Integer"),"to_int"),$["$<<"](r.$at(u)))}).$$s=this,n.$$arity=1,n)),$},Wt.$$arity=-1),t.def(Zt,"$zip",Kt=function(e){var r,n,$=Kt.$$p,o=$||i;$&&(Kt.$$p=null),$&&(Kt.$$p=null),r=t.slice.call(arguments,0,arguments.length);var l,c,u,h,_,d=[],p=this.length;for(h=0,_=r.length;h<_;h++)(c=r[h]).$$is_array||(c.$$is_enumerator?c.$size()===1/0?r[h]=c.$take(p):r[h]=c.$to_a():r[h]=(a(n=s(Qt,"Opal")["$coerce_to?"](c,s(Qt,"Array"),"to_ary"))?n:s(Qt,"Opal")["$coerce_to!"](c,s(Qt,"Enumerator"),"each")).$to_a());for(u=0;u<p;u++){for(l=[this[u]],h=0,_=r.length;h<_;h++)null==(c=r[h][u])&&(c=i),l[h+1]=c;d[u]=l}if(o!==i){for(u=0;u<p;u++)o(d[u]);return i}return d},Kt.$$arity=-1),t.defs(Zt,"$inherited",Xt=function(t){t.$$prototype.$to_a=function(){return this.slice(0,this.length)}},Xt.$$arity=1),t.def(Zt,"$instance_variables",Vt=function(){var e,r,n=Vt.$$p,$=i,s=i;for(n&&(Vt.$$p=null),s=0,r=arguments.length,$=new Array(r);s<r;s++)$[s]=arguments[s];return c(c(this,t.find_super_dispatcher(this,"instance_variables",Vt,!1),$,n),"reject",[],((e=function(t){var r;e.$$s;return null==t&&(t=i),a(r=/^@\d+$/.test(t))?r:t["$=="]("@length")}).$$s=this,e.$$arity=1,e))},Vt.$$arity=0),s(Qt,"Opal").$pristine(Zt.$singleton_class(),"allocate"),s(Qt,"Opal").$pristine(Zt,"copy_instance_variables","initialize_dup"),t.def(Zt,"$pack",Jt=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},Jt.$$arity=-1),i&&"pack"}(n[0],Array,n)},Opal.modules["corelib/hash"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var n=t.top,i=[],$=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),n.$require("corelib/enumerable"),function(n,i,u){var h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct,ut,ht,_t,dt,pt,ft,mt,yt,gt,bt,vt=o(n,null,"Hash"),xt=[vt].concat(u);return vt.$include(s(xt,"Enumerable")),vt.$$prototype.$$is_hash=!0,t.defs(vt,"$[]",h=function(e){var r,n,i,o=(r=t.slice.call(arguments,0,arguments.length)).length;if(1===o){if((n=s(xt,"Opal")["$coerce_to?"](r["$[]"](0),s(xt,"Hash"),"to_hash"))!==$)return this.$allocate()["$merge!"](n);for((r=s(xt,"Opal")["$coerce_to?"](r["$[]"](0),s(xt,"Array"),"to_ary"))===$&&this.$raise(s(xt,"ArgumentError"),"odd number of arguments for Hash"),o=r.length,n=this.$allocate(),i=0;i<o;i++)if(r[i].$$is_array)switch(r[i].length){case 1:n.$store(r[i][0],$);break;case 2:n.$store(r[i][0],r[i][1]);break;default:this.$raise(s(xt,"ArgumentError"),"invalid number of elements ("+r[i].length+" for 1..2)")}return n}for(o%2!=0&&this.$raise(s(xt,"ArgumentError"),"odd number of arguments for Hash"),n=this.$allocate(),i=0;i<o;i+=2)n.$store(r[i],r[i+1]);return n},h.$$arity=-1),t.defs(vt,"$allocate",_=function(){var e=new this.$$constructor;return t.hash_init(e),e.$$none=$,e.$$proc=$,e},_.$$arity=0),t.defs(vt,"$try_convert",d=function(t){return s(xt,"Opal")["$coerce_to?"](t,s(xt,"Hash"),"to_hash")},d.$$arity=1),t.def(vt,"$initialize",p=function(t){var e=p.$$p,r=e||$;return e&&(p.$$p=null),e&&(p.$$p=null),void 0!==t&&r!==$&&this.$raise(s(xt,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?$:t,this.$$proc=r,this},p.$$arity=-1),t.def(vt,"$==",f=function(e){if(this===e)return!0;if(!e.$$is_hash)return!1;if(this.$$keys.length!==e.$$keys.length)return!1;for(var r,n,i,$=0,s=this.$$keys,o=s.length;$<o;$++)if((r=s[$]).$$is_string?(n=this.$$smap[r],i=e.$$smap[r]):(n=r.value,i=t.hash_get(e,r.key)),void 0===i||!n["$eql?"](i))return!1;return!0},f.$$arity=1),t.def(vt,"$>=",m=function(t){var e,r=$;return t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(r=!0,a(t,"each",[],((e=function(t,n){var i,s=e.$$s||this;null==t&&(t=$),null==n&&(n=$),null!=(i=s.$fetch(t,null))&&i===n||(r=!1)}).$$s=this,e.$$arity=2,e)),r)},m.$$arity=1),t.def(vt,"$>",y=function(t){return t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&e(this,t)},y.$$arity=1),t.def(vt,"$<",g=function(t){var e,r;return t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),r=this,"number"==typeof(e=t)&&"number"==typeof r?e>r:e["$>"](r)},g.$$arity=1),t.def(vt,"$<=",b=function(t){return e(t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Hash"),"to_hash"),this)},b.$$arity=1),t.def(vt,"$[]",v=function(e){var r=t.hash_get(this,e);return void 0!==r?r:this.$default(e)},v.$$arity=1),t.def(vt,"$[]=",x=function(e,r){return t.hash_put(this,e,r),r},x.$$arity=2),t.def(vt,"$assoc",w=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if((e=n[r]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return $},w.$$arity=1),t.def(vt,"$clear",k=function(){return t.hash_init(this),this},k.$$arity=0),t.def(vt,"$clone",E=function(){var e=new this.$$class;return t.hash_init(e),t.hash_clone(this,e),e},E.$$arity=0),t.def(vt,"$compact",A=function(){for(var e,r,n=t.hash(),i=0,s=this.$$keys,o=s.length;i<o;i++)(e=s[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r!==$&&t.hash_put(n,e,r);return n},A.$$arity=0),t.def(vt,"$compact!",O=function(){for(var e,r,n=!1,i=0,s=this.$$keys,o=s.length;i<o;i++)(e=s[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r===$&&void 0!==t.hash_delete(this,e)&&(n=!0,o--,i--);return n?this:$},O.$$arity=0),t.def(vt,"$compare_by_identity",S=function(){var e,r,n,i,$=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(i=l([],{}).$compare_by_identity(),e=0,r=$.length;e<r;e++)(n=$[e]).$$is_string||(n=n.key),t.hash_put(i,n,t.hash_get(this,n));return this.$$by_identity=!0,this.$$map=i.$$map,this.$$smap=i.$$smap,this},S.$$arity=0),t.def(vt,"$compare_by_identity?",R=function(){return!0===this.$$by_identity},R.$$arity=0),t.def(vt,"$default",C=function(t){return void 0!==t&&this.$$proc!==$&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?$:this.$$none},C.$$arity=-1),t.def(vt,"$default=",I=function(t){return this.$$proc=$,this.$$none=t,t},I.$$arity=1),t.def(vt,"$default_proc",T=function(){return void 0!==this.$$proc?this.$$proc:$},T.$$arity=0),t.def(vt,"$default_proc=",L=function(t){var e=t;return e!==$&&(e=s(xt,"Opal")["$coerce_to!"](e,s(xt,"Proc"),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise(s(xt,"TypeError"),"default_proc takes two arguments"),this.$$none=$,this.$$proc=e,t},L.$$arity=1),t.def(vt,"$delete",N=function(e){var r=N.$$p,n=r||$;r&&(N.$$p=null),r&&(N.$$p=null);var i=t.hash_delete(this,e);return void 0!==i?i:n!==$?t.yield1(n,e):$},N.$$arity=1),t.def(vt,"$delete_if",D=function(){var e,r=D.$$p,n=r||$;if(r&&(D.$$p=null),r&&(D.$$p=null),!c(n))return a(this,"enum_for",["delete_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=n(i,s))&&o!==$&&void 0!==t.hash_delete(this,i)&&(h--,l--);return this},D.$$arity=0),t.alias(vt,"dup","clone"),t.def(vt,"$dig",B=function(e,r){var n,i=$;return n=t.slice.call(arguments,1,arguments.length),(i=this["$[]"](e))===$||0===n.length?i:(c(i["$respond_to?"]("dig"))||this.$raise(s(xt,"TypeError"),i.$class()+" does not have #dig method"),a(i,"dig",t.to_a(n)))},B.$$arity=-2),t.def(vt,"$each",M=function(){var e,r=M.$$p,n=r||$;if(r&&(M.$$p=null),r&&(M.$$p=null),!c(n))return a(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=0,l=this.$$keys,u=l.length;o<u;o++)(i=l[o]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),t.yield1(n,[i,s]);return this},M.$$arity=0),t.def(vt,"$each_key",F=function(){var t,e=F.$$p,r=e||$;if(e&&(F.$$p=null),e&&(F.$$p=null),!c(r))return a(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,s=this.$$keys,o=s.length;i<o;i++)r((n=s[i]).$$is_string?n:n.key);return this},F.$$arity=0),t.alias(vt,"each_pair","each"),t.def(vt,"$each_value",z=function(){var t,e=z.$$p,r=e||$;if(e&&(z.$$p=null),e&&(z.$$p=null),!c(r))return a(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,s=this.$$keys,o=s.length;i<o;i++)r((n=s[i]).$$is_string?this.$$smap[n]:n.value);return this},z.$$arity=0),t.def(vt,"$empty?",P=function(){return 0===this.$$keys.length},P.$$arity=0),t.alias(vt,"eql?","=="),t.def(vt,"$fetch",j=function(e,r){var n=j.$$p,i=n||$;n&&(j.$$p=null),n&&(j.$$p=null);var o=t.hash_get(this,e);return void 0!==o?o:i!==$?i(e):void 0!==r?r:this.$raise(s(xt,"KeyError").$new("key not found: "+e.$inspect(),l(["key","receiver"],{key:e,receiver:this})))},j.$$arity=-2),t.def(vt,"$fetch_values",q=function(e){var r,n,i=q.$$p,s=i||$;return i&&(q.$$p=null),i&&(q.$$p=null),r=t.slice.call(arguments,0,arguments.length),a(r,"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=$),a(e,"fetch",[t],s.$to_proc())}).$$s=this,n.$$arity=1,n))},q.$$arity=-1),t.def(vt,"$flatten",U=function(t){null==t&&(t=1),t=s(xt,"Opal")["$coerce_to!"](t,s(xt,"Integer"),"to_int");for(var e,r,n=[],i=0,$=this.$$keys,o=$.length;i<o;i++)if((e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array){if(1===t){n.push(r);continue}n=n.concat(r.$flatten(t-2))}else n.push(r);return n},U.$$arity=-1),t.def(vt,"$has_key?",H=function(e){return void 0!==t.hash_get(this,e)},H.$$arity=1),t.def(vt,"$has_value?",Y=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if(((e=n[r]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},Y.$$arity=1),t.def(vt,"$hash",G=function(){var e,r,n=void 0===t.hash_ids,i=this.$object_id(),$=["Hash"];try{if(n&&(t.hash_ids=Object.create(null)),t[i])return"self";for(e in t.hash_ids)if(r=t.hash_ids[e],this["$eql?"](r))return"self";t.hash_ids[i]=this;for(var s=0,o=this.$$keys,a=o.length;s<a;s++)(e=o[s]).$$is_string?$.push([e,this.$$smap[e].$hash()]):$.push([e.key_hash,e.value.$hash()]);return $.sort().join()}finally{n&&(t.hash_ids=void 0)}},G.$$arity=0),t.alias(vt,"include?","has_key?"),t.def(vt,"$index",W=function(t){for(var e,r,n=0,i=this.$$keys,s=i.length;n<s;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return $},W.$$arity=1),t.def(vt,"$indexes",K=function(e){for(var r,n,i,$=[],s=0,o=(r=t.slice.call(arguments,0,arguments.length)).length;s<o;s++)n=r[s],void 0!==(i=t.hash_get(this,n))?$.push(i):$.push(this.$default());return $},K.$$arity=-1),t.alias(vt,"indices","indexes"),t.def(vt,"$inspect",X=function(){var t=void 0===bt,e=this.$object_id(),r=[];try{if(t&&(bt={}),bt.hasOwnProperty(e))return"{...}";bt[e]=!0;for(var n,i,$=0,s=this.$$keys,o=s.length;$<o;$++)(n=s[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),r.push(n.$inspect()+"=>"+i.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(bt=void 0)}},X.$$arity=0),t.def(vt,"$invert",V=function(){for(var e,r,n=t.hash(),i=0,$=this.$$keys,s=$.length;i<s;i++)(e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),t.hash_put(n,r,e);return n},V.$$arity=0),t.def(vt,"$keep_if",J=function(){var e,r=J.$$p,n=r||$;if(r&&(J.$$p=null),r&&(J.$$p=null),!c(n))return a(this,"enum_for",["keep_if"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=n(i,s))&&o!==$||void 0!==t.hash_delete(this,i)&&(h--,l--);return this},J.$$arity=0),t.alias(vt,"key","index"),t.alias(vt,"key?","has_key?"),t.def(vt,"$keys",Z=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(t):e.push(t.key);return e},Z.$$arity=0),t.def(vt,"$length",Q=function(){return this.$$keys.length},Q.$$arity=0),t.alias(vt,"member?","has_key?"),t.def(vt,"$merge",tt=function(t){var e=tt.$$p,r=e||$;return e&&(tt.$$p=null),e&&(tt.$$p=null),a(this.$dup(),"merge!",[t],r.$to_proc())},tt.$$arity=1),t.def(vt,"$merge!",et=function(e){var r=et.$$p,n=r||$;r&&(et.$$p=null),r&&(et.$$p=null),e.$$is_hash||(e=s(xt,"Opal")["$coerce_to!"](e,s(xt,"Hash"),"to_hash"));var i,o,a,l,c=e.$$keys,u=c.length;if(n===$){for(i=0;i<u;i++)(o=c[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),t.hash_put(this,o,l);return this}for(i=0;i<u;i++)(o=c[i]).$$is_string?l=e.$$smap[o]:(l=o.value,o=o.key),void 0!==(a=t.hash_get(this,o))?t.hash_put(this,o,n(o,a,l)):t.hash_put(this,o,l);return this},et.$$arity=1),t.def(vt,"$rassoc",rt=function(t){for(var e,r,n=0,i=this.$$keys,s=i.length;n<s;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return $},rt.$$arity=1),t.def(vt,"$rehash",nt=function(){return t.hash_rehash(this),this},nt.$$arity=0),t.def(vt,"$reject",it=function(){var e,r=it.$$p,n=r||$;if(r&&(it.$$p=null),r&&(it.$$p=null),!c(n))return a(this,"enum_for",["reject"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=t.hash(),u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=n(i,s))&&o!==$||t.hash_put(l,i,s);return l},it.$$arity=0),t.def(vt,"$reject!",$t=function(){var e,r=$t.$$p,n=r||$;if(r&&($t.$$p=null),r&&($t.$$p=null),!c(n))return a(this,"enum_for",["reject!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=!1,u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=n(i,s))&&o!==$&&void 0!==t.hash_delete(this,i)&&(l=!0,_--,u--);return l?this:$},$t.$$arity=0),t.def(vt,"$replace",st=function(e){var n=$;e=s(xt,"Opal")["$coerce_to!"](e,s(xt,"Hash"),"to_hash"),t.hash_init(this);for(var i,o,l=0,u=e.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?o=e.$$smap[i]:(o=i.value,i=i.key),t.hash_put(this,i,o);return c(e.$default_proc())?(n=[e.$default_proc()],a(this,"default_proc=",t.to_a(n)),n[r(n.length,1)]):(n=[e.$default()],a(this,"default=",t.to_a(n)),n[r(n.length,1)]),this},st.$$arity=1),t.def(vt,"$select",ot=function(){var e,r=ot.$$p,n=r||$;if(r&&(ot.$$p=null),r&&(ot.$$p=null),!c(n))return a(this,"enum_for",["select"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=t.hash(),u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=n(i,s))&&o!==$&&t.hash_put(l,i,s);return l},ot.$$arity=0),t.def(vt,"$select!",at=function(){var e,r=at.$$p,n=r||$;if(r&&(at.$$p=null),r&&(at.$$p=null),!c(n))return a(this,"enum_for",["select!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o,l=$,u=0,h=this.$$keys,_=h.length;u<_;u++)(i=h[u]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),!1!==(o=n(i,s))&&o!==$||(void 0!==t.hash_delete(this,i)&&(_--,u--),l=this);return l},at.$$arity=0),t.def(vt,"$shift",lt=function(){var e,r=this.$$keys;return r.length>0?[e=(e=r[0]).$$is_string?e:e.key,t.hash_delete(this,e)]:this.$default($)},lt.$$arity=0),t.alias(vt,"size","length"),t.def(vt,"$slice",ct=function(e){var r;r=t.slice.call(arguments,0,arguments.length);for(var n=t.hash(),i=0,$=r.length;i<$;i++){var s=r[i],o=t.hash_get(this,s);void 0!==o&&t.hash_put(n,s,o)}return n},ct.$$arity=-1),t.alias(vt,"store","[]="),t.def(vt,"$to_a",ut=function(){for(var t,e,r=[],n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},ut.$$arity=0),t.def(vt,"$to_h",ht=function(){if(this.$$class===t.Hash)return this;var e=new t.Hash;return t.hash_init(e),t.hash_clone(this,e),e},ht.$$arity=0),t.def(vt,"$to_hash",_t=function(){return this},_t.$$arity=0),t.def(vt,"$to_proc",dt=function(){var t;return a(this,"proc",[],((t=function(e){var r=t.$$s||this;return null==e&&r.$raise(s(xt,"ArgumentError"),"no key given"),r["$[]"](e)}).$$s=this,t.$$arity=-1,t))},dt.$$arity=0),t.alias(vt,"to_s","inspect"),t.def(vt,"$transform_keys",pt=function(){var e,r=pt.$$p,n=r||$;if(r&&(pt.$$p=null),r&&(pt.$$p=null),!c(n))return a(this,"enum_for",["transform_keys"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=t.hash(),l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),i=t.yield1(n,i),t.hash_put(o,i,s);return o},pt.$$arity=0),t.def(vt,"$transform_keys!",ft=function(){var e,r=ft.$$p,n=r||$;if(r&&(ft.$$p=null),r&&(ft.$$p=null),!c(n))return a(this,"enum_for",["transform_keys!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i,s,o,l,u=t.slice.call(this.$$keys),h=u.length;for(i=0;i<h;i++)(s=u[i]).$$is_string?o=this.$$smap[s]:(o=s.value,s=s.key),l=t.yield1(n,s),t.hash_delete(this,s),t.hash_put(this,l,o);return this},ft.$$arity=0),t.def(vt,"$transform_values",mt=function(){var e,r=mt.$$p,n=r||$;if(r&&(mt.$$p=null),r&&(mt.$$p=null),!c(n))return a(this,"enum_for",["transform_values"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=t.hash(),l=0,u=this.$$keys,h=u.length;l<h;l++)(i=u[l]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),s=t.yield1(n,s),t.hash_put(o,i,s);return o},mt.$$arity=0),t.def(vt,"$transform_values!",yt=function(){var e,r=yt.$$p,n=r||$;if(r&&(yt.$$p=null),r&&(yt.$$p=null),!c(n))return a(this,"enum_for",["transform_values!"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));for(var i,s,o=0,l=this.$$keys,u=l.length;o<u;o++)(i=l[o]).$$is_string?s=this.$$smap[i]:(s=i.value,i=i.key),s=t.yield1(n,s),t.hash_put(this,i,s);return this},yt.$$arity=0),t.alias(vt,"update","merge!"),t.alias(vt,"value?","has_value?"),t.alias(vt,"values_at","indexes"),t.def(vt,"$values",gt=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},gt.$$arity=0),$&&"values"}(i[0],0,i)},Opal.modules["corelib/number"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var o=t.top,a=[],l=t.nil,c=t.const_get_qualified,u=t.const_get_relative,h=(t.breaker,t.slice,t.klass),_=t.truthy,d=t.send,p=t.hash2;return t.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),o.$require("corelib/numeric"),function(o,a,f){var m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct,ut,ht,_t,dt,pt,ft,mt,yt,gt,bt,vt,xt,wt,kt,Et,At,Ot,St,Rt,Ct,It,Tt,Lt,Nt,Dt=h(o,a,"Number"),Bt=[Dt].concat(f);u(Bt,"Opal").$bridge(Number,Dt),t.defineProperty(Dt.$$prototype,"$$is_number",!0),Dt.$$is_number_class=!0,function(e,r){var n,i=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u(i,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new")}(t.get_singleton_class(Dt),Bt),t.def(Dt,"$coerce",m=function(t){if(t===l)this.$raise(u(Bt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(u(Bt,"TypeError"),"can't convert "+t.$class()+" into Float")}},m.$$arity=1),t.def(Dt,"$__id__",y=function(){return 2*this+1},y.$$arity=0),t.alias(Dt,"object_id","__id__"),t.def(Dt,"$+",g=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},g.$$arity=1),t.def(Dt,"$-",b=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},b.$$arity=1),t.def(Dt,"$*",v=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},v.$$arity=1),t.def(Dt,"$/",x=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},x.$$arity=1),t.alias(Dt,"fdiv","/"),t.def(Dt,"$%",w=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(u(Bt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},w.$$arity=1),t.def(Dt,"$&",k=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},k.$$arity=1),t.def(Dt,"$|",E=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},E.$$arity=1),t.def(Dt,"$^",A=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},A.$$arity=1),t.def(Dt,"$<",O=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},O.$$arity=1),t.def(Dt,"$<=",S=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},S.$$arity=1),t.def(Dt,"$>",R=function(t){return t.$$is_number?this>t:this.$__coerced__(">",t)},R.$$arity=1),t.def(Dt,"$>=",C=function(t){return t.$$is_number?this>=t:this.$__coerced__(">=",t)},C.$$arity=1);t.def(Dt,"$<=>",I=function(e){try{return function(t,e){return e.$$is_number?isNaN(t)||isNaN(e)?l:t>e?1:t<e?-1:0:t.$__coerced__("<=>",e)}(this,e)}catch(e){if(!t.rescue(e,[u(Bt,"ArgumentError")]))throw e;try{return l}finally{t.pop_exception()}}},I.$$arity=1),t.def(Dt,"$<<",T=function(t){return(t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int"))>0?this<<t:this>>-t},T.$$arity=1),t.def(Dt,"$>>",L=function(t){return(t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int"))>0?this>>t:this<<-t},L.$$arity=1),t.def(Dt,"$[]",N=function(t){return(t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int"))<0?0:t>=32?this<0?1:0:this>>t&1},N.$$arity=1),t.def(Dt,"$+@",D=function(){return+this},D.$$arity=0),t.def(Dt,"$-@",B=function(){return-this},B.$$arity=0),t.def(Dt,"$~",M=function(){return~this},M.$$arity=0),t.def(Dt,"$**",F=function(t){var n,i;return _(u(Bt,"Integer")["$==="](t))?_(_(n=u(Bt,"Integer")["$==="](this)["$!"]())?n:e(t,0))?Math.pow(this,t):u(Bt,"Rational").$new(this,1)["$**"](t):_((n=r(this,0))?_(i=u(Bt,"Float")["$==="](t))?i:u(Bt,"Rational")["$==="](t):r(this,0))?u(Bt,"Complex").$new(this,0)["$**"](t.$to_f()):_(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},F.$$arity=1),t.def(Dt,"$===",z=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},z.$$arity=1),t.def(Dt,"$==",P=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},P.$$arity=1),t.def(Dt,"$abs",j=function(){return Math.abs(this)},j.$$arity=0),t.def(Dt,"$abs2",q=function(){return Math.abs(this*this)},q.$$arity=0),t.def(Dt,"$allbits?",U=function(t){return(this&(t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int")))==t},U.$$arity=1),t.def(Dt,"$anybits?",H=function(t){return 0!=(this&(t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int")))},H.$$arity=1),t.def(Dt,"$angle",Y=function(){return _(this["$nan?"]())?this:0==this?1/this>0?0:Math.PI:this<0?Math.PI:0},Y.$$arity=0),t.alias(Dt,"arg","angle"),t.alias(Dt,"phase","angle"),t.def(Dt,"$bit_length",G=function(){if(_(u(Bt,"Integer")["$==="](this))||this.$raise(u(Bt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=this<0?~this:this;0!=e;)t+=1,e>>>=1;return t},G.$$arity=0),t.def(Dt,"$ceil",W=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.ceil(e*r)/r;return e%1==0&&(n=Math.round(n)),n},W.$$arity=-1),t.def(Dt,"$chr",K=function(t){return String.fromCharCode(this)},K.$$arity=-1),t.def(Dt,"$denominator",X=function(){var e,r,n=X.$$p,i=l,$=l;for(n&&(X.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?1:d(this,t.find_super_dispatcher(this,"denominator",X,!1),i,n)},X.$$arity=0),t.def(Dt,"$downto",V=function(t){var r,$=V.$$p,s=$||l;if($&&(V.$$p=null),$&&(V.$$p=null),s===l)return d(this,"enum_for",["downto",t],((r=function(){var $=r.$$s||this;return _(u(Bt,"Numeric")["$==="](t))||$.$raise(u(Bt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),_(e(t,$))?0:n(i($,t),1)}).$$s=this,r.$$arity=0,r));t.$$is_number||this.$raise(u(Bt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o>=t;o--)s(o);return this},V.$$arity=1),t.alias(Dt,"eql?","=="),t.def(Dt,"$equal?",J=function(t){var e;return _(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},J.$$arity=1),t.def(Dt,"$even?",Z=function(){return this%2==0},Z.$$arity=0),t.def(Dt,"$floor",Q=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=Math.floor(e*r)/r;return e%1==0&&(n=Math.round(n)),n},Q.$$arity=-1),t.def(Dt,"$gcd",tt=function(t){_(u(Bt,"Integer")["$==="](t))||this.$raise(u(Bt,"TypeError"),"not an integer");for(var e=Math.abs(this),r=Math.abs(t);e>0;){var n=e;e=r%e,r=n}return r},tt.$$arity=1),t.def(Dt,"$gcdlcm",et=function(t){return[this.$gcd(),this.$lcm()]},et.$$arity=1),t.def(Dt,"$integer?",rt=function(){return this%1==0},rt.$$arity=0),t.def(Dt,"$is_a?",nt=function(e){var r,n=nt.$$p,i=l,$=l;for(n&&(nt.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return!!_(e["$=="](u(Bt,"Integer"))?u(Bt,"Integer")["$==="](this):e["$=="](u(Bt,"Integer")))||(!!_(e["$=="](u(Bt,"Integer"))?u(Bt,"Integer")["$==="](this):e["$=="](u(Bt,"Integer")))||(!!_(e["$=="](u(Bt,"Float"))?u(Bt,"Float")["$==="](this):e["$=="](u(Bt,"Float")))||d(this,t.find_super_dispatcher(this,"is_a?",nt,!1),i,n)))},nt.$$arity=1),t.alias(Dt,"kind_of?","is_a?"),t.def(Dt,"$instance_of?",it=function(e){var r,n=it.$$p,i=l,$=l;for(n&&(it.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return!!_(e["$=="](u(Bt,"Integer"))?u(Bt,"Integer")["$==="](this):e["$=="](u(Bt,"Integer")))||(!!_(e["$=="](u(Bt,"Integer"))?u(Bt,"Integer")["$==="](this):e["$=="](u(Bt,"Integer")))||(!!_(e["$=="](u(Bt,"Float"))?u(Bt,"Float")["$==="](this):e["$=="](u(Bt,"Float")))||d(this,t.find_super_dispatcher(this,"instance_of?",it,!1),i,n)))},it.$$arity=1),t.def(Dt,"$lcm",$t=function(t){return _(u(Bt,"Integer")["$==="](t))||this.$raise(u(Bt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},$t.$$arity=1),t.alias(Dt,"magnitude","abs"),t.alias(Dt,"modulo","%"),t.def(Dt,"$next",st=function(){return this+1},st.$$arity=0),t.def(Dt,"$nobits?",ot=function(t){return 0==(this&(t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int")))},ot.$$arity=1),t.def(Dt,"$nonzero?",at=function(){return 0==this?l:this},at.$$arity=0),t.def(Dt,"$numerator",lt=function(){var e,r,n=lt.$$p,i=l,$=l;for(n&&(lt.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return _(_(e=this["$nan?"]())?e:this["$infinite?"]())?this:d(this,t.find_super_dispatcher(this,"numerator",lt,!1),i,n)},lt.$$arity=0),t.def(Dt,"$odd?",ct=function(){return this%2!=0},ct.$$arity=0),t.def(Dt,"$ord",ut=function(){return this},ut.$$arity=0),t.def(Dt,"$pow",ht=function(t,e){return 0==this&&this.$raise(u(Bt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(u(Bt,"Integer")["$==="](t)||this.$raise(u(Bt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&this.$raise(u(Bt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),u(Bt,"Integer")["$==="](e)||this.$raise(u(Bt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(u(Bt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},ht.$$arity=-2),t.def(Dt,"$pred",_t=function(){return this-1},_t.$$arity=0),t.def(Dt,"$quo",dt=function(e){var r,n=dt.$$p,i=l,s=l;for(n&&(dt.$$p=null),s=0,r=arguments.length,i=new Array(r);s<r;s++)i[s]=arguments[s];return _(u(Bt,"Integer")["$==="](this))?d(this,t.find_super_dispatcher(this,"quo",dt,!1),i,n):$(this,e)},dt.$$arity=1),t.def(Dt,"$rationalize",pt=function(e){var r,n,$=l,o=l;return arguments.length>1&&this.$raise(u(Bt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_(u(Bt,"Integer")["$==="](this))?u(Bt,"Rational").$new(this,1):_(this["$infinite?"]())?this.$raise(u(Bt,"FloatDomainError"),"Infinity"):_(this["$nan?"]())?this.$raise(u(Bt,"FloatDomainError"),"NaN"):_(null==e)?(n=u(Bt,"Math").$frexp(this),$=null==(r=t.to_ary(n))[0]?l:r[0],o=null==r[1]?l:r[1],$=u(Bt,"Math").$ldexp($,c(u(Bt,"Float"),"MANT_DIG")).$to_i(),o=i(o,c(u(Bt,"Float"),"MANT_DIG")),u(Bt,"Rational").$new(s(2,$),1["$<<"](i(1,o))).$rationalize(u(Bt,"Rational").$new(1,1["$<<"](i(1,o))))):this.$to_r().$rationalize(e)},pt.$$arity=-1),t.def(Dt,"$remainder",ft=function(t){return i(this,s(t,$(this,t).$truncate()))},ft.$$arity=1),t.def(Dt,"$round",mt=function(s){var o,a,h,d,p=l;if(_(u(Bt,"Integer")["$==="](this))){if(_(null==s))return this;if(_(_(o=u(Bt,"Float")["$==="](s))?s["$infinite?"]():o)&&this.$raise(u(Bt,"RangeError"),"Infinity"),s=u(Bt,"Opal")["$coerce_to!"](s,u(Bt,"Integer"),"to_int"),_(r(s,c(u(Bt,"Integer"),"MIN")))&&this.$raise(u(Bt,"RangeError"),"out of bounds"),_(s>=0))return this;if(.415241*(s=s["$-@"]())-.125>this.$size())return 0;var f=Math.pow(10,s),m=Math.floor((Math.abs(m)+f/2)/f)*f;return this<0?-m:m}if(_(_(o=this["$nan?"]())?null==s:o)&&this.$raise(u(Bt,"FloatDomainError"),"NaN"),s=u(Bt,"Opal")["$coerce_to!"](s||0,u(Bt,"Integer"),"to_int"),_((d=0,"number"==typeof(h=s)&&"number"==typeof d?h<=d:h["$<="](d))))_(this["$nan?"]())?this.$raise(u(Bt,"RangeError"),"NaN"):_(this["$infinite?"]())&&this.$raise(u(Bt,"FloatDomainError"),"Infinity");else{if(s["$=="](0))return Math.round(this);if(_(_(o=this["$nan?"]())?o:this["$infinite?"]()))return this}return a=u(Bt,"Math").$frexp(this),null==(o=t.to_ary(a))[0]?l:o[0],p=null==o[1]?l:o[1],_(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(s,i(n(c(u(Bt,"Float"),"DIG"),2),_(e(p,0))?$(p,4):i($(p,3),1))))?this:_(r(s,(_(e(p,0))?n($(p,3),1):$(p,4))["$-@"]()))?0:Math.round(this*Math.pow(10,s))/Math.pow(10,s)},mt.$$arity=-1),t.def(Dt,"$step",yt=function(e,r,n){var i,$,s,o,a,h,_,f=yt.$$p,m=f||l,y=this,g=l,b=l;if(f&&(yt.$$p=null),f&&(yt.$$p=null),i=t.slice.call(arguments,0,arguments.length),null==($=t.extract_kwargs(i)))$=p([],{});else if(!$.$$is_hash)throw t.ArgumentError.$new("expected kwargs");function v(){void 0!==a&&(s=a),void 0===s&&(s=l),o===l&&y.$raise(u(Bt,"TypeError"),"step must be numeric"),0===o&&y.$raise(u(Bt,"ArgumentError"),"step can't be 0"),void 0!==h&&(o=h),o!==l&&null!=o||(o=1);var t=o["$<=>"](0);t===l&&y.$raise(u(Bt,"ArgumentError"),"0 can't be coerced into "+o.$class()),s!==l&&null!=s||(s=t>0?c(u(Bt,"Float"),"INFINITY"):c(u(Bt,"Float"),"INFINITY")["$-@"]()),u(Bt,"Opal").$compare(y,s)}function x(){if(o>0&&y>s||o<0&&y<s)return 0;if(o===1/0||o===-1/0)return 1;var t=Math.abs,e=Math.floor,r=(t(y)+t(s)+t(s-y))/t(o)*c(u(Bt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(r>.5&&(r=.5),e((s-y)/o+r)+1)}function w(){if(v(),0===o)return 1/0;if(o%1!=0)return x();if(o>0&&y>s||o<0&&y<s)return 0;var t=Math.ceil,e=Math.abs;return t((e(y-s)+1)/e(o))}if(i.length>0&&(s=i[0],i.splice(0,1)),i.length>0&&(o=i[0],i.splice(0,1)),a=$.$$smap.to,h=$.$$smap.by,void 0!==s&&void 0!==a&&y.$raise(u(Bt,"ArgumentError"),"to is given twice"),void 0!==o&&void 0!==h&&y.$raise(u(Bt,"ArgumentError"),"step is given twice"),m===l)return g=[],b=p([],{}),void 0!==s&&g.push(s),void 0!==o&&g.push(o),void 0!==a&&t.hash_put(b,"to",a),void 0!==h&&t.hash_put(b,"by",h),b["$any?"]()&&g.push(b),d(y,"enum_for",["step"].concat(t.to_a(g)),((_=function(){_.$$s;return w()}).$$s=y,_.$$arity=0,_));if(v(),0===o)for(;;)m(y);if(y%1!=0||s%1!=0||o%1!=0){var k=x();if(k>0)if(o===1/0||o===-1/0)m(y);else{var E,A=0;if(o>0)for(;A<k;)s<(E=A*o+y)&&(E=s),m(E),A+=1;else for(;A<k;)s>(E=A*o+y)&&(E=s),m(E),A+=1}}else{var O=y;if(o>0)for(;O<=s;)m(O),O+=o;else for(;O>=s;)m(O),O+=o}return y},yt.$$arity=-1),t.alias(Dt,"succ","next"),t.def(Dt,"$times",gt=function(){var t,e=gt.$$p,r=e||l;if(e&&(gt.$$p=null),e&&(gt.$$p=null),!_(r))return d(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var n=0;n<this;n++)r(n);return this},gt.$$arity=0),t.def(Dt,"$to_f",bt=function(){return this},bt.$$arity=0),t.def(Dt,"$to_i",vt=function(){return parseInt(this,10)},vt.$$arity=0),t.alias(Dt,"to_int","to_i"),t.def(Dt,"$to_r",xt=function(){var e,r,n=l,$=l;return _(u(Bt,"Integer")["$==="](this))?u(Bt,"Rational").$new(this,1):(r=u(Bt,"Math").$frexp(this),n=null==(e=t.to_ary(r))[0]?l:e[0],$=null==e[1]?l:e[1],n=u(Bt,"Math").$ldexp(n,c(u(Bt,"Float"),"MANT_DIG")).$to_i(),$=i($,c(u(Bt,"Float"),"MANT_DIG")),s(n,c(u(Bt,"Float"),"RADIX")["$**"]($)).$to_r())},xt.$$arity=0),t.def(Dt,"$to_s",wt=function(t){var n;return null==t&&(t=10),t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int"),_(_(n=r(t,2))?n:e(t,36))&&this.$raise(u(Bt,"ArgumentError"),"invalid radix "+t),this.toString(t)},wt.$$arity=-1),t.def(Dt,"$truncate",kt=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&t>=0)return e;var r=Math.pow(10,t),n=parseInt(e*r,10)/r;return e%1==0&&(n=Math.round(n)),n},kt.$$arity=-1),t.alias(Dt,"inspect","to_s"),t.def(Dt,"$digits",Et=function(t){null==t&&(t=10),r(this,0)&&this.$raise(c(u(Bt,"Math"),"DomainError"),"out of domain"),t=u(Bt,"Opal")["$coerce_to!"](t,u(Bt,"Integer"),"to_int"),_(r(t,2))&&this.$raise(u(Bt,"ArgumentError"),"invalid radix "+t);for(var e=this,n=[];0!==e;)n.push(e%t),e=parseInt(e/t,10);return n},Et.$$arity=-1),t.def(Dt,"$divmod",At=function(e){var r,n,i=At.$$p,$=l,s=l;for(i&&(At.$$p=null),s=0,n=arguments.length,$=new Array(n);s<n;s++)$[s]=arguments[s];return _(_(r=this["$nan?"]())?r:e["$nan?"]())?this.$raise(u(Bt,"FloatDomainError"),"NaN"):_(this["$infinite?"]())?this.$raise(u(Bt,"FloatDomainError"),"Infinity"):d(this,t.find_super_dispatcher(this,"divmod",At,!1),$,i)},At.$$arity=1),t.def(Dt,"$upto",Ot=function(t){var e,$=Ot.$$p,s=$||l;if($&&(Ot.$$p=null),$&&(Ot.$$p=null),s===l)return d(this,"enum_for",["upto",t],((e=function(){var $=e.$$s||this;return _(u(Bt,"Numeric")["$==="](t))||$.$raise(u(Bt,"ArgumentError"),"comparison of "+$.$class()+" with "+t.$class()+" failed"),_(r(t,$))?0:n(i(t,$),1)}).$$s=this,e.$$arity=0,e));t.$$is_number||this.$raise(u(Bt,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed");for(var o=this;o<=t;o++)s(o);return this},Ot.$$arity=1),t.def(Dt,"$zero?",St=function(){return 0==this},St.$$arity=0),t.def(Dt,"$size",Rt=function(){return 4},Rt.$$arity=0),t.def(Dt,"$nan?",Ct=function(){return isNaN(this)},Ct.$$arity=0),t.def(Dt,"$finite?",It=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},It.$$arity=0),t.def(Dt,"$infinite?",Tt=function(){return this==1/0?1:this==-1/0?-1:l},Tt.$$arity=0),t.def(Dt,"$positive?",Lt=function(){return 0!=this&&(this==1/0||1/this>0)},Lt.$$arity=0),t.def(Dt,"$negative?",Nt=function(){return this==-1/0||1/this<0},Nt.$$arity=0)}(a[0],u(a,"Numeric"),a),t.const_set(a[0],"Fixnum",u(a,"Number")),function(e,r,n){var i=h(e,r,"Integer"),$=[i].concat(n);i.$$is_number_class=!0,function(e,r){var n,i,$,s=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u(s,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number&&t%1==0},i.$$arity=1),t.def(e,"$sqrt",$=function(t){return(t=u(s,"Opal")["$coerce_to!"](t,u(s,"Integer"),"to_int"))<0&&this.$raise(c(u(s,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},$.$$arity=1)}(t.get_singleton_class(i),$),t.const_set($[0],"MAX",Math.pow(2,30)-1),t.const_set($[0],"MIN",-Math.pow(2,30))}(a[0],u(a,"Numeric"),a),function(e,r,n){var i=h(e,r,"Float"),$=[i].concat(n);return i.$$is_number_class=!0,function(e,r){var n,i,$=[e].concat(r);t.def(e,"$allocate",n=function(){return this.$raise(u($,"TypeError"),"allocator undefined for "+this.$name())},n.$$arity=0),t.udef(e,"$new"),t.def(e,"$===",i=function(t){return!!t.$$is_number},i.$$arity=1)}(t.get_singleton_class(i),$),t.const_set($[0],"INFINITY",1/0),t.const_set($[0],"MAX",Number.MAX_VALUE),t.const_set($[0],"MIN",Number.MIN_VALUE),t.const_set($[0],"NAN",NaN),t.const_set($[0],"DIG",15),t.const_set($[0],"MANT_DIG",53),t.const_set($[0],"RADIX",2),t.const_set($[0],"EPSILON",Number.EPSILON||2.220446049250313e-16)}(a[0],u(a,"Numeric"),a)},Opal.modules["corelib/range"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var $=t.top,s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.klass),u=t.truthy,h=t.send;return t.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),$.$require("corelib/enumerable"),function($,s,_){var d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T=c($,null,"Range"),L=[T].concat(_);return T.$$prototype.begin=T.$$prototype.end=T.$$prototype.excl=o,T.$include(l(L,"Enumerable")),T.$$prototype.$$is_range=!0,T.$attr_reader("begin","end"),t.def(T,"$initialize",d=function(t,e,r){return null==r&&(r=!1),u(this.begin)&&this.$raise(l(L,"NameError"),"'initialize' called twice"),u(t["$<=>"](e))||this.$raise(l(L,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=r},d.$$arity=-3),t.def(T,"$==",p=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},p.$$arity=1),t.def(T,"$===",f=function(t){return this["$include?"](t)},f.$$arity=1),t.def(T,"$cover?",m=function(t){var n,i,$;return i=this.begin["$<=>"](t),!!u(u(n=i)?e(i,0):n)&&($=t["$<=>"](this.end),u(this.excl)?u(n=$)?r($,0):n:u(n=$)?e($,0):n)},m.$$arity=1),t.def(T,"$each",y=function(){var e,n,i,$,s=y.$$p,a=s||o,c=this,_=o;if(s&&(y.$$p=null),s&&(y.$$p=null),a===o)return c.$enum_for("each");if(c.begin.$$is_number&&c.end.$$is_number){for(c.begin%1==0&&c.end%1==0||c.$raise(l(L,"TypeError"),"can't iterate from Float"),i=c.begin,$=c.end+(u(c.excl)?0:1);i<$;i++)a(i);return c}if(c.begin.$$is_string&&c.end.$$is_string)return h(c.begin,"upto",[c.end,c.excl],a.$to_proc()),c;for(_=c.begin,n=c.end,u(_["$respond_to?"]("succ"))||c.$raise(l(L,"TypeError"),"can't iterate from "+_.$class());u(r(_["$<=>"](n),0));)t.yield1(a,_),_=_.$succ();return u(u(e=c.excl["$!"]())?_["$=="](n):e)&&t.yield1(a,_),c},y.$$arity=0),t.def(T,"$eql?",g=function(t){var e,r;return!!u(l(L,"Range")["$==="](t))&&(u(e=u(r=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):r)?this.end["$eql?"](t.$end()):e)},g.$$arity=1),t.def(T,"$exclude_end?",b=function(){return this.excl},b.$$arity=0),t.def(T,"$first",v=function(e){var r,n=v.$$p,i=o,$=o;for(n&&(v.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return u(null==e)?this.begin:h(this,t.find_super_dispatcher(this,"first",v,!1),i,n)},v.$$arity=-1),t.alias(T,"include?","cover?"),t.def(T,"$last",x=function(t){return u(null==t)?this.end:this.$to_a().$last(t)},x.$$arity=-1),t.def(T,"$max",w=function(){var e,r,i=w.$$p,$=i||o,s=o,a=o;for(i&&(w.$$p=null),a=0,r=arguments.length,s=new Array(r);a<r;a++)s[a]=arguments[a];return $!==o?h(this,t.find_super_dispatcher(this,"max",w,!1),s,i):u(n(this.begin,this.end))?o:u(u(e=this.excl)?this.begin["$=="](this.end):e)?o:this.excl?this.end-1:this.end},w.$$arity=0),t.alias(T,"member?","cover?"),t.def(T,"$min",k=function(){var e,r,i=k.$$p,$=i||o,s=o,a=o;for(i&&(k.$$p=null),a=0,r=arguments.length,s=new Array(r);a<r;a++)s[a]=arguments[a];return $!==o?h(this,t.find_super_dispatcher(this,"min",k,!1),s,i):u(n(this.begin,this.end))?o:u(u(e=this.excl)?this.begin["$=="](this.end):e)?o:this.begin},k.$$arity=0),t.def(T,"$size",E=function(){var t,e,n,i,$=o,s=o;return $=this.begin,s=this.end,u(this.excl)&&(i=1,s="number"==typeof(n=s)&&"number"==typeof i?n-i:n["$-"](i)),u(u(t=l(L,"Numeric")["$==="]($))?l(L,"Numeric")["$==="](s):t)?u(r(s,$))?0:(e=a(l(L,"Float"),"INFINITY"),u([$.$abs(),s.$abs()]["$include?"](e))?e:(Math.abs(s-$)+1).$to_i()):o},E.$$arity=0),t.def(T,"$step",A=function(e){var r,$,s,c=A.$$p,_=c||o,d=this,p=o;function f(){e.$$is_number||(e=l(L,"Opal")["$coerce_to!"](e,l(L,"Integer"),"to_int")),e<0?d.$raise(l(L,"ArgumentError"),"step can't be negative"):0===e&&d.$raise(l(L,"ArgumentError"),"step can't be 0")}function m(){if(!d.begin["$respond_to?"]("succ"))return o;if(d.begin.$$is_string&&d.end.$$is_string)return o;if(e%1==0)return(r=d.$size(),n=e,"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n)).$ceil();var t,r,n,i=d.begin,$=d.end,s=Math.abs,c=Math.floor,u=(s(i)+s($)+s($-i))/s(e)*a(l(L,"Float"),"EPSILON");return u>.5&&(u=.5),d.excl?(t=c(($-i)/e-u))*e+i<$&&t++:t=c(($-i)/e+u)+1,t}return c&&(A.$$p=null),null==e&&(e=1),_===o?h(d,"enum_for",["step",e],((r=function(){r.$$s;return f(),m()}).$$s=d,r.$$arity=0,r)):(f(),u(d.begin.$$is_number&&d.end.$$is_number)?(p=0,function(){var r=t.new_brk();try{h(d,"loop",[],(($=function(){var s,a,l,c=$.$$s||this;return null==c.begin&&(c.begin=o),null==c.excl&&(c.excl=o),null==c.end&&(c.end=o),s=i(c.begin,(l=e,"number"==typeof(a=p)&&"number"==typeof l?a*l:a["$*"](l))),u(c.excl)?u(function(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}(s,c.end))&&t.brk(o,r):u(n(s,c.end))&&t.brk(o,r),t.yield1(_,s),p=i(p,1)}).$$s=d,$.$$brk=r,$.$$arity=0,$))}catch(t){if(t===r)return t.$v;throw t}}()):(d.begin.$$is_string&&d.end.$$is_string&&e%1!=0&&d.$raise(l(L,"TypeError"),"no implicit conversion to float from string"),h(d,"each_with_index",[],((s=function(r,n){s.$$s;return null==r&&(r=o),null==n&&(n=o),n["$%"](e)["$=="](0)?t.yield1(_,r):o}).$$s=d,s.$$arity=2,s))),d)},A.$$arity=-1),t.def(T,"$bsearch",O=function(){var t=O.$$p,e=t||o;return t&&(O.$$p=null),t&&(O.$$p=null),e===o?this.$enum_for("bsearch"):(u(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(l(L,"TypeError"),"can't do binary search for "+this.begin.$class()),h(this.$to_a(),"bsearch",[],e.$to_proc()))},O.$$arity=0),t.def(T,"$to_s",S=function(){var t=this;return t.begin+(u(t.excl)?"...":"..")+t.end},S.$$arity=0),t.def(T,"$inspect",R=function(){var t=this;return t.begin.$inspect()+(u(t.excl)?"...":"..")+t.end.$inspect()},R.$$arity=0),t.def(T,"$marshal_load",C=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},C.$$arity=1),t.def(T,"$hash",I=function(){return[this.begin,this.end,this.excl].$hash()},I.$$arity=0),o&&"hash"}(s[0],0,s)},Opal.modules["corelib/proc"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice),$=t.klass,s=t.truthy;return t.add_stubs(["$raise","$coerce_to!"]),function(e,o,a){var l,c,u,h,_,d,p,f,m,y,g=$(e,o,"Proc"),b=[g].concat(a);return t.defineProperty(g.$$prototype,"$$is_proc",!0),t.defineProperty(g.$$prototype,"$$is_lambda",!1),t.defs(g,"$new",l=function(){var t=l.$$p,e=t||r;return t&&(l.$$p=null),t&&(l.$$p=null),s(e)||this.$raise(n(b,"ArgumentError"),"tried to create a Proc object without a block"),e},l.$$arity=0),t.def(g,"$call",c=function(e){var n,i=c.$$p,$=i||r;i&&(c.$$p=null),i&&(c.$$p=null),n=t.slice.call(arguments,0,arguments.length),$!==r&&(this.$$p=$);var s,o=this.$$brk;if(o)try{s=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n)}catch(t){if(t===o)return o.$v;throw t}else s=this.$$is_lambda?this.apply(null,n):t.yieldX(this,n);return s},c.$$arity=-1),t.alias(g,"[]","call"),t.alias(g,"===","call"),t.alias(g,"yield","call"),t.def(g,"$to_proc",u=function(){return this},u.$$arity=0),t.def(g,"$lambda?",h=function(){return!!this.$$is_lambda},h.$$arity=0),t.def(g,"$arity",_=function(){return this.$$is_curried?-1:this.$$arity},_.$$arity=0),t.def(g,"$source_location",d=function(){return this.$$is_curried,r},d.$$arity=0),t.def(g,"$binding",p=function(){return this.$$is_curried&&this.$raise(n(b,"ArgumentError"),"Can't create Binding"),r},p.$$arity=0),t.def(g,"$parameters",f=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,r=[];for(t=0,e=this.$$parameters.length;t<e;t++){var n=this.$$parameters[t];"req"===n[0]&&(n=["opt",n[1]]),r.push(n)}return r}return[]},f.$$arity=0),t.def(g,"$curry",m=function(t){var e=this;function r(){var $,s=i.call(arguments),o=s.length;return o>t&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(n(b,"ArgumentError"),"wrong number of arguments ("+o+" for "+t+")"),o>=t?e.$call.apply(e,s):(($=function(){return r.apply(null,s.concat(i.call(arguments)))}).$$is_lambda=e.$$is_lambda,$.$$is_curried=!0,$)}return void 0===t?t=e.length:(t=n(b,"Opal")["$coerce_to!"](t,n(b,"Integer"),"to_int"),e.$$is_lambda&&t!==e.length&&e.$raise(n(b,"ArgumentError"),"wrong number of arguments ("+t+" for "+e.length+")")),r.$$is_lambda=e.$$is_lambda,r.$$is_curried=!0,r},m.$$arity=-1),t.def(g,"$dup",y=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e},y.$$arity=0),t.alias(g,"clone","dup")}(e[0],Function,e)},Opal.modules["corelib/method"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(e,s,o){var a,l,c,u,h,_,d,p,f,m=i(e,null,"Method"),y=[m].concat(o);m.$$prototype.method=m.$$prototype.receiver=m.$$prototype.owner=m.$$prototype.name=r,m.$attr_reader("owner","receiver","name"),t.def(m,"$initialize",a=function(t,e,r,n){return this.receiver=t,this.owner=e,this.name=n,this.method=r},a.$$arity=4),t.def(m,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(m,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.def(m,"$source_location",u=function(){var t;return $(t=this.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.def(m,"$comments",h=function(){var t;return $(t=this.method.$$comments)?t:[]},h.$$arity=0),t.def(m,"$call",_=function(e){var n,i=_.$$p,$=i||r;return i&&(_.$$p=null),i&&(_.$$p=null),n=t.slice.call(arguments,0,arguments.length),this.method.$$p=$,this.method.apply(this.receiver,n)},_.$$arity=-1),t.alias(m,"[]","call"),t.def(m,"$unbind",d=function(){return n(y,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},d.$$arity=0),t.def(m,"$to_proc",p=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t.$$arity=this.method.$$arity,t.$$parameters=this.method.$$parameters,t},p.$$arity=0),t.def(m,"$inspect",f=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},f.$$arity=0)}(e[0],0,e),function(e,s,o){var a,l,c,u,h,_,d,p=i(e,null,"UnboundMethod"),f=[p].concat(o);return p.$$prototype.method=p.$$prototype.owner=p.$$prototype.name=p.$$prototype.source=r,p.$attr_reader("source","owner","name"),t.def(p,"$initialize",a=function(t,e,r,n){return this.source=t,this.owner=e,this.method=r,this.name=n},a.$$arity=4),t.def(p,"$arity",l=function(){return this.method.$arity()},l.$$arity=0),t.def(p,"$parameters",c=function(){return this.method.$$parameters},c.$$arity=0),t.def(p,"$source_location",u=function(){var t;return $(t=this.method.$$source_location)?t:["(eval)",0]},u.$$arity=0),t.def(p,"$comments",h=function(){var t;return $(t=this.method.$$comments)?t:[]},h.$$arity=0),t.def(p,"$bind",_=function(e){if(this.owner.$$is_module||t.is_a(e,this.owner))return n(f,"Method").$new(e,this.owner,this.method,this.name);this.$raise(n(f,"TypeError"),"can't bind singleton method to a different class (expected "+e+".kind_of?("+this.owner+" to be true)")},_.$$arity=1),t.def(p,"$inspect",d=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},d.$$arity=0),r&&"inspect"}(e[0],0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),$=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",$([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),function(e,$){var s=[i(e,"Opal")].concat($);t.const_set(s[0],"REGEXP_START",n(s,"RUBY_ENGINE")["$=="]("opal")?"^":r),t.const_set(s[0],"REGEXP_END",n(s,"RUBY_ENGINE")["$=="]("opal")?"$":r),t.const_set(s[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"INLINE_IDENTIFIER_REGEXP",n(s,"Regexp").$new("[^"+n(s,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+n(s,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),t.const_set(s[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.const_set(s[0],"CONST_NAME_REGEXP",n(s,"Regexp").$new(n(s,"REGEXP_START")+"(::)?[A-Z][^"+n(s,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+n(s,"REGEXP_END")))}(e[0],e)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(t){var e,r,n,i,$,s=t.top,o=[],a=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.klass),h=t.hash2,_=t.truthy,d=t.send;return t.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),s.$require("corelib/string"),function(e,r,n){var i,$,s,o,l,p,f,m,y,g,b=u(e,null,"Encoding"),v=[b].concat(n);b.$$prototype.ascii=b.$$prototype.dummy=b.$$prototype.name=a,t.defineProperty(b,"$$register",{}),t.defs(b,"$register",i=function(t,e){var r,n,$,s,o,l=i.$$p,u=l||a,p=a,f=a;return l&&(i.$$p=null),l&&(i.$$p=null),null==e&&(e=h([],{})),s=[t],o=_(r=e["$[]"]("aliases"))?r:[],p="number"==typeof s&&"number"==typeof o?s+o:s["$+"](o),$=d(c(v,"Class"),"new",[this],u.$to_proc()).$new(t,p,!!_(r=e["$[]"]("ascii"))&&r,!!_(r=e["$[]"]("dummy"))&&r),f=this.$$register,d(p,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=a),e.$const_set(t.$sub("-","_"),$),f["$$"+t]=$}).$$s=this,n.$$arity=1,n))},i.$$arity=-2),t.defs(b,"$find",$=function(t){var e,r,n;return t["$=="]("default_external")?this.$default_external():(r=this.$$register,n=_(e=r["$$"+t])?e:r["$$"+t.$upcase()],_(n)||this.$raise(c(v,"ArgumentError"),"unknown encoding name - "+t),n)},$.$$arity=1),function(t,e){[t].concat(e);t.$attr_accessor("default_external")}(t.get_singleton_class(b),v),b.$attr_reader("name","names"),t.def(b,"$initialize",s=function(t,e,r,n){return this.name=t,this.names=e,this.ascii=r,this.dummy=n},s.$$arity=4),t.def(b,"$ascii_compatible?",o=function(){return this.ascii},o.$$arity=0),t.def(b,"$dummy?",l=function(){return this.dummy},l.$$arity=0),t.def(b,"$to_s",p=function(){return this.name},p.$$arity=0),t.def(b,"$inspect",f=function(){var t=this;return"#<Encoding:"+t.name+(_(t.dummy)?" (dummy)":a)+">"},f.$$arity=0),t.def(b,"$each_byte",m=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(c(v,"NotImplementedError"))},m.$$arity=-1),t.def(b,"$getbyte",y=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(c(v,"NotImplementedError"))},y.$$arity=-1),t.def(b,"$bytesize",g=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(c(v,"NotImplementedError"))},g.$$arity=-1),function(t,e,r){[u(t,e,"EncodingError")].concat(r)}(v[0],c(v,"StandardError"),v),function(t,e,r){[u(t,e,"CompatibilityError")].concat(r)}(v[0],c(v,"EncodingError"),v)}(o[0],0,o),d(c(o,"Encoding"),"register",["UTF-8",h(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((e=function(){var r,n,i=e.$$s||this;return t.def(i,"$each_byte",r=function(e){var n=r.$$p,i=n||a;n&&(r.$$p=null),n&&(r.$$p=null);for(var $=0,s=e.length;$<s;$++){var o=e.charCodeAt($);if(o<=127)t.yield1(i,o);else for(var l=encodeURIComponent(e.charAt($)).substr(1).split("%"),c=0,u=l.length;c<u;c++)t.yield1(i,parseInt(l[c],16))}},r.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),a&&"bytesize"}).$$s=s,e.$$arity=0,e)),d(c(o,"Encoding"),"register",["UTF-16LE"],((r=function(){var e,n,i=r.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(i,"$bytesize",n=function(t){return t.$bytes().$length()},n.$$arity=1),a&&"bytesize"}).$$s=s,r.$$arity=0,r)),d(c(o,"Encoding"),"register",["UTF-16BE"],((n=function(){var e,r,i=n.$$s||this;return t.def(i,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);t.yield1(i,o>>8),t.yield1(i,255&o)}},e.$$arity=1),t.def(i,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),a&&"bytesize"}).$$s=s,n.$$arity=0,n)),d(c(o,"Encoding"),"register",["UTF-32LE"],((i=function(){var e,r,n=i.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),a&&"bytesize"}).$$s=s,i.$$arity=0,i)),d(c(o,"Encoding"),"register",["ASCII-8BIT",h(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(($=function(){var e,r,n=$.$$s||this;return t.def(n,"$each_byte",e=function(r){var n=e.$$p,i=n||a;n&&(e.$$p=null),n&&(e.$$p=null);for(var $=0,s=r.length;$<s;$++){var o=r.charCodeAt($);t.yield1(i,255&o),t.yield1(i,o>>8)}},e.$$arity=1),t.def(n,"$bytesize",r=function(t){return t.$bytes().$length()},r.$$arity=1),a&&"bytesize"}).$$s=s,$.$$arity=0,$)),function(e,r,n){var i,$,s,o,h,_,p,f=u(e,null,"String"),m=[f].concat(n);return f.$$prototype.encoding=a,f.$attr_reader("encoding"),t.defineProperty(String.prototype,"encoding",l(c(m,"Encoding"),"UTF_16LE")),t.def(f,"$bytes",i=function(){return this.$each_byte().$to_a()},i.$$arity=0),t.def(f,"$bytesize",$=function(){return this.encoding.$bytesize(this)},$.$$arity=0),t.def(f,"$each_byte",s=function(){var t=s.$$p,e=t||a;return t&&(s.$$p=null),t&&(s.$$p=null),e===a?this.$enum_for("each_byte"):(d(this.encoding,"each_byte",[this],e.$to_proc()),this)},s.$$arity=0),t.def(f,"$encode",o=function(t){return this.$dup().$force_encoding(t)},o.$$arity=1),t.def(f,"$force_encoding",h=function(t){return t===this.encoding?this:(t=c(m,"Opal")["$coerce_to!"](t,c(m,"String"),"to_s"),(t=c(m,"Encoding").$find(t))===this.encoding?this:(this.encoding=t,this))},h.$$arity=1),t.def(f,"$getbyte",_=function(t){return this.encoding.$getbyte(this,t)},_.$$arity=1),t.def(f,"$valid_encoding?",p=function(){return!0},p.$$arity=0),a&&"valid_encoding?"}(o[0],0,o)},Opal.modules["corelib/struct"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var s=t.top,o=[],a=t.nil,l=(t.const_get_qualified,t.const_get_relative),c=(t.breaker,t.slice,t.klass),u=t.hash2,h=t.truthy,_=t.send;return t.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),s.$require("corelib/enumerable"),function(s,o,d){var p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N=c(s,null,"Struct"),D=[N].concat(d);return N.$include(l(D,"Enumerable")),t.defs(N,"$new",p=function(e,r,n){var i,$,s,o,c,d,f=p.$$p,m=f||a,y=a;if(f&&(p.$$p=null),f&&(p.$$p=null),i=t.slice.call(arguments,1,arguments.length),null==($=t.extract_kwargs(i)))$=u([],{});else if(!$.$$is_hash)throw t.ArgumentError.$new("expected kwargs");if(s=i,null==(o=$.$$smap.keyword_init)&&(o=!1),h(e))try{e=l(D,"Opal")["$const_name!"](e)}catch(r){if(!t.rescue(r,[l(D,"TypeError"),l(D,"NameError")]))throw r;try{s.$unshift(e),e=a}finally{t.pop_exception()}}return _(s,"map",[],((c=function(t){c.$$s;return null==t&&(t=a),l(D,"Opal")["$coerce_to!"](t,l(D,"String"),"to_str")}).$$s=this,c.$$arity=1,c)),y=_(l(D,"Class"),"new",[this],((d=function(){var e,r=d.$$s||this;return _(s,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=a),r.$define_struct_attribute(t)}).$$s=r,e.$$arity=1,e)),function(e,r){var n;[e].concat(r);return t.def(e,"$new",n=function(e){var r,n=a;return r=t.slice.call(arguments,0,arguments.length),(n=this.$allocate()).$$data={},_(n,"initialize",t.to_a(r)),n},n.$$arity=-1),e.$alias_method("[]","new")}(t.get_singleton_class(r),D)}).$$s=this,d.$$arity=0,d)),h(m)&&_(y,"module_eval",[],m.$to_proc()),y.$$keyword_init=o,h(e)&&l(D,"Struct").$const_set(e,y),y},p.$$arity=-2),t.defs(N,"$define_struct_attribute",f=function(t){var e,r;return this["$=="](l(D,"Struct"))&&this.$raise(l(D,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](t),_(this,"define_method",[t],((e=function(){return(e.$$s||this).$$data[t]}).$$s=this,e.$$arity=0,e)),_(this,"define_method",[t+"="],((r=function(e){var n=r.$$s||this;return null==e&&(e=a),n.$$data[t]=e}).$$s=this,r.$$arity=1,r))},f.$$arity=1),t.defs(N,"$members",m=function(){var t;return null==this.members&&(this.members=a),this["$=="](l(D,"Struct"))&&this.$raise(l(D,"ArgumentError"),"the Struct class has no members"),this.members=h(t=this.members)?t:[]},m.$$arity=0),t.defs(N,"$inherited",y=function(t){var e,r;return null==this.members&&(this.members=a),r=this.members,_(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=r}).$$s=this,e.$$arity=0,e))},y.$$arity=1),t.def(N,"$initialize",g=function(n){var i,$,s,o,c,d=a,p=a;return i=t.slice.call(arguments,0,arguments.length),$=i,h(this.$class().$$keyword_init)?(d=h(s=$.$last())?s:u([],{}),h(h(s=e($.$length(),1))?s:1===$.length&&!d.$$is_hash)&&this.$raise(l(D,"ArgumentError"),"wrong number of arguments (given "+$.$length()+", expected 0)"),p=r(d.$keys(),this.$class().$members()),h(p["$any?"]())&&this.$raise(l(D,"ArgumentError"),"unknown keywords: "+p.$join(", ")),_(this.$class().$members(),"each",[],((o=function(e){var n,i=o.$$s||this;return null==e&&(e=a),n=[e,d["$[]"](e)],_(i,"[]=",t.to_a(n)),n[r(n.length,1)]}).$$s=this,o.$$arity=1,o))):(h(e($.$length(),this.$class().$members().$length()))&&this.$raise(l(D,"ArgumentError"),"struct size differs"),_(this.$class().$members(),"each_with_index",[],((c=function(e,n){var i,s=c.$$s||this;return null==e&&(e=a),null==n&&(n=a),i=[e,$["$[]"](n)],_(s,"[]=",t.to_a(i)),i[r(i.length,1)]}).$$s=this,c.$$arity=2,c)))},g.$$arity=-1),t.def(N,"$members",b=function(){return this.$class().$members()},b.$$arity=0),t.def(N,"$hash",v=function(){return l(D,"Hash").$new(this.$$data).$hash()},v.$$arity=0),t.def(N,"$[]",x=function(t){return h(l(D,"Integer")["$==="](t))?(h(n(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(l(D,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),h(i(t,this.$class().$members().$size()))&&this.$raise(l(D,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):h(l(D,"String")["$==="](t))?this.$$data.hasOwnProperty(t)||this.$raise(l(D,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(l(D,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(D,"Opal")["$coerce_to!"](t,l(D,"String"),"to_str"),this.$$data[t]},x.$$arity=1),t.def(N,"$[]=",w=function(t,e){return h(l(D,"Integer")["$==="](t))?(h(n(t,this.$class().$members().$size()["$-@"]()))&&this.$raise(l(D,"IndexError"),"offset "+t+" too small for struct(size:"+this.$class().$members().$size()+")"),h(i(t,this.$class().$members().$size()))&&this.$raise(l(D,"IndexError"),"offset "+t+" too large for struct(size:"+this.$class().$members().$size()+")"),t=this.$class().$members()["$[]"](t)):h(l(D,"String")["$==="](t))?h(this.$class().$members()["$include?"](t.$to_sym()))||this.$raise(l(D,"NameError").$new("no member '"+t+"' in struct",t)):this.$raise(l(D,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=l(D,"Opal")["$coerce_to!"](t,l(D,"String"),"to_str"),this.$$data[t]=e},w.$$arity=2),t.def(N,"$==",k=function(t){if(!h(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,i){var $,s,o;for($ in e[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if(s=n.$$data[$],o=i.$$data[$],l(D,"Struct")["$==="](s)){if(!(e.hasOwnProperty(s.$__id__())&&r.hasOwnProperty(o.$__id__())||t(s,o)))return!1}else if(!s["$=="](o))return!1;return!0}(this,t)},k.$$arity=1),t.def(N,"$eql?",E=function(t){if(!h(t["$instance_of?"](this.$class())))return!1;var e={},r={};return function t(n,i){var $,s,o;for($ in e[n.$__id__()]=!0,r[i.$__id__()]=!0,n.$$data)if(s=n.$$data[$],o=i.$$data[$],l(D,"Struct")["$==="](s)){if(!(e.hasOwnProperty(s.$__id__())&&r.hasOwnProperty(o.$__id__())||t(s,o)))return!1}else if(!s["$eql?"](o))return!1;return!0}(this,t)},E.$$arity=1),t.def(N,"$each",A=function(){var e,r,n=A.$$p,i=n||a;return n&&(A.$$p=null),i===a?_(this,"enum_for",["each"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(_(this.$class().$members(),"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=a),t.yield1(i,n["$[]"](e))}).$$s=this,r.$$arity=1,r)),this)},A.$$arity=0),t.def(N,"$each_pair",O=function(){var e,r,n=O.$$p,i=n||a;return n&&(O.$$p=null),i===a?_(this,"enum_for",["each_pair"],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e)):(_(this.$class().$members(),"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=a),t.yield1(i,[e,n["$[]"](e)])}).$$s=this,r.$$arity=1,r)),this)},O.$$arity=0),t.def(N,"$length",S=function(){return this.$class().$members().$length()},S.$$arity=0),t.alias(N,"size","length"),t.def(N,"$to_a",R=function(){var t;return _(this.$class().$members(),"map",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=a),r["$[]"](e)}).$$s=this,t.$$arity=1,t))},R.$$arity=0),t.alias(N,"values","to_a"),t.def(N,"$inspect",C=function(){var t,e,r=a;return r="#<struct ",h(h(t=l(D,"Struct")["$==="](this))?this.$class().$name():t)&&(r=$(r,this.$class()+" ")),r=$(r,_(this.$each_pair(),"map",[],(e=function(t,r){e.$$s;return null==t&&(t=a),null==r&&(r=a),t+"="+r.$inspect()},e.$$s=this,e.$$arity=2,e)).$join(", ")),r=$(r,">")},C.$$arity=0),t.alias(N,"to_s","inspect"),t.def(N,"$to_h",I=function(){var e;return _(this.$class().$members(),"each_with_object",[u([],{})],((e=function(n,i){var $,s=e.$$s||this;return null==n&&(n=a),null==i&&(i=a),$=[n,s["$[]"](n)],_(i,"[]=",t.to_a($)),$[r($.length,1)]}).$$s=this,e.$$arity=2,e))},I.$$arity=0),t.def(N,"$values_at",T=function(e){var r,n,i;r=t.slice.call(arguments,0,arguments.length);for(var $=[],s=0,o=(n=_(n=r,"map",[],(i=function(t){i.$$s;return null==t&&(t=a),t.$$is_range?t.$to_a():t},i.$$s=this,i.$$arity=1,i)).$flatten()).length;s<o;s++)n[s].$$is_number||this.$raise(l(D,"TypeError"),"no implicit conversion of "+n[s].$class()+" into Integer"),$.push(this["$[]"](n[s]));return $},T.$$arity=-1),t.def(N,"$dig",L=function(e,r){var n,i=this,$=a;return n=t.slice.call(arguments,1,arguments.length),($=h(e.$$is_string&&i.$$data.hasOwnProperty(e))&&i.$$data[e]||a)===a||0===n.length?$:(h($["$respond_to?"]("dig"))||i.$raise(l(D,"TypeError"),$.$class()+" does not have #dig method"),_($,"dig",t.to_a(n)))},L.$$arity=-2),a&&"dig"}(o[0],0,o)},Opal.modules["corelib/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.klass),o=t.module,a=t.send,l=t.gvars,c=t.truthy,u=n;t.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(e,r,i){var u,h,_,d,p=s(e,null,"IO"),f=[p].concat(i);p.$$prototype.tty=p.$$prototype.closed=n,t.const_set(f[0],"SEEK_SET",0),t.const_set(f[0],"SEEK_CUR",1),t.const_set(f[0],"SEEK_END",2),t.def(p,"$tty?",u=function(){return this.tty},u.$$arity=0),t.def(p,"$closed?",h=function(){return this.closed},h.$$arity=0),p.$attr_accessor("write_proc"),t.def(p,"$write",_=function(t){return this.write_proc(t),t.$size()},_.$$arity=1),p.$attr_accessor("sync","tty"),t.def(p,"$flush",d=function(){return n},d.$$arity=0),function(e,r){var i,$,s,u=o(e,"Writable");[u].concat(r);t.def(u,"$<<",i=function(t){return this.$write(t),this},i.$$arity=1),t.def(u,"$print",$=function(e){var r,i;return null==l[","]&&(l[","]=n),r=t.slice.call(arguments,0,arguments.length),this.$write(a(r,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=n),e.$String(t)},i.$$s=this,i.$$arity=1,i)).$join(l[","])),n},$.$$arity=-1),t.def(u,"$puts",s=function(e){var r,i,$;return null==l["/"]&&(l["/"]=n),r=t.slice.call(arguments,0,arguments.length),$=l["/"],c(r["$empty?"]())?this.$write(l["/"]):this.$write(a(r,"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=n),e.$String(t).$chomp()},i.$$s=this,i.$$arity=1,i)).$concat([n]).$join($)),n},s.$$arity=-1)}(f[0],f),function(e,r){var i,s,a,c,u=o(e,"Readable"),h=[u].concat(r);t.def(u,"$readbyte",i=function(){return this.$getbyte()},i.$$arity=0),t.def(u,"$readchar",s=function(){return this.$getc()},s.$$arity=0),t.def(u,"$readline",a=function(t){return null==l["/"]&&(l["/"]=n),null==t&&(t=l["/"]),this.$raise($(h,"NotImplementedError"))},a.$$arity=-1),t.def(u,"$readpartial",c=function(t,e){return null==e&&(e=n),this.$raise($(h,"NotImplementedError"))},c.$$arity=-2)}(f[0],f)}(r[0],0,r),t.const_set(r[0],"STDERR",l.stderr=$(r,"IO").$new()),t.const_set(r[0],"STDIN",l.stdin=$(r,"IO").$new()),t.const_set(r[0],"STDOUT",l.stdout=$(r,"IO").$new());var h=t.global.console;return u=["object"===(void 0===process?"undefined":_typeof(process))&&"object"===_typeof(process.stdout)?function(t){process.stdout.write(t)}:function(t){h.log(t)}],a($(r,"STDOUT"),"write_proc=",t.to_a(u)),u[e(u.length,1)],u=["object"===(void 0===process?"undefined":_typeof(process))&&"object"===_typeof(process.stderr)?function(t){process.stderr.write(t)}:function(t){h.warn(t)}],a($(r,"STDERR"),"write_proc=",t.to_a(u)),u[e(u.length,1)],$(r,"STDOUT").$extend(i($(r,"IO"),"Writable")),$(r,"STDERR").$extend(i($(r,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],$=t.nil,s=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return s(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$[]"]),function(e,s,o){var a=i(e,null,"Dir"),l=[a].concat(o);return function(e,i){var s,o,a,l=[e].concat(i);return t.def(e,"$chdir",s=function(e){var n=s.$$p,i=n||r,$=r;return n&&(s.$$p=null),function(){try{return $=t.current_dir,t.current_dir=e,t.yieldX(i,[])}finally{t.current_dir=$}}()},s.$$arity=1),t.def(e,"$pwd",o=function(){return t.current_dir||"."},o.$$arity=0),t.alias(e,"getwd","pwd"),t.def(e,"$home",a=function(){var t;return $(t=n(l,"ENV")["$[]"]("HOME"))?t:"."},a.$$arity=0),r&&"home"}(t.get_singleton_class(a),l)}(e[0],0,e)},Opal.modules["corelib/file"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.klass),s=t.truthy,o=t.range,a=t.send;return t.add_stubs(["$respond_to?","$to_path","$pwd","$split","$sub","$+","$unshift","$join","$home","$raise","$start_with?","$absolute_path","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(r,l,c){var u=$(r,l,"File"),h=[u].concat(c),_=n;return t.const_set(h[0],"Separator",t.const_set(h[0],"SEPARATOR","/")),t.const_set(h[0],"ALT_SEPARATOR",n),t.const_set(h[0],"PATH_SEPARATOR",":"),t.const_set(h[0],"FNM_SYSCASE",0),_=/^[a-zA-Z]:(?:\\|\/)/,function(r,$){var l,c,u,h,d,p,f,m,y,g=[r].concat($);function b(t){return s(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=i(g,"Opal")["$coerce_to!"](t,i(g,"String"),"to_str")}function v(){return i(g,"ALT_SEPARATOR")===n?t.escape_regexp(i(g,"SEPARATOR")):t.escape_regexp(e(i(g,"SEPARATOR"),i(g,"ALT_SEPARATOR")))}return t.def(r,"$absolute_path",l=function(t,r){var $,o,a,l,c,u,h=n,d=n,p=n,f=n,m=n;null==r&&(r=n),o=i(g,"SEPARATOR"),a=v(),h=[],t=s(t["$respond_to?"]("to_path"))?t.$to_path():t,r=s($=r)?$:i(g,"Dir").$pwd(),l=t.substr(0,o.length)===o||_.test(t),c=r.substr(0,o.length)===o||_.test(r),s(l)?(d=t.$split(new RegExp("["+a+"]")),p=_.test(t)?"":t.$sub(new RegExp("^(["+a+"]+).*$"),"\\1"),f=!0):(d=e(r.$split(new RegExp("["+a+"]")),t.$split(new RegExp("["+a+"]"))),p=_.test(r)?"":r.$sub(new RegExp("^(["+a+"]+).*$"),"\\1"),f=c);for(var y=0,b=d.length;y<b;y++)(u=d[y])===n||""===u&&(0===h.length||f)||"."===u&&(0===h.length||f)||(".."===u?h.pop():h.push(u));return f||"."===d[0]||h.$unshift("."),m=h.$join(o),s(f)&&(m=e(p,m)),m},l.$$arity=-2),t.def(r,"$expand_path",c=function(t,r){var $,o,a=n,l=n,c=n;return null==r&&(r=n),$=i(g,"SEPARATOR"),o=v(),s("~"===t[0]||r&&"~"===r[0])&&(a=i(g,"Dir").$home(),s(a)||this.$raise(i(g,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),l=_.test(a)?"":a.$sub(new RegExp("^(["+o+"]+).*$"),"\\1"),s(a["$start_with?"](l))||this.$raise(i(g,"ArgumentError"),"non-absolute home"),a=e(a,$),c=new RegExp("^\\~(?:"+$+"|$)"),t=t.$sub(c,a),s(r)&&(r=r.$sub(c,a))),this.$absolute_path(t,r)},c.$$arity=-2),t.alias(r,"realpath","expand_path"),t.def(r,"$dirname",u=function(t){var e;e=v();var r=(t=b(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?r?"/":".":t},u.$$arity=1),t.def(r,"$basename",h=function(e,r){var $;return null==r&&(r=n),$=v(),0==(e=b(e)).length?e:(r=r!==n?i(g,"Opal")["$coerce_to!"](r,i(g,"String"),"to_str"):null,e=(e=e.replace(new RegExp("(.)["+$+"]*$"),"$1")).replace(new RegExp("^(?:.*["+$+"])?([^"+$+"]+)$"),"$1"),".*"===r?e=e.replace(/\.[^\.]+$/,""):null!==r&&(r=t.escape_regexp(r),e=e.replace(new RegExp(r+"$"),"")),e)},h.$$arity=-2),t.def(r,"$extname",d=function(r){var i,$,a,l=n,c=n;return r=b(r),l=this.$basename(r),s(l["$empty?"]())?"":(c=l["$[]"](o(1,-1,!1)).$rindex("."),s(s(i=c["$nil?"]())?i:e(c,1)["$=="](($=l.$length(),a=1,"number"==typeof $&&"number"==typeof a?$-a:$["$-"](a))))?"":l["$[]"](t.Range.$new(e(c,1),-1,!1)))},d.$$arity=1),t.def(r,"$exist?",p=function(e){return null!=t.modules[e]},p.$$arity=1),t.alias(r,"exists?","exist?"),t.def(r,"$directory?",f=function(e){var r,$=n;for(var s in $=[],t.modules)$.push(s);return e=e.$gsub(new RegExp("(^."+i(g,"SEPARATOR")+"+|"+i(g,"SEPARATOR")+"+$)")),a($,"find",[],((r=function(t){r.$$s;return null==t&&(t=n),t["$=~"](new RegExp("^"+e))}).$$s=this,r.$$arity=1,r))},f.$$arity=1),t.def(r,"$join",m=function(r){var $,o,l,c,u=n;return $=t.slice.call(arguments,0,arguments.length),s((o=$)["$empty?"]())?"":(u="",o=a(o.$flatten().$each_with_index(),"map",[],((l=function(t,r){l.$$s;return null==t&&(t=n),null==r&&(r=n),s(r["$=="](0)?t["$empty?"]():r["$=="](0))?i(g,"SEPARATOR"):s(o.$length()["$=="](e(r,1))?t["$empty?"]():o.$length()["$=="](e(r,1)))?i(g,"SEPARATOR"):t}).$$s=this,l.$$arity=2,l)),o=a(o,"reject",[],"empty?".$to_proc()),a(o,"each_with_index",[],((c=function(t,r){c.$$s;var $,a=n;return null==t&&(t=n),null==r&&(r=n),a=o["$[]"](e(r,1)),s(a["$nil?"]())?u=""+u+t:(s(s($=t["$end_with?"](i(g,"SEPARATOR")))?a["$start_with?"](i(g,"SEPARATOR")):$)&&(t=t.$sub(new RegExp(i(g,"SEPARATOR")+"+$"),"")),u=s(s($=t["$end_with?"](i(g,"SEPARATOR")))?$:a["$start_with?"](i(g,"SEPARATOR")))?""+u+t:""+u+t+i(g,"SEPARATOR"))}).$$s=this,c.$$arity=2,c)),u)},m.$$arity=-1),t.def(r,"$split",y=function(t){return t.$split(i(g,"SEPARATOR"))},y.$$arity=1),n&&"split"}(t.get_singleton_class(u),h)}(r[0],i(r,"IO"),r)},Opal.modules["corelib/process"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.klass),s=t.truthy;return t.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(e,o,a){var l,c,u,h,_=$(e,null,"Process"),d=[_].concat(a),p=r;if(_.__clocks__=[],t.defs(_,"$__register_clock__",l=function(t,e){return null==this.__clocks__&&(this.__clocks__=r),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},l.$$arity=2),_.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),p=!1,t.global.performance)p=function(){return performance.now()};else if(t.global.process&&process.hrtime){var f=process.hrtime();p=function(){var t=process.hrtime(f),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}s(p)&&_.$__register_clock__("CLOCK_MONOTONIC",p),t.defs(_,"$pid",c=function(){return 0},c.$$arity=0),t.defs(_,"$times",u=function(){var t;return t=i(d,"Time").$now().$to_f(),n(i(d,"Benchmark"),"Tms").$new(t,t,t,t,t)},u.$$arity=0),t.defs(_,"$clock_gettime",h=function(t,e){var $=r;null==this.__clocks__&&(this.__clocks__=r),null==e&&(e="float_second"),s($=this.__clocks__["$[]"](t))||this.$raise(n(i(d,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t));var o=$();switch(e){case"float_second":return o/1e3;case"float_millisecond":return o/1;case"float_microsecond":return 1e3*o;case"second":return o/1e3|0;case"millisecond":return o/1|0;case"microsecond":return 1e3*o|0;case"nanosecond":return 1e6*o|0;default:this.$raise(i(d,"ArgumentError"),"unexpected unit: "+e)}},h.$$arity=-2)}(e[0],0,e),function(e,n,i){var s,o=$(e,null,"Signal");[o].concat(i);t.defs(o,"$trap",s=function(e){return t.slice.call(arguments,0,arguments.length),r},s.$$arity=-1)}(e[0],0,e),function(e,n,i){var s,o=$(e,null,"GC");[o].concat(i);return t.defs(o,"$start",s=function(){return r},s.$$arity=0),r&&"start"}(e[0],0,e)},Opal.modules["corelib/unsupported"]=function(t){var e,r,n=t.top,i=[],$=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.module;t.add_stubs(["$raise","$warn","$%"]);var l={};function c(e){switch(t.config.unsupported_features_severity){case"error":s(i,"Kernel").$raise(s(i,"NotImplementedError"),e);break;case"warning":!function(t){if(l[t])return;l[t]=!0,n.$warn(t)}(e)}}return function(e,r,n){var i,$,a,l,c,u,h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R=o(e,null,"String"),C=[R].concat(n),I="String#%s not supported. Mutable String methods are not supported in Opal.";t.def(R,"$<<",i=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("<<"))},i.$$arity=-1),t.def(R,"$capitalize!",$=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("capitalize!"))},$.$$arity=-1),t.def(R,"$chomp!",a=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("chomp!"))},a.$$arity=-1),t.def(R,"$chop!",l=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("chop!"))},l.$$arity=-1),t.def(R,"$downcase!",c=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("downcase!"))},c.$$arity=-1),t.def(R,"$gsub!",u=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("gsub!"))},u.$$arity=-1),t.def(R,"$lstrip!",h=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("lstrip!"))},h.$$arity=-1),t.def(R,"$next!",_=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("next!"))},_.$$arity=-1),t.def(R,"$reverse!",d=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("reverse!"))},d.$$arity=-1),t.def(R,"$slice!",p=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("slice!"))},p.$$arity=-1),t.def(R,"$squeeze!",f=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("squeeze!"))},f.$$arity=-1),t.def(R,"$strip!",m=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("strip!"))},m.$$arity=-1),t.def(R,"$sub!",y=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("sub!"))},y.$$arity=-1),t.def(R,"$succ!",g=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("succ!"))},g.$$arity=-1),t.def(R,"$swapcase!",b=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("swapcase!"))},b.$$arity=-1),t.def(R,"$tr!",v=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("tr!"))},v.$$arity=-1),t.def(R,"$tr_s!",x=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("tr_s!"))},x.$$arity=-1),t.def(R,"$upcase!",w=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("upcase!"))},w.$$arity=-1),t.def(R,"$prepend",k=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("prepend"))},k.$$arity=-1),t.def(R,"$[]=",E=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("[]="))},E.$$arity=-1),t.def(R,"$clear",A=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("clear"))},A.$$arity=-1),t.def(R,"$encode!",O=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("encode!"))},O.$$arity=-1),t.def(R,"$unicode_normalize!",S=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s(C,"NotImplementedError"),I["$%"]("unicode_normalize!"))},S.$$arity=-1)}(i[0],0,i),function(e,r){var n,i,$=a(e,"Kernel"),s=([$].concat(r),"Object freezing is not supported by Opal");t.def($,"$freeze",n=function(){return c(s),this},n.$$arity=0),t.def($,"$frozen?",i=function(){return c(s),!1},i.$$arity=0)}(i[0],i),function(e,r){var n,i,$,s=a(e,"Kernel"),o=([s].concat(r),"Object tainting is not supported by Opal");t.def(s,"$taint",n=function(){return c(o),this},n.$$arity=0),t.def(s,"$untaint",i=function(){return c(o),this},i.$$arity=0),t.def(s,"$tainted?",$=function(){return c(o),!1},$.$$arity=0)}(i[0],i),function(e,r,n){var i,s,a,l,c=o(e,null,"Module");[c].concat(n);t.def(c,"$public",i=function(e){return 0===t.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1),$},i.$$arity=-1),t.alias(c,"private","public"),t.alias(c,"protected","public"),t.alias(c,"nesting","public"),t.def(c,"$private_class_method",s=function(e){return t.slice.call(arguments,0,arguments.length),this},s.$$arity=-1),t.alias(c,"public_class_method","private_class_method"),t.def(c,"$private_method_defined?",a=function(t){return!1},a.$$arity=1),t.def(c,"$private_constant",l=function(e){return t.slice.call(arguments,0,arguments.length),$},l.$$arity=-1),t.alias(c,"protected_method_defined?","private_method_defined?"),t.alias(c,"public_instance_methods","instance_methods"),t.alias(c,"public_instance_method","instance_method"),t.alias(c,"public_method_defined?","method_defined?")}(i[0],0,i),function(e,r){var n,i=a(e,"Kernel");[i].concat(r);t.def(i,"$private_methods",n=function(e){return t.slice.call(arguments,0,arguments.length),[]},n.$$arity=-1),t.alias(i,"private_instance_methods","private_methods")}(i[0],i),function(e,r){var n,i=a(e,"Kernel"),$=[i].concat(r);t.def(i,"$eval",n=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(s($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+s($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},n.$$arity=-1)}(i[0],i),t.defs(n,"$public",e=function(e){return t.slice.call(arguments,0,arguments.length),$},e.$$arity=-1),t.defs(n,"$private",r=function(e){return t.slice.call(arguments,0,arguments.length),$},r.$$arity=-1),$&&"private"},function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/encoding"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/unsupported")}(Opal),factory=function(t){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass);return t.add_stubs(["$new"]),function(e,$,s){var o,a=i(e,null,"File"),l=[a].concat(s);return t.defs(a,"$read",o=function(t){var e="",r=-1;try{var i=new XMLHttpRequest;i.open("GET",t,!1),i.addEventListener("load",function(){0!==(r=this.status)&&200!==r||(e=this.responseText)}),i.overrideMimeType("text/plain"),i.send()}catch(e){throw n(l,"IOError").$new("Error reading file or directory: "+t+"; reason: "+e.message)}if(404===r||0===r&&!e)throw n(l,"IOError").$new("No such file or directory: "+t);return e},o.$$arity=1),r&&"read"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(e){var r,n,i,$,s=e.top,o=[];e.nil,e.const_get_qualified,e.const_get_relative,e.breaker,e.slice;if(e.add_stubs(["$require"]),"object"===_typeof(t)&&"object"===_typeof(t.runtime)){var a=t.runtime;r=a.platform,n=a.engine,i=a.framework,$=a.ioModule}return $=$||"xmlhttprequest",r=r||"browser",n=n||"",i=i||"",e.const_set(o[0],"JAVASCRIPT_IO_MODULE",$),e.const_set(o[0],"JAVASCRIPT_PLATFORM",r),e.const_set(o[0],"JAVASCRIPT_ENGINE",n),e.const_set(o[0],"JAVASCRIPT_FRAMEWORK",i),s.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,a=t.truthy;return t.add_stubs(["$uriish?","$[]","$web_path","$path_resolver","$descends_from?","$base_dir","$attr?","$join","$prepare_source_string","$read","$fetch","$warn","$logger","$normalize_system_path","$read_asset"]),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,$,l){var c,u,h=s(e,null,"AbstractNode"),_=[h].concat(l);h.$$prototype.document=r,t.def(h,"$read_contents",c=function(e,$){var s,l,c,u=r,h=r;if(null==$&&($=o([],{})),u=this.document,!a(a(s=i(_,"Helpers")["$uriish?"](e))?s:a(l=a(c=h=$["$[]"]("start"))?i(_,"Helpers")["$uriish?"](h):c)?e=u.$path_resolver().$web_path(e,h):l))return e=this.$normalize_system_path(e,$["$[]"]("start"),r,o(["target_name"],{target_name:a(s=$["$[]"]("label"))?s:"asset"})),this.$read_asset(e,o(["normalize","warn_on_failure","label"],{normalize:$["$[]"]("normalize"),warn_on_failure:$.$fetch("warn_on_failure",!0),label:$["$[]"]("label")}));if(!a(a(s=u.$path_resolver()["$descends_from?"](e,u.$base_dir()))?s:u["$attr?"]("allow-uri-read")))return a($.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(a(s=$["$[]"]("label"))?s:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),r;try{return a($["$[]"]("normalize"))?i(_,"Helpers").$prepare_source_string(n("::","File").$read(e)).$join(i(_,"LF")):n("::","File").$read(e)}catch(n){if(!t.rescue(n,[i(_,"StandardError")]))throw n;try{return a($.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(a(s=$["$[]"]("label"))?s:"asset")+" at URI: "+e),r}finally{t.pop_exception()}}},c.$$arity=-2),t.def(h,"$generate_data_uri_from_uri",u=function(t,e){null==e&&(e=!1);var r="",n="",i=-1;try{var $=new XMLHttpRequest;$.open("GET",t,!1),$.overrideMimeType("text/plain; charset=x-user-defined"),$.addEventListener("load",function(){if(0===(i=this.status)||200===i){for(var t="",e=this.responseText,$=0,s=e.length;$<s;++$){var o=255&e.charCodeAt($);t+=String.fromCharCode(o)}n=btoa(t),r=this.getResponseHeader("content-type")}}),$.send(null),r||(t.endsWith(".jpeg")||t.endsWith(".jpg")||t.endsWith(".jpe")?r="image/jpg":t.endsWith(".png")?r="image/png":t.endsWith(".svg")?r="image/svg+xml":t.endsWith(".bmp")?r="image/bmp":(t.endsWith(".tif")||t.endsWith(".tiff"))&&(r="image/tiff"))}catch(t){i=0}return 404!==i&&(0!==i||n&&r)?"data:"+r+";base64,"+n:(this.$logger().$warn("could not retrieve image data from URI: "+t),t)},u.$$arity=-2)}(c[0],0,c)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.send;return t.add_stubs(["$new","$path"]),function(e,s){var o,a=[i(e,"OpenURI")].concat(s);t.defs(n(a,"OpenURI"),"$open_uri",o=function(e,i){var s,l,c=o.$$p,u=c||r;return c&&(o.$$p=null),s=t.slice.call(arguments,1,arguments.length),l=$(n(a,"File"),"new",[this.$path()].concat(t.to_a(s))),u!==r?t.yield1(u,l):l},o.$$arity=-2)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.klass,s=t.truthy;return t.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(e,o){var a=[i(e,"Asciidoctor")].concat(o);!function(e,i,o){var a,l=$(e,i,"PreprocessorReader"),c=[l].concat(o);l.$$prototype.path_resolver=l.$$prototype.document=l.$$prototype.include_stack=l.$$prototype.dir=r,t.def(l,"$resolve_include_path",a=function(t,e,i){var $,o=this,a=r,l=r,u=r,h=r,_=r,d=r,p=r;if(a=(o.path_resolver=s($=o.path_resolver)?$:n(c,"PathResolver").$new("\\")).$posixify(t),($=["file",o.document.$base_dir()])[0],l=$[1],s(a["$start_with?"]("file://")))u=h=a;else if(s(n(c,"Helpers")["$uriish?"](a))){if(!s(s($=o.path_resolver["$descends_from?"](a,l))?$:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");u=h=a}else if(s(o.path_resolver["$absolute_path?"](a)))u=h="file://"+(s(a["$start_with?"]("/"))?"":"/")+a;else if((_=s(d=o.include_stack["$empty?"]())?l:o.dir)["$=="]("."))u=h=a;else if(s(s($=_["$start_with?"]("file://"))?$:n(c,"Helpers")["$uriish?"](_)["$!"]()))u=_+"/"+a,h=s(d)?a:s(s($=l["$=="]("."))?$:(p=o.path_resolver["$descends_from?"](u,l))["$!"]())?u:u.$slice(p,u.$length());else if(s(d))u=_+"/"+(h=a);else{if(!s(s($=p=o.path_resolver["$descends_from?"](_,l))?$:o.document.$attributes()["$key?"]("allow-uri-read")))return o.$replace_next_line("link:"+t+"["+e+"]");u=_+"/"+a,h=s(p)?u.$slice(p,u.$length()):a}return[u,"file",h]},a.$$arity=3)}(a[0],n(a,"Reader"),a)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$==","$require"]),n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?(e.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),e.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),e.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):r},Opal.modules.set=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var i=[],$=t.nil,s=(t.const_get_qualified,t.const_get_relative),o=(t.breaker,t.slice,t.klass),a=t.hash2,l=t.truthy,c=t.send,u=t.module;return t.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(i,u,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j=o(i,null,"Set"),q=[j].concat(h);j.$$prototype.hash=$,j.$include(s(q,"Enumerable")),t.defs(j,"$[]",_=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),this.$new(r)},_.$$arity=-1),t.def(j,"$initialize",d=function(e){var r,n=d.$$p,i=n||$;return n&&(d.$$p=null),n&&(d.$$p=null),null==e&&(e=$),this.hash=a([],{}),l(e["$nil?"]())?$:(l(s(q,"Enumerable")["$==="](e))||this.$raise(s(q,"ArgumentError"),"value must be enumerable"),l(i)?c(e,"each",[],((r=function(e){var n=r.$$s||this;return null==e&&(e=$),n.$add(t.yield1(i,e))}).$$s=this,r.$$arity=1,r)):this.$merge(e))},d.$$arity=-1),t.def(j,"$dup",p=function(){return this.$class().$new().$merge(this)},p.$$arity=0),t.def(j,"$-",f=function(t){return l(t["$respond_to?"]("each"))||this.$raise(s(q,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},f.$$arity=1),t.alias(j,"difference","-"),t.def(j,"$inspect",m=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},m.$$arity=0),t.def(j,"$==",y=function(t){var e,r;return!!l(this["$equal?"](t))||(l(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!l(l(e=t["$is_a?"](s(q,"Set")))?this.$size()["$=="](t.$size()):e)&&c(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=$),null==t&&(t=$),e.hash["$include?"](t)}).$$s=this,r.$$arity=1,r)))},y.$$arity=1),t.def(j,"$add",g=function(r){var n;return n=[r,!0],c(this.hash,"[]=",t.to_a(n)),e(n.length,1),this},g.$$arity=1),t.alias(j,"<<","add"),t.def(j,"$classify",b=function(){var r,n,i=b.$$p,o=i||$,a=$;return i&&(b.$$p=null),i&&(b.$$p=null),o===$?this.$enum_for("classify"):(a=c(s(q,"Hash"),"new",[],((r=function(n,i){var s,o=r.$$s||this;return null==n&&(n=$),null==i&&(i=$),s=[i,o.$class().$new()],c(n,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=this,r.$$arity=2,r)),c(this,"each",[],((n=function(e){n.$$s;return null==e&&(e=$),a["$[]"](t.yield1(o,e)).$add(e)}).$$s=this,n.$$arity=1,n)),a)},b.$$arity=0),t.def(j,"$collect!",v=function(){var e,r=v.$$p,n=r||$,i=$;return r&&(v.$$p=null),r&&(v.$$p=null),n===$?this.$enum_for("collect!"):(i=this.$class().$new(),c(this,"each",[],((e=function(r){e.$$s;return null==r&&(r=$),i["$<<"](t.yield1(n,r))}).$$s=this,e.$$arity=1,e)),this.$replace(i))},v.$$arity=0),t.alias(j,"map!","collect!"),t.def(j,"$delete",x=function(t){return this.hash.$delete(t),this},x.$$arity=1),t.def(j,"$delete?",w=function(t){return l(this["$include?"](t))?(this.$delete(t),this):$},w.$$arity=1),t.def(j,"$delete_if",k=function(){var e,r,n=k.$$p,i=n||$;return n&&(k.$$p=null),i===$?this.$enum_for("delete_if"):(c(c(this,"select",[],((e=function(r){e.$$s;return null==r&&(r=$),t.yield1(i,r)}).$$s=this,e.$$arity=1,e)),"each",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=$),null==t&&(t=$),e.hash.$delete(t)}).$$s=this,r.$$arity=1,r)),this)},k.$$arity=0),t.def(j,"$add?",E=function(t){return l(this["$include?"](t))?$:this.$add(t)},E.$$arity=1),t.def(j,"$each",A=function(){var t=A.$$p,e=t||$;return t&&(A.$$p=null),t&&(A.$$p=null),e===$?this.$enum_for("each"):(c(this.hash,"each_key",[],e.$to_proc()),this)},A.$$arity=0),t.def(j,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),t.def(j,"$eql?",S=function(t){var e;return this.hash["$eql?"](c(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=$),t.hash}).$$s=this,e.$$arity=0,e)))},S.$$arity=1),t.def(j,"$clear",R=function(){return this.hash.$clear(),this},R.$$arity=0),t.def(j,"$include?",C=function(t){return this.hash["$include?"](t)},C.$$arity=1),t.alias(j,"member?","include?"),t.def(j,"$merge",I=function(t){var e;return c(t,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=$),r.$add(t)}).$$s=this,e.$$arity=1,e)),this},I.$$arity=1),t.def(j,"$replace",T=function(t){return this.$clear(),this.$merge(t),this},T.$$arity=1),t.def(j,"$size",L=function(){return this.hash.$size()},L.$$arity=0),t.alias(j,"length","size"),t.def(j,"$subtract",N=function(t){var e;return c(t,"each",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=$),r.$delete(t)}).$$s=this,e.$$arity=1,e)),this},N.$$arity=1),t.def(j,"$|",D=function(t){return l(t["$respond_to?"]("each"))||this.$raise(s(q,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},D.$$arity=1),t.def(j,"$superset?",B=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(r(this.$size(),t.$size()))&&c(t,"all?",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=$),r["$include?"](t)}).$$s=this,e.$$arity=1,e))},B.$$arity=1),t.alias(j,">=","superset?"),t.def(j,"$proper_superset?",M=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(n(this.$size(),t.$size()))&&c(t,"all?",[],((e=function(t){var r=e.$$s||this;return null==t&&(t=$),r["$include?"](t)}).$$s=this,e.$$arity=1,e))},M.$$arity=1),t.alias(j,">","proper_superset?"),t.def(j,"$subset?",F=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(r(t.$size(),this.$size()))&&c(this,"all?",[],((e=function(r){e.$$s;return null==r&&(r=$),t["$include?"](r)}).$$s=this,e.$$arity=1,e))},F.$$arity=1),t.alias(j,"<=","subset?"),t.def(j,"$proper_subset?",z=function(t){var e;return l(t["$is_a?"](s(q,"Set")))||this.$raise(s(q,"ArgumentError"),"value must be a set"),!l(n(t.$size(),this.$size()))&&c(this,"all?",[],((e=function(r){e.$$s;return null==r&&(r=$),t["$include?"](r)}).$$s=this,e.$$arity=1,e))},z.$$arity=1),t.alias(j,"<","proper_subset?"),t.alias(j,"+","|"),t.alias(j,"union","|"),t.def(j,"$to_a",P=function(){return this.hash.$keys()},P.$$arity=0)}(i[0],0,i),function(e,r){var n,i=u(e,"Enumerable"),o=[i].concat(r);t.def(i,"$to_set",n=function(e,r){var i,a,l,u=n.$$p,h=u||$,_=this;return u&&(n.$$p=null),u&&(n.$$p=null),(i=t.slice.call(arguments,0,arguments.length)).length>0&&(a=i[0],i.splice(0,1)),null==a&&(a=s(o,"Set")),l=i,c(a,"new",[_].concat(t.to_a(l)),h.$to_proc())},n.$$arity=-1)}(i[0],i)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.send;return t.add_stubs(["$new"]),function(e,s){var o,a,l=i(e,"Kernel"),c=[l].concat(s);t.def(l,"$open",o=function(e,i){var s,a,l=o.$$p,u=l||r;return l&&(o.$$p=null),s=t.slice.call(arguments,1,arguments.length),a=$(n(c,"File"),"new",[e].concat(t.to_a(s))),u!==r?t.yield1(u,a):a},o.$$arity=-2),t.def(l,"$__dir__",a=function(){return""},a.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy,s=t.gvars;return t.add_stubs(["$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(e,o,a){var l,c,u,h,_=i(e,null,"File"),d=[_].concat(a);_.$$prototype.eof=_.$$prototype.path=r,_.$attr_reader("eof"),_.$attr_reader("lineno"),_.$attr_reader("path"),t.def(_,"$initialize",l=function(t,e){var n;return null==e&&(e="r"),this.path=t,this.contents=r,this.eof=!1,this.lineno=0,n=/:(.*)/,e=(e=e.$delete("b")).$gsub(n,""),this.flags=e},l.$$arity=-2),t.def(_,"$read",c=function(){var t=r;return $(this.eof)?"":(t=n(d,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},c.$$arity=0),t.def(_,"$each_line",u=function(e){var i=u.$$p,o=i||r,a=this,l=r;if(null==s["/"]&&(s["/"]=r),i&&(u.$$p=null),i&&(u.$$p=null),null==e&&(e=s["/"]),$(a.eof))return o!==r?a:[].$to_enum();if(o!==r){l=n(d,"File").$read(a.path),a.eof=!1,a.lineno=0;for(var c=l.$chomp(),h=l.length!=c.length,_=c.split(e),p=0,f=_.length;p<f;p++)a.lineno+=1,p<f-1||h?t.yield1(o,_[p]+e):t.yield1(o,_[p]);return a.eof=!0,a}return a.$read().$each_line()},u.$$arity=-1),t.def(_,"$readlines",h=function(){return n(d,"File").$readlines(this.path)},h.$$arity=0),function(e,i){var $,o,a,l,c=[e].concat(i);t.def(e,"$readlines",$=function(t,e){return null==s["/"]&&(s["/"]=r),null==e&&(e=s["/"]),n(c,"File").$read(t).$split(e)},$.$$arity=-2),t.def(e,"$file?",o=function(t){return!0},o.$$arity=1),t.def(e,"$readable?",a=function(t){return!0},a.$$arity=1),t.def(e,"$read",l=function(t){return""},l.$$arity=1)}(t.get_singleton_class(_),d)}(e[0],0,e),function(e,$,s){var o,a=i(e,null,"IO"),l=[a].concat(s);return t.defs(a,"$read",o=function(t){return n(l,"File").$read(t)},o.$$arity=1),r&&"read"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$[]=","$-"]),function(e,$,s){var o,a=n(e,null,"MatchData");[a].concat(s);return a.$$prototype.matches=r,t.def(a,"$[]=",o=function(e,r){var n,$,s;return n=[e,r],i(this.matches,"[]=",t.to_a(n)),n[($=n.length,s=1,"number"==typeof $&&"number"==typeof s?$-s:$["$-"](s))]},o.$$arity=2),r&&"[]="}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy,$=t.send;return t.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(e,s,o){var a,l,c=n(e,null,"String");[c].concat(o);return i(c["$method_defined?"]("limit_bytesize"))||t.def(c,"$limit_bytesize",a=function(t){var e,r;return i((e=t,r=this.$bytes().$length(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?this.$byteslice(0,t).$to_s():this.$to_s()},a.$$arity=1),i(c["$method_defined?"]("limit"))||t.alias(c,"limit","limit_bytesize"),t.alias(c,"_original_unpack","unpack"),t.def(c,"$unpack",l=function(t){var e;return t["$=="]("C3")?$(this["$[]"](0,3).$bytes().$select(),"with_index",[],((e=function(t,n){e.$$s;return null==t&&(t=r),null==n&&(n=r),n["$even?"]()}).$$s=this,e.$$arity=2,e)):this.$_original_unpack(t)},l.$$arity=1),r&&"unpack"}(e[0],0,e)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative),n=(t.breaker,t.slice,t.module);return t.add_stubs(["$extend"]),function(e,i){var $,s,o=n(e,"URI"),a=[o].concat(i);t.defs(o,"$parse",$=function(t){return t.$extend(r(a,"URI"))},$.$$arity=1),t.def(o,"$path",s=function(){return this},s.$$arity=0)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),i=t.hash2,$=t.truthy;return t.add_stubs(["$delete"]),function(e,s){var o,a,l,c,u,h,_,d,p=n(e,"Base64");[p].concat(s);_=t.global.btoa||function(t){return(t instanceof Buffer?t:Buffer.from(t.toString(),"binary")).toString("base64")},d=t.global.atob||function(t){return Buffer.from(t,"base64").toString("binary")},t.defs(p,"$decode64",o=function(t){return d(t.replace(/\r?\n/g,""))},o.$$arity=1),t.defs(p,"$encode64",a=function(t){return _(t).replace(/(.{60})/g,"$1\n").replace(/([^\n])$/g,"$1\n")},a.$$arity=1),t.defs(p,"$strict_decode64",l=function(t){return d(t)},l.$$arity=1),t.defs(p,"$strict_encode64",c=function(t){return _(t)},c.$$arity=1),t.defs(p,"$urlsafe_decode64",u=function(t){return d(t.replace(/\-/g,"+").replace(/_/g,"/"))},u.$$arity=1),t.defs(p,"$urlsafe_encode64",h=function(e,n){var s,o=r;if(null==n)n=i([],{});else if(!n.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return null==(s=n.$$smap.padding)&&(s=!0),o=_(e).replace(/\+/g,"-").replace(/\//g,"_"),$(s)||(o=o.$delete("=")),o},h.$$arity=-2)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/number"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$coerce_to!","$>"]),function(e,s,o){var a,l=i(e,s,"Number"),c=[l].concat(o);return t.def(l,"$round",a=function(t){var e,r;return t=n(c,"Opal")["$coerce_to!"](t,n(c,"Integer"),"to_int"),$((r=0,"number"==typeof(e=t)&&"number"==typeof r?e>r:e["$>"](r)))?Number(this.toFixed(t)):Math.round(this)},a.$$arity=-1),r&&"round"}(e[0],n(e,"Numeric"),e)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/base64"),e.$require("asciidoctor/js/opal_ext/number"),t.config.unsupported_features_severity="ignore",e.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),s=t.send,o=t.gvars,a=t.truthy;return t.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(r,l){var c,u=$(r,"Asciidoctor"),h=[u].concat(l);t.const_set(h[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),t.defs(u,"$unpack_hex_range",c=function(t){var e;return s(t,"gsub",[i(h,"HEX_RANGE_RX")],((e=function(){var t,r;e.$$s;return"\\u"+((t=o["~"])===n?n:t["$[]"](1))+(a(t=(r=o["~"])===n?n:r["$[]"](2))?"-\\u"+((r=o["~"])===n?n:r["$[]"](2)):t)}).$$s=this,e.$$arity=0,e))},c.$$arity=1),t.const_set(h[0],"P_L",e("A-Za-z",u.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),t.const_set(h[0],"P_Nl",u.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),t.const_set(h[0],"P_Nd",e("0-9",u.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),t.const_set(h[0],"P_Pc",u.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),t.const_set(h[0],"CC_ALPHA",""+i(h,"P_L")+i(h,"P_Nl")),t.const_set(h[0],"CG_ALPHA","["+i(h,"CC_ALPHA")+"]"),t.const_set(h[0],"CC_ALNUM",""+i(h,"CC_ALPHA")+i(h,"P_Nd")),t.const_set(h[0],"CG_ALNUM","["+i(h,"CC_ALNUM")+"]"),t.const_set(h[0],"CC_WORD",""+i(h,"CC_ALNUM")+i(h,"P_Pc")),t.const_set(h[0],"CG_WORD","["+i(h,"CC_WORD")+"]"),t.const_set(h[0],"CG_BLANK","[ \\t]"),t.const_set(h[0],"CC_EOL","(?=\\n|$)"),t.const_set(h[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),t.const_set(h[0],"CC_ALL","[\\s\\S]"),t.const_set(h[0],"CC_ANY","[^\\n]")}(r[0],r)},Opal.modules.strscan=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.send;return t.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(e,$,s){var o,a,l,c,u,h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T=n(e,null,"StringScanner");[T].concat(s);return T.$$prototype.pos=T.$$prototype.string=T.$$prototype.working=T.$$prototype.matched=T.$$prototype.prev_pos=T.$$prototype.match=r,T.$attr_reader("pos"),T.$attr_reader("matched"),t.def(T,"$initialize",o=function(t){return this.string=t,this.pos=0,this.matched=r,this.working=t,this.match=[]},o.$$arity=1),T.$attr_reader("string"),t.def(T,"$beginning_of_line?",a=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},a.$$arity=0),t.alias(T,"bol?","beginning_of_line?"),t.def(T,"$scan",l=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?this.matched=r:"object"===_typeof(e)?(this.prev_pos=this.pos,this.pos+=e[0].length,this.working=this.working.substring(e[0].length),this.matched=e[0],this.match=e,e[0]):"string"==typeof e?(this.pos+=e.length,this.working=this.working.substring(e.length),e):r},l.$$arity=1),t.def(T,"$scan_until",c=function(t){t=this.$anchor(t);for(var e,n=this.pos,i=this.working;;){if(e=t.exec(i),n+=1,i=i.substr(1),null!=e)return this.matched=this.string.substr(this.pos,n-this.pos-1+e[0].length),this.prev_pos=n-1,this.pos=n,this.working=i.substr(e[0].length),this.matched;if(0===i.length)return this.matched=r}},c.$$arity=1),t.def(T,"$[]",u=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?r:null==e[t]?r:e[t]},u.$$arity=1),t.def(T,"$check",h=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?r:e[0]},h.$$arity=1),t.def(T,"$check_until",_=function(t){var e=this.prev_pos,n=this.pos,i=this.$scan_until(t);return i!==r&&(this.matched=i.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,i},_.$$arity=1),t.def(T,"$peek",d=function(t){return this.working.substring(0,t)},d.$$arity=1),t.def(T,"$eos?",p=function(){return 0===this.working.length},p.$$arity=0),t.def(T,"$exist?",f=function(t){var e=t.exec(this.working);return null==e?r:0==e.index?0:e.index+1},f.$$arity=1),t.def(T,"$skip",m=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=r;var n=e[0],i=n.length;return this.matched=n,this.prev_pos=this.pos,this.pos+=i,this.working=this.working.substring(i),i},m.$$arity=1),t.def(T,"$skip_until",y=function(t){var e=this.$scan_until(t);return e===r?r:(this.matched=e.substr(-1),e.length)},y.$$arity=1),t.def(T,"$get_byte",g=function(){var t=r;return this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,t=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=r,t},g.$$arity=0),t.alias(T,"getch","get_byte"),t.def(T,"$match?",b=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?r:(this.prev_pos=this.pos,e[0].length)},b.$$arity=1),t.def(T,"$pos=",v=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},v.$$arity=1),t.def(T,"$matched_size",x=function(){return this.matched===r?r:this.matched.length},x.$$arity=0),t.def(T,"$post_match",w=function(){return this.matched===r?r:this.string.substr(this.pos)},w.$$arity=0),t.def(T,"$pre_match",k=function(){return this.matched===r?r:this.string.substr(0,this.prev_pos)},k.$$arity=0),t.def(T,"$reset",E=function(){return this.working=this.string,this.matched=r,this.pos=0},E.$$arity=0),t.def(T,"$rest",A=function(){return this.working},A.$$arity=0),t.def(T,"$rest?",O=function(){return 0!==this.working.length},O.$$arity=0),t.def(T,"$rest_size",S=function(){return this.$rest().$size()},S.$$arity=0),t.def(T,"$terminate",R=function(){var e,n,$;return this.match=r,e=[this.string.$length()],i(this,"pos=",t.to_a(e)),e[(n=e.length,$=1,"number"==typeof n&&"number"==typeof $?n-$:n["$-"]($))]},R.$$arity=0),t.def(T,"$unscan",C=function(){return this.pos=this.prev_pos,this.prev_pos=r,this.match=r,this},C.$$arity=0),T.$private(),t.def(T,"$anchor",I=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},I.$$arity=1),r&&"anchor"}(e[0],0,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.klass),i=t.truthy;return t.add_stubs(["$method_defined?"]),function(e,r,$){var s=n(e,null,"NilClass");[s].concat($);i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","nil?")}(e[0],0,e),function(e,r,$){var s=n(e,null,"String");[s].concat($);i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(e[0],0,e),function(e,r,$){var s=n(e,null,"Array");[s].concat($);i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(e[0],0,e),function(e,r,$){var s=n(e,null,"Hash");[s].concat($);i(s["$method_defined?"]("nil_or_empty?"))||t.alias(s,"nil_or_empty?","empty?")}(e[0],0,e),function(e,$,s){var o=n(e,null,"Numeric");[o].concat(s);return i(o["$method_defined?"]("nil_or_empty?"))?r:t.alias(o,"nil_or_empty?","nil?")}(e[0],0,e)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(t){var e,r=t.top,n=[],i=t.nil,$=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.send),o=t.truthy,a=t.hash2;return t.add_stubs(["$==","$arity","$instance_method","$send","$new","$<","$length","$>","$inject","$merge","$[]"]),$(n,"Hash").$instance_method("merge").$arity()["$=="](1)?$(n,"Hash").$send("prepend",s($(n,"Module"),"new",[],((e=function(){var r,n=e.$$s||this;return t.def(n,"$merge",r=function(e){var n,$,l,c,u,h,_=r.$$p;return _&&(r.$$p=null),n=t.slice.call(arguments,0,arguments.length),o((u=c=($=n).$length(),h=1,"number"==typeof u&&"number"==typeof h?u<h:u["$<"](h)))?s(this,t.find_super_dispatcher(this,"merge",r,!1),[a([],{})],null):o(function(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}(c,1))?s($,"inject",[this],((l=function(t,e){l.$$s;return null==t&&(t=i),null==e&&(e=i),t.$merge(e)}).$$s=this,l.$$arity=2,l)):s(this,t.find_super_dispatcher(this,"merge",r,!1),[$["$[]"](0)],null)},r.$$arity=-1),i&&"merge"}).$$s=r,e.$$arity=0,e))):i},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.truthy),$=t.klass;return t.add_stubs(["$method_defined?"]),i(n(e,"MatchData")["$method_defined?"]("names"))?r:function(e,n,i){var s,o=$(e,null,"MatchData");[o].concat(i);return t.def(o,"$names",s=function(){return[]},s.$$arity=0),r&&"names"}(e[0],0,e)},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$=="]),e.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),n([],"RUBY_ENGINE")["$=="]("opal")?e.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names"):r},Opal.modules["asciidoctor/helpers"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.truthy,l=t.gvars,c=t.send,u=t.hash2;return t.add_stubs(["$module_function","$require","$include?","$include","$==","$===","$path","$message","$raise","$warn","$logger","$chomp","$empty?","$slice","$unpack","$[]","$byteslice","$bytesize","$[]=","$-","$map","$rstrip","$encode","$encoding","$nil_or_empty?","$!=","$tap","$each_line","$<<","$match?","$gsub","$rindex","$index","$basename","$extname","$!","$length","$directory?","$dirname","$mkdir_p","$mkdir","$private_constant","$join","$divmod","$*","$+","$to_i","$to_s","$chr","$ord","$class_for_name","$const_get"]),function(n,h){var _=[o(n,"Asciidoctor")].concat(h);!function(n,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R=o(n,"Helpers"),C=[R].concat(h);R.$module_function(),t.def(R,"$require_library",_=function(e,r,n){var o=i,c=i;null==l["!"]&&(l["!"]=i),null==r&&(r=!0),null==n&&(n="abort");try{return this.$require(e)}catch(u){if(!t.rescue(u,[$("::","LoadError")]))throw u;try{return a(this["$include?"](s(C,"Logging")))||this.$include(s(C,"Logging")),a(r)?(r["$=="](!0)&&(r=e),"abort"["$==="](o=n)?(c=l["!"].$path()["$=="](r)?"":" (reason: "+(a(l["!"].$path())?"cannot load '"+l["!"].$path()+"'":l["!"].$message())+")",this.$raise($("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not available"+c+". Processing aborted.")):"warn"["$==="](o)&&(c=l["!"].$path()["$=="](r)?"":" (reason: "+(a(l["!"].$path())?"cannot load '"+l["!"].$path()+"'":l["!"].$message())+")",this.$logger().$warn("optional gem '"+r+"' is not available"+c+". Functionality disabled."))):"abort"["$==="](o=n)?this.$raise($("::","LoadError"),"asciidoctor: FAILED: "+l["!"].$message().$chomp(".")+". Processing aborted."):"warn"["$==="](o)&&this.$logger().$warn(l["!"].$message().$chomp(".")+". Functionality disabled."),i}finally{t.pop_exception()}}},_.$$arity=-2),t.def(R,"$prepare_source_array",d=function(r){var n,o,l,u,h=i,_=i,d=i,p=i;return a(r["$empty?"]())?[]:(h=(_=(d=r["$[]"](0)).$unpack("C3")).$slice(0,2))["$=="](s(C,"BOM_BYTES_UTF_16LE"))?(p=[0,d.$byteslice(2,d.$bytesize())],c(r,"[]=",t.to_a(p)),p[e(p.length,1)],c(r,"map",[],((n=function(t){n.$$s;return null==t&&(t=i),t.$encode(s(C,"UTF_8"),$($("::","Encoding"),"UTF_16LE")).$rstrip()}).$$s=this,n.$$arity=1,n))):h["$=="](s(C,"BOM_BYTES_UTF_16BE"))?(p=[0,d.$byteslice(2,d.$bytesize())],c(r,"[]=",t.to_a(p)),p[e(p.length,1)],c(r,"map",[],((o=function(t){o.$$s;return null==t&&(t=i),t.$encode(s(C,"UTF_8"),$($("::","Encoding"),"UTF_16BE")).$rstrip()}).$$s=this,o.$$arity=1,o))):(_["$=="](s(C,"BOM_BYTES_UTF_8"))&&(p=[0,d.$byteslice(3,d.$bytesize())],c(r,"[]=",t.to_a(p)),p[e(p.length,1)]),d.$encoding()["$=="](s(C,"UTF_8"))?c(r,"map",[],((l=function(t){l.$$s;return null==t&&(t=i),t.$rstrip()}).$$s=this,l.$$arity=1,l)):c(r,"map",[],((u=function(t){u.$$s;return null==t&&(t=i),t.$encode(s(C,"UTF_8")).$rstrip()}).$$s=this,u.$$arity=1,u)))},d.$$arity=1),t.def(R,"$prepare_source_string",p=function(t){var e,r=i,n=i;return a(t["$nil_or_empty?"]())?[]:((r=(n=t.$unpack("C3")).$slice(0,2))["$=="](s(C,"BOM_BYTES_UTF_16LE"))?t=t.$byteslice(2,t.$bytesize()).$encode(s(C,"UTF_8"),$($("::","Encoding"),"UTF_16LE")):r["$=="](s(C,"BOM_BYTES_UTF_16BE"))?t=t.$byteslice(2,t.$bytesize()).$encode(s(C,"UTF_8"),$($("::","Encoding"),"UTF_16BE")):n["$=="](s(C,"BOM_BYTES_UTF_8"))?(t=t.$byteslice(3,t.$bytesize())).$encoding()["$=="](s(C,"UTF_8"))||(t=t.$encode(s(C,"UTF_8"))):a(t.$encoding()["$!="](s(C,"UTF_8")))&&(t=t.$encode(s(C,"UTF_8"))),c([],"tap",[],((e=function(r){var n,$=e.$$s||this;return null==r&&(r=i),c(t,"each_line",[],((n=function(t){n.$$s;return null==t&&(t=i),r["$<<"](t.$rstrip())}).$$s=$,n.$$arity=1,n))}).$$s=this,e.$$arity=1,e)))},p.$$arity=1),t.def(R,"$uriish?",f=function(t){var e;return a(e=t["$include?"](":"))?s(C,"UriSniffRx")["$match?"](t):e},f.$$arity=1),s(C,"RUBY_ENGINE")["$=="]("opal")&&t.def(R,"$encode_uri_component",m=function(t){return encodeURIComponent(t).replace(/%20|[!'()*]/g,function(t){return"%20"===t?"+":"%"+t.charCodeAt(0).toString(16)})},m.$$arity=1),t.def(R,"$encode_spaces_in_uri",y=function(t){return a(t["$include?"](" "))?t.$gsub(" ","%20"):t},y.$$arity=1),t.def(R,"$rootname",g=function(t){var e;return a(e=t.$rindex("."))?a(t.$index("/",e))?t:t.$slice(0,e):t},g.$$arity=1),t.def(R,"$basename",b=function(t,e){var r=this;return null==e&&(e=i),a(e)?$("::","File").$basename(t,e["$=="](!0)?r.$extname(t):e):$("::","File").$basename(t)},b.$$arity=-2),t.def(R,"$extname?",v=function(t){var e,r;return a(e=r=t.$rindex("."))?t.$index("/",r)["$!"]():e},v.$$arity=1),a($($("::","File"),"ALT_SEPARATOR"))?t.def(R,"$extname",x=function(t,e){var r,n;return null==e&&(e=""),a(n=t.$rindex("."))?a(a(r=t.$index("/",n))?r:t.$index($($("::","File"),"ALT_SEPARATOR"),n))?e:t.$slice(n,t.$length()):e},x.$$arity=-2):t.def(R,"$extname",w=function(t,e){var r;return null==e&&(e=""),a(r=t.$rindex("."))?a(t.$index("/",r))?e:t.$slice(r,t.$length()):e},w.$$arity=-2),t.def(R,"$mkdir_p",k=function(e){var r=i;if(a($("::","File")["$directory?"](e)))return i;(r=$("::","File").$dirname(e))["$=="](".")||this.$mkdir_p(r);try{return $("::","Dir").$mkdir(e)}catch(r){if(!t.rescue(r,[$("::","SystemCallError")]))throw r;try{return a($("::","File")["$directory?"](e))?i:this.$raise()}finally{t.pop_exception()}}},k.$$arity=1),t.const_set(C[0],"ROMAN_NUMERALS",u(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),R.$private_constant("ROMAN_NUMERALS"),t.def(R,"$int_to_roman",E=function(e){var r;return c(s(C,"ROMAN_NUMERALS"),"map",[],(r=function(n,$){var s,o,a,l,c;r.$$s;return null==n&&(n=i),null==$&&($=i),o=e.$divmod($),a=null==(s=t.to_ary(o))[0]?i:s[0],e=null==s[1]?i:s[1],c=a,"number"==typeof(l=n)&&"number"==typeof c?l*c:l["$*"](c)},r.$$s=this,r.$$arity=2,r)).$join()},E.$$arity=1),t.def(R,"$nextval",A=function(t){var e=i;return a($("::","Integer")["$==="](t))?r(t,1):(e=t.$to_i(),a(e.$to_s()["$!="](t.$to_s()))?r(t["$[]"](0).$ord(),1).$chr():r(e,1))},A.$$arity=1),t.def(R,"$resolve_class",O=function(t){return a($("::","Class")["$==="](t))?t:a($("::","String")["$==="](t))?this.$class_for_name(t):i},O.$$arity=1),t.def(R,"$class_for_name",S=function(e){var r=i;try{return a($("::","Class")["$==="](r=$("::","Object").$const_get(e,!1)))||this.$raise(),r}catch(r){if(!t.rescue(r,[s(C,"StandardError")]))throw r;try{return this.$raise($("::","NameError"),"Could not resolve class for name: "+e)}finally{t.pop_exception()}}},S.$$arity=1)}(_[0],_)}(n[0],n)},Opal.modules.logger=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.klass),o=t.module,a=t.send,l=t.truthy;return t.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),function(r,c,u){var h,_,d,p,f,m,y,g,b,v,x,w,k,E,A,O=s(r,null,"Logger"),S=[O].concat(u);return O.$$prototype.level=O.$$prototype.progname=O.$$prototype.pipe=O.$$prototype.formatter=n,function(e,r){var n=[o(e,"Severity")].concat(r);t.const_set(n[0],"DEBUG",0),t.const_set(n[0],"INFO",1),t.const_set(n[0],"WARN",2),t.const_set(n[0],"ERROR",3),t.const_set(n[0],"FATAL",4),t.const_set(n[0],"UNKNOWN",5)}(S[0],S),O.$include($(S,"Severity")),t.const_set(S[0],"SEVERITY_LABELS",a($(S,"Severity").$constants(),"map",[],(h=function(t){h.$$s;return null==t&&(t=n),[$(S,"Severity").$const_get(t),t.$to_s()]},h.$$s=O,h.$$arity=1,h)).$to_h()),function(e,r,o){var a,c,u=s(e,null,"Formatter"),h=[u].concat(o);t.const_set(h[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),t.const_set(h[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),t.def(u,"$call",a=function(t,e,r,n){return this.$format($(h,"MESSAGE_FORMAT"),t.$chr(),e.$strftime($(h,"DATE_TIME_FORMAT")),t,r,this.$message_as_string(n))},a.$$arity=4),t.def(u,"$message_as_string",c=function(t){var e,r,$,s=n;return s=t,i("::","String")["$==="](s)?t:i("::","Exception")["$==="](s)?(r=t.$message()+" ("+t.$class()+")\n",$=(l(e=t.$backtrace())?e:[]).$join("\n"),"number"==typeof r&&"number"==typeof $?r+$:r["$+"]($)):t.$inspect()},c.$$arity=1)}(S[0],0,S),O.$attr_reader("level"),O.$attr_accessor("progname"),O.$attr_accessor("formatter"),t.def(O,"$initialize",_=function(t){return this.pipe=t,this.level=$(S,"DEBUG"),this.formatter=$(S,"Formatter").$new()},_.$$arity=1),t.def(O,"$level=",d=function(t){var e=n;return l(i("::","Integer")["$==="](t))?this.level=t:l(e=$(S,"SEVERITY_LABELS").$key(t.$to_s().$upcase()))?this.level=e:this.$raise($(S,"ArgumentError"),"invalid log level: "+t)},d.$$arity=1),t.def(O,"$info",p=function(t){var e=p.$$p,r=e||n;return e&&(p.$$p=null),e&&(p.$$p=null),null==t&&(t=n),a(this,"add",[$(S,"INFO"),n,t],r.$to_proc())},p.$$arity=-1),t.def(O,"$debug",f=function(t){var e=f.$$p,r=e||n;return e&&(f.$$p=null),e&&(f.$$p=null),null==t&&(t=n),a(this,"add",[$(S,"DEBUG"),n,t],r.$to_proc())},f.$$arity=-1),t.def(O,"$warn",m=function(t){var e=m.$$p,r=e||n;return e&&(m.$$p=null),e&&(m.$$p=null),null==t&&(t=n),a(this,"add",[$(S,"WARN"),n,t],r.$to_proc())},m.$$arity=-1),t.def(O,"$error",y=function(t){var e=y.$$p,r=e||n;return e&&(y.$$p=null),e&&(y.$$p=null),null==t&&(t=n),a(this,"add",[$(S,"ERROR"),n,t],r.$to_proc())},y.$$arity=-1),t.def(O,"$fatal",g=function(t){var e=g.$$p,r=e||n;return e&&(g.$$p=null),e&&(g.$$p=null),null==t&&(t=n),a(this,"add",[$(S,"FATAL"),n,t],r.$to_proc())},g.$$arity=-1),t.def(O,"$unknown",b=function(t){var e=b.$$p,r=e||n;return e&&(b.$$p=null),e&&(b.$$p=null),null==t&&(t=n),a(this,"add",[$(S,"UNKNOWN"),n,t],r.$to_proc())},b.$$arity=-1),t.def(O,"$info?",v=function(){return e(this.level,$(S,"INFO"))},v.$$arity=0),t.def(O,"$debug?",x=function(){return e(this.level,$(S,"DEBUG"))},x.$$arity=0),t.def(O,"$warn?",w=function(){return e(this.level,$(S,"WARN"))},w.$$arity=0),t.def(O,"$error?",k=function(){return e(this.level,$(S,"ERROR"))},k.$$arity=0),t.def(O,"$fatal?",E=function(){return e(this.level,$(S,"FATAL"))},E.$$arity=0),t.def(O,"$add",A=function(e,r,s){var o,a,c,u=A.$$p,h=u||n;return u&&(A.$$p=null),u&&(A.$$p=null),null==r&&(r=n),null==s&&(s=n),!!l((a=e=l(o=e)?o:$(S,"UNKNOWN"),c=this.level,"number"==typeof a&&"number"==typeof c?a<c:a["$<"](c)))||(s=l(o=s)?o:this.progname,l(r)||(h!==n?r=t.yieldX(h,[]):(r=s,s=this.progname)),this.pipe.$write(this.formatter.$call(l(o=$(S,"SEVERITY_LABELS")["$[]"](e))?o:"ANY",i("::","Time").$now(),s,r)),!0)},A.$$arity=-2),n&&"add"}(r[0],0,r)},Opal.modules["asciidoctor/logging"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}var n=t.top,i=[],$=t.nil,s=t.const_get_qualified,o=t.const_get_relative,a=(t.breaker,t.slice,t.module),l=t.klass,c=t.send,u=t.truthy,h=t.hash2,_=t.gvars;return t.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$tap","$each","$constants","$const_get","$[]=","$<<","$clear","$empty?","$max","$map","$attr_accessor","$memoize_logger","$private","$private_class_method","$extend","$logger","$merge"]),n.$require("logger"),function(n,i){var d=[a(n,"Asciidoctor")].concat(i);!function(n,i,_){var d,p,f=l(n,i,"Logger"),m=[f].concat(_);f.$$prototype.max_severity=$,f.$attr_reader("max_severity"),t.def(f,"$initialize",d=function(r){var n,i=d.$$p,s=$,a=$,l=$;for(i&&(d.$$p=null),l=0,n=arguments.length,a=new Array(n);l<n;l++)a[l]=arguments[l];return t.slice.call(arguments,0,arguments.length),c(this,t.find_super_dispatcher(this,"initialize",d,!1),a,i),s=["asciidoctor"],c(this,"progname=",t.to_a(s)),s[e(s.length,1)],s=[o(m,"BasicFormatter").$new()],c(this,"formatter=",t.to_a(s)),s[e(s.length,1)],s=[o(m,"WARN")],c(this,"level=",t.to_a(s)),s[e(s.length,1)]},d.$$arity=-1),t.def(f,"$add",p=function(e,n,i){var s,a,l=p.$$p,h=$,_=$;for(l&&(p.$$p=null),_=0,a=arguments.length,h=new Array(a);_<a;_++)h[_]=arguments[_];return null==n&&(n=$),null==i&&(i=$),u(r(e=u(s=e)?s:o(m,"UNKNOWN"),this.max_severity=u(s=this.max_severity)?s:e))&&(this.max_severity=e),c(this,t.find_super_dispatcher(this,"add",p,!1),h,l)},p.$$arity=-2),function(e,r,n){var i,$=l(e,r,"BasicFormatter"),a=[$].concat(n);t.const_set(a[0],"SEVERITY_LABELS",h(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),t.def($,"$call",i=function(t,e,r,n){var i;return r+": "+(u(i=o(a,"SEVERITY_LABELS")["$[]"](t))?i:t)+": "+(u(s("::","String")["$==="](n))?n:n.$inspect())+o(a,"LF")},i.$$arity=4)}(m[0],o(m,"Formatter"),m),function(e,r){var n,i=a(e,"AutoFormattingMessage");[i].concat(r);t.def(i,"$inspect",n=function(){var t;return u(t=this["$[]"]("source_location"))?t+": "+this["$[]"]("text"):this["$[]"]("text")},n.$$arity=0)}(m[0],m)}(d[0],s("::","Logger"),d),function(r,n,i){var s,a,_,d,p,f,m=l(r,n,"MemoryLogger"),y=[m].concat(i);m.$$prototype.messages=$,t.const_set(y[0],"SEVERITY_LABELS",c(h([],{}),"tap",[],((s=function(r){var n,i=s.$$s||this;return null==r&&(r=$),c(o(y,"Severity").$constants(!1),"each",[],((n=function(i){var s;n.$$s;return null==i&&(i=$),s=[o(y,"Severity").$const_get(i,!1),i],c(r,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=i,n.$$arity=1,n))}).$$s=m,s.$$arity=1,s))),m.$attr_reader("messages"),t.def(m,"$initialize",a=function(){var r;return r=[o(y,"WARN")],c(this,"level=",t.to_a(r)),e(r.length,1),this.messages=[]},a.$$arity=0),t.def(m,"$add",_=function(e,r,n){var i,s=_.$$p,a=s||$;return s&&(_.$$p=null),null==r&&(r=$),null==n&&(n=$),u(r)||(r=a!==$?t.yieldX(a,[]):n),this.messages["$<<"](h(["severity","message"],{severity:o(y,"SEVERITY_LABELS")["$[]"](u(i=e)?i:o(y,"UNKNOWN")),message:r})),!0},_.$$arity=-2),t.def(m,"$clear",d=function(){return this.messages.$clear()},d.$$arity=0),t.def(m,"$empty?",p=function(){return this.messages["$empty?"]()},p.$$arity=0),t.def(m,"$max_severity",f=function(){var t;return u(this["$empty?"]())?$:c(this.messages,"map",[],(t=function(e){t.$$s;return null==e&&(e=$),o(y,"Severity").$const_get(e["$[]"]("severity"),!1)},t.$$s=this,t.$$arity=1,t)).$max()},f.$$arity=0)}(d[0],s("::","Logger"),d),function(n,i,s){var a,h,_=l(n,i,"NullLogger"),d=[_].concat(s);_.$$prototype.max_severity=$,_.$attr_reader("max_severity"),t.def(_,"$initialize",a=function(){var r;return r=[o(d,"WARN")],c(this,"level=",t.to_a(r)),r[e(r.length,1)]},a.$$arity=0),t.def(_,"$add",h=function(t,e,n){var i;return null==e&&(e=$),null==n&&(n=$),u(r(t=u(i=t)?i:o(d,"UNKNOWN"),this.max_severity=u(i=this.max_severity)?i:t))&&(this.max_severity=t),!0},h.$$arity=-2)}(d[0],s("::","Logger"),d),function(e,r){var n=a(e,"LoggerManager"),i=[n].concat(r);n.logger_class=o(i,"Logger"),function(e,r){var n,i,s,o=[e].concat(r);e.$attr_accessor("logger_class"),t.def(e,"$logger",n=function(t){var e;return null==this.logger&&(this.logger=$),null==this.logger_class&&(this.logger_class=$),null==_.stderr&&(_.stderr=$),null==t&&(t=_.stderr),this.$memoize_logger(),this.logger=u(e=this.logger)?e:this.logger_class.$new(t)},n.$$arity=-1),t.def(e,"$logger=",i=function(t){var e;return null==this.logger_class&&(this.logger_class=$),null==_.stderr&&(_.stderr=$),this.logger=u(e=t)?e:this.logger_class.$new(_.stderr)},i.$$arity=1),e.$private(),t.def(e,"$memoize_logger",s=function(){return function(e,r){[e].concat(r);return t.alias(e,"logger","logger"),e.$attr_reader("logger")}(t.get_singleton_class(this),o)},s.$$arity=0)}(t.get_singleton_class(n),i)}(d[0],d),function(e,r){var n,i,l,c,_=a(e,"Logging"),d=[_].concat(r);_.$private_class_method(u((t.defs(_,"$included",i=function(t){return t.$extend(o(d,"Logging"))},i.$$arity=1),n=$&&"included"))?n:"included"),t.def(_,"$logger",l=function(){return o(d,"LoggerManager").$logger()},l.$$arity=0),t.def(_,"$message_with_context",c=function(t,e){return null==e&&(e=h([],{})),h(["text"],{text:t}).$merge(e).$extend(s(o(d,"Logger"),"AutoFormattingMessage"))},c.$$arity=-2)}(d[0],d)}(i[0],i)},Opal.modules["asciidoctor/rx"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.hash2,a=t.send,l=t.truthy,c=t.hash;return t.add_stubs(["$==","$join","$to_a","$new","$empty?","$escape","$[]=","$-"]),function(r,u){var h,_,d=s(r,"Asciidoctor"),p=[d].concat(u);!function(t,e){[s(t,"Rx")].concat(e)}(p[0],p),t.const_set(p[0],"AuthorInfoLineRx",new RegExp("^("+$(p,"CG_WORD")+"["+$(p,"CC_WORD")+"\\-'.]*)(?: +("+$(p,"CG_WORD")+"["+$(p,"CC_WORD")+"\\-'.]*))?(?: +("+$(p,"CG_WORD")+"["+$(p,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),t.const_set(p[0],"AuthorDelimiterRx",/;(?: |$)/),t.const_set(p[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+$(p,"CC_ANY")+"*?),)? *(?!:)("+$(p,"CC_ANY")+"*?)(?: *(?!^),?: *("+$(p,"CC_ANY")+"*))?$")),t.const_set(p[0],"ManpageTitleVolnumRx",new RegExp("^("+$(p,"CC_ANY")+"+?) *\\( *("+$(p,"CC_ANY")+"+?) *\\)$")),t.const_set(p[0],"ManpageNamePurposeRx",new RegExp("^("+$(p,"CC_ANY")+"+?) +- +("+$(p,"CC_ANY")+"+)$")),t.const_set(p[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+$(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"EvalExpressionRx",new RegExp("^("+$(p,"CC_ANY")+"+?) *([=!><]=|[><]) *("+$(p,"CC_ANY")+"+)$")),t.const_set(p[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+$(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),t.const_set(p[0],"AttributeEntryRx",new RegExp("^:(!?"+$(p,"CG_WORD")+"[^:]*):(?:[ \\t]+("+$(p,"CC_ANY")+"*))?$")),t.const_set(p[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+$(p,"CC_WORD")+"-]")),$(p,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(p[0],"AttributeEntryPassMacroRx",new RegExp("^pass:([a-z]+(?:,[a-z-]+)*)?\\[("+$(p,"CC_ALL")+"*)\\]$")),t.const_set(p[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+$(p,"CG_WORD")+"["+$(p,"CC_WORD")+"-]*|(set|counter2?):"+$(p,"CC_ANY")+"+?)(\\\\)?\\}")),t.const_set(p[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)(?:, *("+$(p,"CC_ANY")+"+))?)\\]\\]$")),t.const_set(p[0],"BlockAttributeListRx",new RegExp("^\\[(|["+$(p,"CC_WORD")+".#%{,\"']"+$(p,"CC_ANY")+"*)\\]$")),t.const_set(p[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+$(p,"CC_WORD")+".#%{,\"']"+$(p,"CC_ANY")+"*|\\[(?:|["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*(?:, *"+$(p,"CC_ANY")+"+)?)\\])\\]$")),t.const_set(p[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+$(p,"CC_ANY")+"*)$")),t.const_set(p[0],"AdmonitionParagraphRx",new RegExp("^("+$(p,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),t.const_set(p[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+$(p,"CC_ANY")+"*)$")),t.const_set(p[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+$(p,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(p[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+$(p,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),t.const_set(p[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+$(p,"CC_ANY")+"*?"+$(p,"CG_ALNUM")+$(p,"CC_ANY")+"*)$")),t.const_set(p[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)(?:, *("+$(p,"CC_ANY")+"+))?\\]\\]$")),t.const_set(p[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+$(p,"CC_WORD")+"\\-.]+?")),t.const_set(p[0],"SectionLevelStyleRx",/^sect\d$/),t.const_set(p[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]"+$(p,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<?\\d+>[ \\t])")),t.const_set(p[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+$(p,"CC_ANY")+"*)$")),t.const_set(p[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+$(p,"CC_ANY")+"*)$")),t.const_set(p[0],"OrderedListMarkerRxMap",o(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),t.const_set(p[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+$(p,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+$(p,"CC_ANY")+"*)$)")),t.const_set(p[0],"DescriptionListSiblingRx",o(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+$(p,"CC_ANY")+"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+("+$(p,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+$(p,"CC_ANY")+"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+("+$(p,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+$(p,"CC_ANY")+"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+("+$(p,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*([^ \\t]"+$(p,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+$(p,"CC_ANY")+"*)$)")})),t.const_set(p[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+$(p,"CC_ANY")+"*)$")),t.const_set(p[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),t.const_set(p[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),t.const_set(p[0],"CalloutExtractRxMap",a(i("::","Hash"),"new",[],((h=function(r,s){var o;h.$$s;return null==r&&(r=n),null==s&&(s=n),o=[s,new RegExp("("+(l(s["$empty?"]())?"":i("::","Regexp").$escape(s)+" ?")+")?"+$(p,"CalloutExtractRxt"))],a(r,"[]=",t.to_a(o)),o[e(o.length,1)]}).$$s=d,h.$$arity=2,h))),t.const_set(p[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+$(p,"CC_EOL")+")")),t.const_set(p[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+$(p,"CC_EOL")+")")),t.const_set(p[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+$(p,"CC_EOL")+")"),t.const_set(p[0],"CalloutSourceRxMap",a(i("::","Hash"),"new",[],((_=function(r,s){var o;_.$$s;return null==r&&(r=n),null==s&&(s=n),o=[s,new RegExp("("+(l(s["$empty?"]())?"":i("::","Regexp").$escape(s)+" ?")+")?"+$(p,"CalloutSourceRxt"))],a(r,"[]=",t.to_a(o)),o[e(o.length,1)]}).$$s=d,_.$$arity=2,_))),t.const_set(p[0],"ListRxMap",o(["ulist","olist","dlist","colist"],{ulist:$(p,"UnorderedListRx"),olist:$(p,"OrderedListRx"),dlist:$(p,"DescriptionListRx"),colist:$(p,"CalloutListRx")})),t.const_set(p[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),t.const_set(p[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(p[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),t.const_set(p[0],"CustomBlockMacroRx",new RegExp("^("+$(p,"CG_WORD")+"["+$(p,"CC_WORD")+"-]*)::(|\\S|\\S"+$(p,"CC_ANY")+"*?\\S)\\[("+$(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+$(p,"CC_ANY")+"*?\\S)\\[("+$(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+$(p,"CC_ANY")+"+)?\\]$")),t.const_set(p[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)(?:, *("+$(p,"CC_ANY")+"+?))?\\]\\]|anchor:(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+$(p,"CC_ANY")+"*?[^\\\\])\\]))")),t.const_set(p[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)(?:, *("+$(p,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)\\[(?:\\]|("+$(p,"CC_ANY")+"*?[^\\\\])\\])")),t.const_set(p[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)(?:, *("+$(p,"CC_ANY")+"+?))?\\]\\]")),t.const_set(p[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+$(p,"CC_ALPHA")+"_:]["+$(p,"CC_WORD")+"\\-:.]*)(?:, *("+$(p,"CC_ANY")+"+?))?\\]\\]\\]")),t.const_set(p[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+$(p,"CG_WORD")+"(?:&amp;|["+$(p,"CC_WORD")+"\\-.%+])*@"+$(p,"CG_ALNUM")+"["+$(p,"CC_ALNUM")+"_\\-.]*\\.[a-zA-Z]{2,5}\\b")),t.const_set(p[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:(["+$(p,"CC_WORD")+"-]+)?)\\[(?:|("+$(p,"CC_ALL")+"*?[^\\\\]))\\]","m")),t.const_set(p[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+$(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+$(p,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+$(p,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),t.const_set(p[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+$(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"InlineLinkRx",new RegExp("(^|link:|"+$(p,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*([^\\s.,\\[\\]<]))(?:\\[(|"+$(p,"CC_ALL")+"*?[^\\\\])\\])?","m")),t.const_set(p[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+$(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"MacroNameRx",new RegExp("^"+$(p,"CG_WORD")+"["+$(p,"CC_WORD")+"-]*$")),t.const_set(p[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[("+$(p,"CC_ALL")+"*?[^\\\\])\\]","m")),t.const_set(p[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+$(p,"CG_WORD")+"|["+$(p,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|("+$(p,"CC_ALL")+"*?[^\\\\]))?\\]","m")),t.const_set(p[0],"InlineMenuRx",new RegExp('\\\\?"(['+$(p,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),t.const_set(p[0],"InlinePassRx",c(!1,["+","`",new RegExp("(^|[^"+$(p,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+$(p,"CC_ALL")+"*?\\S)\\4)(?!"+$(p,"CG_WORD")+")","m")],!0,["`",n,new RegExp("(^|[^`"+$(p,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+$(p,"CC_ALL")+"*?\\S)\\4)(?![`"+$(p,"CC_WORD")+"])","m")])),t.const_set(p[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+$(p,"CC_ALL")+"*?\\S)\\+$","m")),t.const_set(p[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+$(p,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|"+$(p,"CC_ALL")+"*?[^\\\\])\\])","m")),t.const_set(p[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+$(p,"CC_WORD")+"#/.:{]"+$(p,"CC_ALL")+"*?)&gt;&gt;|xref:(["+$(p,"CC_WORD")+"#/.:{]"+$(p,"CC_ALL")+"*?)\\[(?:\\]|("+$(p,"CC_ALL")+"*?[^\\\\])\\]))","m")),$(p,"RUBY_ENGINE")["$=="]("opal")&&t.const_set(p[0],"HardLineBreakRx",new RegExp("^("+$(p,"CC_ANY")+"*) \\+$","m")),t.const_set(p[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),t.const_set(p[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),t.const_set(p[0],"BlankLineRx",/\n{2,}/),t.const_set(p[0],"EscapedSpaceRx",/\\([ \t\n])/),t.const_set(p[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),t.const_set(p[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),t.const_set(p[0],"SubModifierSniffRx",/[+-]/),t.const_set(p[0],"TrailingDigitsRx",/\d+$/),t.const_set(p[0],"UriSniffRx",new RegExp("^"+$(p,"CG_ALPHA")+"["+$(p,"CC_ALNUM")+".+-]+:/{0,2}")),t.const_set(p[0],"XmlSanitizeRx",/<[^>]+>/)}(r[0],r)},Opal.modules["asciidoctor/substitutors"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice),u=t.module,h=t.hash2,_=t.hash,d=t.truthy,p=t.send,f=t.gvars;return t.add_stubs(["$freeze","$+","$keys","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$clear","$split","$apply_subs","$==","$gsub","$match?","$compat_mode","$convert_quoted_text","$attributes","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$info","$squeeze","$delete","$reject","$start_with?","$do_replacement","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$slice","$length","$names","$config","$merge","$[]=","$-","$normalize_text","$parse_attributes","$process_method","$text","$expand_subs","$text=","$convert","$class","$strip","$>","$index","$min","$compact","$end_with?","$map","$chop","$new","$pop","$rstrip","$register","$tr","$basename","$parse","$<<","$lstrip","$split_simple_csv","$partition","$sub","$encode_uri_component","$style","$parse_into","$extname?","$rindex","$info?","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$resolve_id","$find","$footnotes","$id","$<","$size","$attr?","$attr","$to_s","$read_next_id","$callouts","$syntax_highlighter","$highlight?","$sub_source","$extract_callouts","$name","$to_sym","$to_i","$resolve_lines_to_highlight","$highlight","$nil_or_empty?","$restore_callouts","$count","$to_a","$concat","$uniq","$sort","$*","$parse_quoted_text_attributes","$resolve_pass_subs","$extract_inner_passthrough","$basebackend?","$error","$chr","$drop","$&","$resolve_subs","$resolve_block_subs","$private","$=~","$shorthand_property_syntax","$each_char"]),function(s,m){var y=[u(s,"Asciidoctor")].concat(m);!function(s,m){var y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K=u(s,"Substitutors"),X=[K].concat(m);t.const_set(X[0],"SpecialCharsRx",/[<&>]/),t.const_set(X[0],"SpecialCharsTr",h([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),t.const_set(X[0],"QuotedTextSniffRx",_(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),t.const_set(X[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),t.const_set(X[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),t.const_set(X[0],"NO_SUBS",[]).$freeze(),t.const_set(X[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),t.const_set(X[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),t.const_set(X[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),t.const_set(X[0],"SUB_GROUPS",h(["none","normal","verbatim","specialchars"],{none:l(X,"NO_SUBS"),normal:l(X,"NORMAL_SUBS"),verbatim:l(X,"VERBATIM_SUBS"),specialchars:l(X,"BASIC_SUBS")})),t.const_set(X[0],"SUB_HINTS",h(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),t.const_set(X[0],"SUB_OPTIONS",h(["block","inline"],{block:e(e(l(X,"SUB_GROUPS").$keys(),l(X,"NORMAL_SUBS")),["callouts"]),inline:e(l(X,"SUB_GROUPS").$keys(),l(X,"NORMAL_SUBS"))})),t.const_set(X[0],"CAN",""),t.const_set(X[0],"DEL",""),t.const_set(X[0],"PASS_START",""),t.const_set(X[0],"PASS_END",""),t.const_set(X[0],"PassSlotRx",new RegExp(l(X,"PASS_START")+"(\\d+)"+l(X,"PASS_END"))),t.const_set(X[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+l(X,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+l(X,"PASS_END")+"</span>")),t.const_set(X[0],"RS","\\"),t.const_set(X[0],"R_SB","]"),t.const_set(X[0],"ESC_R_SB","\\]"),t.const_set(X[0],"PLUS","+"),t.def(K,"$apply_subs",y=function(t,e){var r,n,i,$=o,s=o;return null==this.passthroughs&&(this.passthroughs=o),null==this.passthroughs_locked&&(this.passthroughs_locked=o),null==e&&(e=l(X,"NORMAL_SUBS")),d(d(r=t["$empty?"]())?r:e["$!"]())?t:(d(i=a("::","Array")["$==="](t))&&(t=d(t["$[]"](1))?t.$join(l(X,"LF")):t["$[]"](0)),d(e["$include?"]("macros"))&&(t=this.$extract_passthroughs(t),d(this.passthroughs["$empty?"]())||($=this.passthroughs,this.passthroughs_locked=d(r=this.passthroughs_locked)?r:s=!0)),p(e,"each",[],((n=function(r){var i=n.$$s||this,$=o;return null==r&&(r=o),"specialcharacters"["$==="]($=r)?t=i.$sub_specialchars(t):"quotes"["$==="]($)?t=i.$sub_quotes(t):"attributes"["$==="]($)?d(t["$include?"](l(X,"ATTR_REF_HEAD")))?t=i.$sub_attributes(t):o:"replacements"["$==="]($)?t=i.$sub_replacements(t):"macros"["$==="]($)?t=i.$sub_macros(t):"highlight"["$==="]($)?t=i.$highlight_source(t,e["$include?"]("callouts")):"callouts"["$==="]($)?d(e["$include?"]("highlight"))?o:t=i.$sub_callouts(t):"post_replacements"["$==="]($)?t=i.$sub_post_replacements(t):i.$logger().$warn("unknown substitution type "+r)}).$$s=this,n.$$arity=1,n)),d($)&&(t=this.$restore_passthroughs(t),d(s)&&($.$clear(),this.passthroughs_locked=o)),d(i)?t.$split(l(X,"LF"),-1):t)},y.$$arity=-2),t.def(K,"$apply_normal_subs",g=function(t){return this.$apply_subs(t,l(X,"NORMAL_SUBS"))},g.$$arity=1),t.def(K,"$apply_header_subs",b=function(t){return this.$apply_subs(t,l(X,"HEADER_SUBS"))},b.$$arity=1),t.alias(K,"apply_title_subs","apply_subs"),t.def(K,"$apply_reftext_subs",v=function(t){return this.$apply_subs(t,l(X,"REFTEXT_SUBS"))},v.$$arity=1),l(X,"RUBY_ENGINE")["$=="]("opal")&&t.def(K,"$sub_specialchars",x=function(t){var e,r;return d(d(e=d(r=t["$include?"](">"))?r:t["$include?"]("&"))?e:t["$include?"]("<"))?t.$gsub(l(X,"SpecialCharsRx"),l(X,"SpecialCharsTr")):t},x.$$arity=1),t.alias(K,"sub_specialcharacters","sub_specialchars"),t.def(K,"$sub_quotes",w=function(t){var e,r;return null==this.document&&(this.document=o),d(l(X,"QuotedTextSniffRx")["$[]"](r=this.document.$compat_mode())["$match?"](t))&&p(l(X,"QUOTE_SUBS")["$[]"](r),"each",[],((e=function(r,n,i){var $,s=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=p(t,"gsub",[i],(($=function(){var t=$.$$s||this;return null==f["~"]&&(f["~"]=o),t.$convert_quoted_text(f["~"],r,n)}).$$s=s,$.$$arity=0,$))}).$$s=this,e.$$arity=3,e)),t},w.$$arity=1),t.def(K,"$sub_attributes",k=function(e,r){var n,i,$,s,a=o,c=o,u=o,_=o,m=o,y=o,g=o,b=o;return null==this.document&&(this.document=o),null==r&&(r=h([],{})),a=this.document.$attributes(),c=u=_=m=y=g=o,e=p(e,"gsub",[l(X,"AttributeReferenceRx")],((n=function(){var e,i,$,s,h=n.$$s||this,b=o,v=o,x=o,w=o;return null==h.document&&(h.document=o),d(d(e=((i=f["~"])===o?o:i["$[]"](1))["$=="](l(X,"RS")))?e:((i=f["~"])===o?o:i["$[]"](4))["$=="](l(X,"RS")))?"{"+((e=f["~"])===o?o:e["$[]"](2))+"}":d((e=f["~"])===o?o:e["$[]"](3))?(b=(v=((e=f["~"])===o?o:e["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](b)?(i=l(X,"Parser").$store_attribute(v["$[]"](0),d($=v["$[]"](1))?$:"",h.document),e=t.to_ary(i),null==e[0]?o:e[0],x=null==e[1]?o:e[1],c=d(d(e=x)?e:(y=d(i=y)?i:d($=a["$[]"]("attribute-undefined"))?$:l(X,"Compliance").$attribute_undefined())["$!="]("drop-line"))?m=l(X,"DEL"):u=l(X,"CAN")):"counter2"["$==="](b)?(p(h.document,"counter",t.to_a(v)),c=m=l(X,"DEL")):p(h.document,"counter",t.to_a(v))):d(a["$key?"](w=((e=f["~"])===o?o:e["$[]"](2)).$downcase()))?a["$[]"](w):d(x=l(X,"INTRINSIC_ATTRIBUTES")["$[]"](w))?x:(b=g=d(e=g)?e:d(i=d($=r["$[]"]("attribute_missing"))?$:a["$[]"]("attribute-missing"))?i:l(X,"Compliance").$attribute_missing(),"drop"["$==="](b)?c=m=l(X,"DEL"):"drop-line"["$==="](b)?((_=d(e=_)?e:d(i=r["$[]"]("drop_line_severity"))?i:"info")["$=="]("info")&&p(h.$logger(),"info",[],((s=function(){return s.$$s,"dropping line containing reference to missing attribute: "+w}).$$s=h,s.$$arity=0,s)),c=u=l(X,"CAN")):"warn"["$==="](b)?(h.$logger().$warn("skipping reference to missing attribute: "+w),(e=f["~"])===o?o:e["$[]"](0)):(e=f["~"])===o?o:e["$[]"](0))}).$$s=this,n.$$arity=0,n)),d(c)?d(m)?(b=e.$squeeze(l(X,"DEL")).$split(l(X,"LF"),-1),d(u)?p(b,"reject",[],(i=function(t){var e,r,n;i.$$s;return null==t&&(t=o),d(e=d(r=d(n=t["$=="](l(X,"DEL")))?n:t["$=="](l(X,"CAN")))?r:t["$start_with?"](l(X,"CAN")))?e:t["$include?"](l(X,"CAN"))},i.$$s=this,i.$$arity=1,i)).$join(l(X,"LF")).$delete(l(X,"DEL")):p(b,"reject",[],($=function(t){$.$$s;return null==t&&(t=o),t["$=="](l(X,"DEL"))},$.$$s=this,$.$$arity=1,$)).$join(l(X,"LF")).$delete(l(X,"DEL"))):d(e["$include?"](l(X,"LF")))?p(e.$split(l(X,"LF"),-1),"reject",[],(s=function(t){var e,r;s.$$s;return null==t&&(t=o),d(e=d(r=t["$=="](l(X,"CAN")))?r:t["$start_with?"](l(X,"CAN")))?e:t["$include?"](l(X,"CAN"))},s.$$s=this,s.$$arity=1,s)).$join(l(X,"LF")):"":e},k.$$arity=-2),t.def(K,"$sub_replacements",E=function(t){var e;return d(l(X,"ReplaceableTextRx")["$match?"](t))&&p(l(X,"REPLACEMENTS"),"each",[],((e=function(r,n,i){var $,s=e.$$s||this;return null==r&&(r=o),null==n&&(n=o),null==i&&(i=o),t=p(t,"gsub",[r],(($=function(){var t=$.$$s||this;return null==f["~"]&&(f["~"]=o),t.$do_replacement(f["~"],n,i)}).$$s=s,$.$$arity=0,$))}).$$s=this,e.$$arity=3,e)),t},E.$$arity=1),t.def(K,"$sub_macros",A=function(i){var $,s,u,_,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T=o,L=o,N=o;return null==this.document&&(this.document=o),null==this.context&&(this.context=o),null==this.parent&&(this.parent=o),S=i["$include?"]("["),R=i["$include?"](":"),C=d($=S)?R:$,I=d($=C)?i["$include?"](":["):$,T=(L=this.document).$attributes(),d(d($=N=L.$extensions())?N["$inline_macros?"]():$)&&p(N.$inline_macros(),"each",[],((s=function(e){var n,$=s.$$s||this;return null==e&&(e=o),i=p(i,"gsub",[e.$instance().$regexp()],((n=function(){var i,$,s,a=n.$$s||this,c=o,u=o,_=o,m=o,y=o,g=o,b=o,v=o;return null==f["~"]&&(f["~"]=o),d((c=(i=f["~"])===o?o:i["$[]"](0))["$start_with?"](l(X,"RS")))?((i=f["~"])===o?o:i["$[]"](0)).$slice(1,((i=f["~"])===o?o:i["$[]"](0)).$length()):(d(f["~"].$names()["$empty?"]())?(i=[($=f["~"])===o?o:$["$[]"](1),($=f["~"])===o?o:$["$[]"](2)],u=i[0],_=i[1]):(i=[function(){try{return f["~"]["$[]"]("target")}catch(e){if(!t.rescue(e,[l(X,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}(),function(){try{return f["~"]["$[]"]("content")}catch(e){if(!t.rescue(e,[l(X,"StandardError")]))throw e;try{return o}finally{t.pop_exception()}}}()],u=i[0],_=i[1]),s=d(m=(y=e.$config())["$[]"]("default_attrs"))?m.$merge():h([],{}),d(_)&&(d(_["$empty?"]())?y["$[]"]("content_model")["$=="]("attributes")||(g=["text",_],p(s,"[]=",t.to_a(g)),g[r(g.length,1)]):(_=a.$normalize_text(_,!0,!0),y["$[]"]("content_model")["$=="]("attributes")?a.$parse_attributes(_,d(i=d($=y["$[]"]("positional_attrs"))?$:y["$[]"]("pos_attrs"))?i:[],h(["into"],{into:s})):(g=["text",_],p(s,"[]=",t.to_a(g)),g[r(g.length,1)])),u=d(i=u)?i:y["$[]"]("format")["$=="]("short")?_:u),d(l(X,"Inline")["$==="](b=e.$process_method()["$[]"](a,u,s)))?(d(v=b.$attributes().$delete("subs"))&&(g=[a.$apply_subs(b.$text(),a.$expand_subs(v))],p(b,"text=",t.to_a(g)),g[r(g.length,1)]),b.$convert()):d(b)?(a.$logger().$info("expected substitution value for custom inline macro to be of type Inline; got "+b.$class()+": "+c),b):"")}).$$s=$,n.$$arity=0,n))}).$$s=this,s.$$arity=1,s)),d(T["$key?"]("experimental"))&&(d(d($=I)?d(u=i["$include?"]("kbd:"))?u:i["$include?"]("btn:"):$)&&(i=p(i,"gsub",[l(X,"InlineKbdBtnMacroRx")],((_=function(){var i,$,s,a=_.$$s||this,c=o,u=o,m=o,y=o;return d((i=f["~"])===o?o:i["$[]"](1))?((i=f["~"])===o?o:i["$[]"](0)).$slice(1,((i=f["~"])===o?o:i["$[]"](0)).$length()):((i=f["~"])===o?o:i["$[]"](2))["$=="]("kbd")?(d((c=((i=f["~"])===o?o:i["$[]"](3)).$strip())["$include?"](l(X,"R_SB")))&&(c=c.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB"))),d(d(i=n(c.$length(),1))?u=d(u=c.$index(",",1))?[u,c.$index("+",1)].$compact().$min():c.$index("+",1):i)?(m=c.$slice(u,1),d(c["$end_with?"](m))?(y=[-1,e((c=p(c.$chop().$split(m,-1),"map",[],(($=function(t){$.$$s;return null==t&&(t=o),t.$strip()}).$$s=a,$.$$arity=1,$)))["$[]"](-1),m)],p(c,"[]=",t.to_a(y)),y[r(y.length,1)]):c=p(c.$split(m),"map",[],((s=function(t){s.$$s;return null==t&&(t=o),t.$strip()}).$$s=a,s.$$arity=1,s))):c=[c],l(X,"Inline").$new(a,"kbd",o,h(["attributes"],{attributes:h(["keys"],{keys:c})})).$convert()):l(X,"Inline").$new(a,"button",a.$normalize_text((i=f["~"])===o?o:i["$[]"](3),!0,!0)).$convert()}).$$s=this,_.$$arity=0,_))),d(d($=C)?i["$include?"]("menu:"):$)&&(i=p(i,"gsub",[l(X,"InlineMenuMacroRx")],((m=function(){var t,e,r,n=m.$$s||this,i=o,$=o,s=o,a=o;return d(((t=f["~"])===o?o:t["$[]"](0))["$start_with?"](l(X,"RS")))?((t=f["~"])===o?o:t["$[]"](0)).$slice(1,((t=f["~"])===o?o:t["$[]"](0)).$length()):(r=(t=f["~"])===o?o:t["$[]"](1),d(i=(t=f["~"])===o?o:t["$[]"](2))?(d(i["$include?"](l(X,"R_SB")))&&(i=i.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB"))),d($=d(i["$include?"]("&gt;"))?"&gt;":d(i["$include?"](","))?",":o)?a=(s=p(i.$split($),"map",[],((e=function(t){e.$$s;return null==t&&(t=o),t.$strip()}).$$s=n,e.$$arity=1,e))).$pop():(s=(t=[[],i.$rstrip()])[0],a=t[1])):(s=(t=[[],o])[0],a=t[1]),l(X,"Inline").$new(n,"menu",o,h(["attributes"],{attributes:h(["menu","submenus","menuitem"],{menu:r,submenus:s,menuitem:a})})).$convert())}).$$s=this,m.$$arity=0,m))),d(d($=i["$include?"]('"'))?i["$include?"]("&gt;"):$)&&(i=p(i,"gsub",[l(X,"InlineMenuRx")],((y=function(){var e,r,n,i,$,s,a=y.$$s||this,u=o;return d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS")))?((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length()):(r=p(((n=f["~"])===o?o:n["$[]"](1)).$split("&gt;"),"map",[],((i=function(t){i.$$s;return null==t&&(t=o),t.$strip()}).$$s=a,i.$$arity=1,i)),$=null==(e=t.to_ary(r))[0]?o:e[0],s=(u=c.call(e,1)).$pop(),l(X,"Inline").$new(a,"menu",o,h(["attributes"],{attributes:h(["menu","submenus","menuitem"],{menu:$,submenus:u,menuitem:s})})).$convert())}).$$s=this,y.$$arity=0,y)))),d(d($=C)?d(u=i["$include?"]("image:"))?u:i["$include?"]("icon:"):$)&&(i=p(i,"gsub",[l(X,"InlineImageMacroRx")],((g=function(){var e,n,i=g.$$s||this,$=o,s=o,a=o,c=o;return d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS")))?((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length()):(d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"]("icon:"))?($=(e=["icon",["size"]])[0],s=e[1]):($=(e=["image",["alt","width","height"]])[0],s=e[1]),n=(e=f["~"])===o?o:e["$[]"](1),a=i.$parse_attributes((e=f["~"])===o?o:e["$[]"](2),s,h(["unescape_input"],{unescape_input:!0})),$["$=="]("icon")||(L.$register("images",n),c=["imagesdir",T["$[]"]("imagesdir")],p(a,"[]=",t.to_a(c)),c[r(c.length,1)]),d(e=a["$[]"]("alt"))||(c=["alt",(c=["default-alt",l(X,"Helpers").$basename(n,!0).$tr("_-"," ")],p(a,"[]=",t.to_a(c)),c[r(c.length,1)])],p(a,"[]=",t.to_a(c)),c[r(c.length,1)]),l(X,"Inline").$new(i,"image",o,h(["type","target","attributes"],{type:$,target:n,attributes:a})).$convert())}).$$s=this,g.$$arity=0,g))),d(d($=d(u=i["$include?"]("(("))?i["$include?"]("))"):u)?$:d(u=I)?i["$include?"]("dexterm"):u)&&(i=p(i,"gsub",[l(X,"InlineIndextermMacroRx")],((b=function(){var e,n,$,s,a=b.$$s||this,u=o,_=o,m=o,y=o,g=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o;return function(){if(u=(e=f["~"])===o?o:e["$[]"](1),"indexterm"["$==="](u))return d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS")))?((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length()):(d((_=a.$normalize_text((e=f["~"])===o?o:e["$[]"](2),!0,!0))["$include?"]("="))?d(m=(y=l(X,"AttributeList").$new(_,a).$parse())["$[]"](1))?(g=["terms",v=[m]],p(y,"[]=",t.to_a(g)),g[r(g.length,1)],d(x=y["$[]"](2))&&(v["$<<"](x),d(w=y["$[]"](3))&&v["$<<"](w)),d(k=y["$[]"]("see-also"))&&(g=["see-also",d(k["$include?"](","))?p(k.$split(","),"map",[],((n=function(t){return n.$$s,null==t&&(t=o),t.$lstrip()}).$$s=a,n.$$arity=1,n)):[k]],p(y,"[]=",t.to_a(g)),g[r(g.length,1)])):y=h(["terms"],{terms:v=_}):y=h(["terms"],{terms:v=a.$split_simple_csv(_)}),l(X,"Inline").$new(a,"indexterm",o,h(["attributes"],{attributes:y})).$convert());if("indexterm2"["$==="](u))return d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS")))?((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length()):(d((E=a.$normalize_text((e=f["~"])===o?o:e["$[]"](2),!0,!0))["$include?"]("="))&&(E=d(e=d($=(y=l(X,"AttributeList").$new(E,a).$parse())["$[]"](1))?$:y=o)?e:E,d(d(e=y)?k=y["$[]"]("see-also"):e)&&(g=["see-also",d(k["$include?"](","))?p(k.$split(","),"map",[],((s=function(t){return s.$$s,null==t&&(t=o),t.$lstrip()}).$$s=a,s.$$arity=1,s)):[k]],p(y,"[]=",t.to_a(g)),g[r(g.length,1)])),l(X,"Inline").$new(a,"indexterm",E,h(["attributes","type"],{attributes:y,type:"visible"})).$convert());if(i=(e=f["~"])===o?o:e["$[]"](3),d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS")))){if(!d(d(e=i["$start_with?"]("("))?i["$end_with?"](")"):e))return((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length());i=i.$slice(1,r(i.$length(),2)),A=(e=[!0,"(",")"])[0],O=e[1],S=e[2]}else A=!0,d(i["$start_with?"]("("))?d(i["$end_with?"](")"))?(e=[i.$slice(1,r(i.$length(),2)),!1],i=e[0],A=e[1]):(e=[i.$slice(1,i.$length()),"(",""],i=e[0],O=e[1],S=e[2]):d(i["$end_with?"](")"))&&(e=[i.$chop(),"",")"],i=e[0],O=e[1],S=e[2]);return d(A)?(d((E=a.$normalize_text(i,!0))["$include?"](";&"))&&(d(E["$include?"](" &gt;&gt; "))?($=E.$partition(" &gt;&gt; "),e=t.to_ary($),E=null==e[0]?o:e[0],null==e[1]?o:e[1],R=null==e[2]?o:e[2],y=h(["see"],{see:R})):d(E["$include?"](" &amp;&gt; "))&&($=E.$split(" &amp;&gt; "),e=t.to_ary($),E=null==e[0]?o:e[0],k=c.call(e,1),y=h(["see-also"],{"see-also":k}))),C=l(X,"Inline").$new(a,"indexterm",E,h(["attributes","type"],{attributes:y,type:"visible"})).$convert()):(y=h([],{}),d((v=a.$normalize_text(i,!0))["$include?"](";&"))&&(d(v["$include?"](" &gt;&gt; "))?($=v.$partition(" &gt;&gt; "),e=t.to_ary($),v=null==e[0]?o:e[0],null==e[1]?o:e[1],R=null==e[2]?o:e[2],g=["see",R],p(y,"[]=",t.to_a(g)),g[r(g.length,1)]):d(v["$include?"](" &amp;&gt; "))&&($=v.$split(" &amp;&gt; "),e=t.to_ary($),v=null==e[0]?o:e[0],k=c.call(e,1),g=["see-also",k],p(y,"[]=",t.to_a(g)),g[r(g.length,1)])),g=["terms",v=a.$split_simple_csv(v)],p(y,"[]=",t.to_a(g)),g[r(g.length,1)],C=l(X,"Inline").$new(a,"indexterm",o,h(["attributes"],{attributes:y})).$convert()),d(O)?""+O+C+S:C}()}).$$s=this,b.$$arity=0,b))),d(d($=R)?i["$include?"]("://"):$)&&(i=p(i,"gsub",[l(X,"InlineLinkRx")],((v=function(){var e,n,$,s=v.$$s||this,a=o,c=o,u=o,_=o,m=o,y=o;if(d((a=(e=f["~"])===o?o:e["$[]"](2))["$start_with?"](l(X,"RS"))))return""+((e=f["~"])===o?o:e["$[]"](1))+a.$slice(1,a.$length())+((e=f["~"])===o?o:e["$[]"](4));if(c=(e=[(n=f["~"])===o?o:n["$[]"](1),""])[0],u=e[1],d((e=f["~"])===o?o:e["$[]"](4)))c["$=="]("link:")&&(c=""),i=(e=f["~"])===o?o:e["$[]"](4);else{if(c["$=="]("link:"))return(e=f["~"])===o?o:e["$[]"](0);if(i="",_=(e=f["~"])===o?o:e["$[]"](3),")"["$==="](_)){if(a=a.$chop(),u=")",d(a["$end_with?"]("://")))return(e=f["~"])===o?o:e["$[]"](0)}else if(";"["$==="](_)){if(d(d(e=c["$start_with?"]("&lt;"))?a["$end_with?"]("&gt;"):e)?(c=c.$slice(4,c.$length()),a=a.$slice(0,r(a.$length(),4))):d((a=a.$chop())["$end_with?"](")"))?(a=a.$chop(),u=");"):u=";",d(a["$end_with?"]("://")))return(e=f["~"])===o?o:e["$[]"](0)}else if(":"["$==="](_)&&(d((a=a.$chop())["$end_with?"](")"))?(a=a.$chop(),u="):"):u=":",d(a["$end_with?"]("://"))))return(e=f["~"])===o?o:e["$[]"](0)}return e=[o,h(["type"],{type:"link"})],m=e[0],$=e[1],d(i["$empty?"]())||(d(i["$include?"](l(X,"R_SB")))&&(i=i.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB"))),d(d(e=L.$compat_mode()["$!"]())?i["$include?"]("="):e)&&(i=d(e=(m=l(X,"AttributeList").$new(i,s).$parse())["$[]"](1))?e:"",y=["id",m["$[]"]("id")],p($,"[]=",t.to_a(y)),y[r(y.length,1)]),d(i["$end_with?"]("^"))&&(i=i.$chop(),d(m)?d(e=m["$[]"]("window"))||(y=["window","_blank"],p(m,"[]=",t.to_a(y)),y[r(y.length,1)]):m=h(["window"],{window:"_blank"}))),d(i["$empty?"]())&&(i=d(T["$key?"]("hide-uri-scheme"))?a.$sub(l(X,"UriSniffRx"),""):a,d(m)?(y=["role",d(m["$key?"]("role"))?"bare "+m["$[]"]("role"):"bare"],p(m,"[]=",t.to_a(y)),y[r(y.length,1)]):m=h(["role"],{role:"bare"})),L.$register("links",(y=["target",a],p($,"[]=",t.to_a(y)),y[r(y.length,1)])),d(m)&&(y=["attributes",m],p($,"[]=",t.to_a(y)),y[r(y.length,1)]),""+c+l(X,"Inline").$new(s,"anchor",i,$).$convert()+u}).$$s=this,v.$$arity=0,v))),d(d($=C)?d(u=i["$include?"]("link:"))?u:i["$include?"]("ilto:"):$)&&(i=p(i,"gsub",[l(X,"InlineLinkMacroRx")],((x=function(){var n,$,s=x.$$s||this,a=o,c=o,u=o,_=o,m=o;return d(((n=f["~"])===o?o:n["$[]"](0))["$start_with?"](l(X,"RS")))?((n=f["~"])===o?o:n["$[]"](0)).$slice(1,((n=f["~"])===o?o:n["$[]"](0)).$length()):(c=d(a=(n=f["~"])===o?o:n["$[]"](1))?e("mailto:",u=(n=f["~"])===o?o:n["$[]"](2)):(n=f["~"])===o?o:n["$[]"](2),n=[o,h(["type"],{type:"link"})],_=n[0],$=n[1],d((i=(n=f["~"])===o?o:n["$[]"](3))["$empty?"]())||(d(i["$include?"](l(X,"R_SB")))&&(i=i.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB"))),d(a)?d(d(n=L.$compat_mode()["$!"]())?i["$include?"](","):n)&&(i=d(n=(_=l(X,"AttributeList").$new(i,s).$parse())["$[]"](1))?n:"",m=["id",_["$[]"]("id")],p($,"[]=",t.to_a(m)),m[r(m.length,1)],d(_["$key?"](2))&&(c=d(_["$key?"](3))?c+"?subject="+l(X,"Helpers").$encode_uri_component(_["$[]"](2))+"&amp;body="+l(X,"Helpers").$encode_uri_component(_["$[]"](3)):c+"?subject="+l(X,"Helpers").$encode_uri_component(_["$[]"](2)))):d(d(n=L.$compat_mode()["$!"]())?i["$include?"]("="):n)&&(i=d(n=(_=l(X,"AttributeList").$new(i,s).$parse())["$[]"](1))?n:"",m=["id",_["$[]"]("id")],p($,"[]=",t.to_a(m)),m[r(m.length,1)]),d(i["$end_with?"]("^"))&&(i=i.$chop(),d(_)?d(n=_["$[]"]("window"))||(m=["window","_blank"],p(_,"[]=",t.to_a(m)),m[r(m.length,1)]):_=h(["window"],{window:"_blank"}))),d(i["$empty?"]())&&(d(a)?i=u:(d(T["$key?"]("hide-uri-scheme"))?d((i=c.$sub(l(X,"UriSniffRx"),""))["$empty?"]())&&(i=c):i=c,d(_)?(m=["role",d(_["$key?"]("role"))?"bare "+_["$[]"]("role"):"bare"],p(_,"[]=",t.to_a(m)),m[r(m.length,1)]):_=h(["role"],{role:"bare"}))),L.$register("links",(m=["target",c],p($,"[]=",t.to_a(m)),m[r(m.length,1)])),d(_)&&(m=["attributes",_],p($,"[]=",t.to_a(m)),m[r(m.length,1)]),l(X,"Inline").$new(s,"anchor",i,$).$convert())}).$$s=this,x.$$arity=0,x))),d(i["$include?"]("@"))&&(i=p(i,"gsub",[l(X,"InlineEmailRx")],((w=function(){var t,r,n,i=w.$$s||this;return d((t=f["~"])===o?o:t["$[]"](1))?((t=f["~"])===o?o:t["$[]"](1))["$=="](l(X,"RS"))?((t=f["~"])===o?o:t["$[]"](0)).$slice(1,((t=f["~"])===o?o:t["$[]"](0)).$length()):(t=f["~"])===o?o:t["$[]"](0):(r=e("mailto:",n=(t=f["~"])===o?o:t["$[]"](0)),L.$register("links",r),l(X,"Inline").$new(i,"anchor",n,h(["type","target"],{type:"link",target:r})).$convert())}).$$s=this,w.$$arity=0,w))),d(d($=d(u=S)?this.context["$=="]("list_item"):u)?this.parent.$style()["$=="]("bibliography"):$)&&(i=p(i,"sub",[l(X,"InlineBiblioAnchorRx")],((k=function(){var t,e=k.$$s||this;return l(X,"Inline").$new(e,"anchor",(t=f["~"])===o?o:t["$[]"](2),h(["type","id"],{type:"bibref",id:(t=f["~"])===o?o:t["$[]"](1)})).$convert()}).$$s=this,k.$$arity=0,k))),d(d($=d(u=S)?i["$include?"]("[["):u)?$:d(u=C)?i["$include?"]("or:"):u)&&(i=p(i,"gsub",[l(X,"InlineAnchorRx")],((E=function(){var t,e,r=E.$$s||this,n=o,i=o;return d((t=f["~"])===o?o:t["$[]"](1))?((t=f["~"])===o?o:t["$[]"](0)).$slice(1,((t=f["~"])===o?o:t["$[]"](0)).$length()):(d(n=(t=f["~"])===o?o:t["$[]"](2))?i=(t=f["~"])===o?o:t["$[]"](3):(n=(t=f["~"])===o?o:t["$[]"](4),d(d(t=i=(e=f["~"])===o?o:e["$[]"](5))?i["$include?"](l(X,"R_SB")):t)&&(i=i.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB")))),l(X,"Inline").$new(r,"anchor",i,h(["type","id"],{type:"ref",id:n})).$convert())}).$$s=this,E.$$arity=0,E))),d(d($=d(u=i["$include?"]("&"))?i["$include?"](";&l"):u)?$:d(u=C)?i["$include?"]("xref:"):u)&&(i=p(i,"gsub",[l(X,"InlineXrefMacroRx")],((A=function(){var $,s,a,c=A.$$s||this,u=o,_=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o;return d((($=f["~"])===o?o:$["$[]"](0))["$start_with?"](l(X,"RS")))?(($=f["~"])===o?o:$["$[]"](0)).$slice(1,(($=f["~"])===o?o:$["$[]"](0)).$length()):(a=h([],{}),d(u=($=f["~"])===o?o:$["$[]"](1))?(s=u.$split(",",2),u=null==($=t.to_ary(s))[0]?o:$[0],i=null==$[1]?o:$[1],d(i)&&(i=i.$lstrip())):(_=!0,u=($=f["~"])===o?o:$["$[]"](2),d(i=($=f["~"])===o?o:$["$[]"](3))&&(d(i["$include?"](l(X,"R_SB")))&&(i=i.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB"))),d(d($=L.$compat_mode()["$!"]())?i["$include?"]("="):$)&&(i=l(X,"AttributeList").$new(i,c).$parse_into(a)["$[]"](1)))),d(L.$compat_mode())?m=u:d(y=u.$index("#"))?d(n(y,0))?(d(n(g=r(r(u.$length(),1),y),0))?(b=($=[u.$slice(0,y),u.$slice(e(y,1),g)])[0],m=$[1]):b=u.$chop(),d(_)?d(b["$end_with?"](".adoc"))?v=b=b.$slice(0,r(b.$length(),5)):d(l(X,"Helpers")["$extname?"](b)["$!"]())&&(v=b):v=d(p(b,"end_with?",t.to_a(l(X,"ASCIIDOC_EXTENSIONS").$keys())))?b=b.$slice(0,b.$rindex(".")):b):(x=($=[u,u.$slice(1,u.$length())])[0],m=$[1]):d(_)?d(u["$end_with?"](".adoc"))?v=b=u.$slice(0,r(u.$length(),5)):d(l(X,"Helpers")["$extname?"](u))?b=u:m=u:m=u,d(x)?(u=m,d(d($=c.$logger()["$info?"]())?L.$catalog()["$[]"]("refs")["$[]"](u)["$!"]():$)&&c.$logger().$info("possible invalid reference: "+u)):d(b)?d(d($=v)?d(s=L.$attributes()["$[]"]("docname")["$=="](b))?s:L.$catalog()["$[]"]("includes")["$[]"](b):$)?d(m)?(u=($=[m,o,"#"+m])[0],b=$[1],x=$[2],d(d($=c.$logger()["$info?"]())?L.$catalog()["$[]"]("refs")["$[]"](u)["$!"]():$)&&c.$logger().$info("possible invalid reference: "+u)):(u=($=[o,o,"#"])[0],b=$[1],x=$[2]):(u=($=[b,""+L.$attributes()["$[]"]("relfileprefix")+b+(d(v)?L.$attributes().$fetch("relfilesuffix",L.$outfilesuffix()):"")])[0],b=$[1],d(m)?(u=($=[u+"#"+m,b+"#"+m])[0],x=$[1]):x=b):d(d($=L.$compat_mode())?$:l(X,"Compliance").$natural_xrefs()["$!"]())?(u=($=[m,"#"+m])[0],x=$[1],d(d($=c.$logger()["$info?"]())?L.$catalog()["$[]"]("refs")["$[]"](u):$)&&c.$logger().$info("possible invalid reference: "+u)):d(L.$catalog()["$[]"]("refs")["$[]"](m))?(u=($=[m,"#"+m])[0],x=$[1]):d(d($=d(s=m["$include?"](" "))?s:m.$downcase()["$!="](m))?u=L.$resolve_id(m):$)?(m=($=[u,"#"+u])[0],x=$[1]):(u=($=[m,"#"+m])[0],x=$[1],d(c.$logger()["$info?"]())&&c.$logger().$info("possible invalid reference: "+u)),w=["path",b],p(a,"[]=",t.to_a(w)),w[r(w.length,1)],w=["fragment",m],p(a,"[]=",t.to_a(w)),w[r(w.length,1)],w=["refid",u],p(a,"[]=",t.to_a(w)),w[r(w.length,1)],l(X,"Inline").$new(c,"anchor",i,h(["type","target","attributes"],{type:"xref",target:x,attributes:a})).$convert())}).$$s=this,A.$$arity=0,A))),d(d($=C)?i["$include?"]("tnote"):$)&&(i=p(i,"gsub",[l(X,"InlineFootnoteMacroRx")],((O=function(){var e,r,n,$,s=O.$$s||this,c=o,u=o,_=o,m=o,y=o;if(d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS"))))return((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length());if(d((e=f["~"])===o?o:e["$[]"](1))){if(!d((e=f["~"])===o?o:e["$[]"](3)))return(e=f["~"])===o?o:e["$[]"](0);r=((n=f["~"])===o?o:n["$[]"](3)).$split(",",2),e=t.to_ary(r),c=null==e[0]?o:e[0],i=null==e[1]?o:e[1],d(L.$compat_mode())||s.$logger().$warn("found deprecated footnoteref macro: "+((e=f["~"])===o?o:e["$[]"](0))+"; use footnote macro with target instead")}else c=(e=f["~"])===o?o:e["$[]"](2),i=(e=f["~"])===o?o:e["$[]"](3);if(d(c))d(i)?(i=s.$restore_passthroughs(s.$normalize_text(i,!0,!0)),u=L.$counter("footnote-number"),L.$register("footnotes",a(l(X,"Document"),"Footnote").$new(u,c,i)),_=(e=["ref",o])[0],m=e[1]):(d(y=p(L.$footnotes(),"find",[],(($=function(t){$.$$s;return null==t&&(t=o),t.$id()["$=="](c)}).$$s=s,$.$$arity=1,$)))?(u=(e=[y.$index(),y.$text()])[0],i=e[1]):(s.$logger().$warn("invalid footnote reference: "+c),u=(e=[o,c])[0],i=e[1]),_=(e=["xref",c,o])[0],m=e[1],c=e[2]);else{if(!d(i))return(e=f["~"])===o?o:e["$[]"](0);i=s.$restore_passthroughs(s.$normalize_text(i,!0,!0)),u=L.$counter("footnote-number"),L.$register("footnotes",a(l(X,"Document"),"Footnote").$new(u,c,i)),_=m=o}return l(X,"Inline").$new(s,"footnote",i,h(["attributes","id","target","type"],{attributes:h(["index"],{index:u}),id:c,target:m,type:_})).$convert()}).$$s=this,O.$$arity=0,O))),i},A.$$arity=1),t.def(K,"$sub_post_replacements",O=function(t){var e,n,$,s=o,a=o;return null==this.attributes&&(this.attributes=o),null==this.document&&(this.document=o),d(d(e=this.attributes["$[]"]("hardbreaks-option"))?e:this.document.$attributes()["$[]"]("hardbreaks-option"))?(s=t.$split(l(X,"LF"),-1),d(i(s.$size(),2))?t:(a=s.$pop(),p(s,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=o),l(X,"Inline").$new(e,"break",d(t["$end_with?"](l(X,"HARD_LINE_BREAK")))?t.$slice(0,r(t.$length(),2)):t,h(["type"],{type:"line"})).$convert()},n.$$s=this,n.$$arity=1,n))["$<<"](a).$join(l(X,"LF")))):d(d(e=t["$include?"](l(X,"PLUS")))?t["$include?"](l(X,"HARD_LINE_BREAK")):e)?p(t,"gsub",[l(X,"HardLineBreakRx")],(($=function(){var t,e=$.$$s||this;return l(X,"Inline").$new(e,"break",(t=f["~"])===o?o:t["$[]"](1),h(["type"],{type:"line"})).$convert()}).$$s=this,$.$$arity=0,$)):t},O.$$arity=1),t.def(K,"$sub_source",S=function(t,e){return d(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},S.$$arity=2),t.def(K,"$sub_callouts",R=function(t){var r,n,i=this,$=o;return n=d(i["$attr?"]("line-comment"))?l(X,"CalloutSourceRxMap")["$[]"](i.$attr("line-comment")):l(X,"CalloutSourceRx"),$=0,p(t,"gsub",[n],((r=function(){var t,n=r.$$s||this;return null==n.document&&(n.document=o),d((t=f["~"])===o?o:t["$[]"](2))?((t=f["~"])===o?o:t["$[]"](0)).$sub(l(X,"RS"),""):l(X,"Inline").$new(n,"callout",((t=f["~"])===o?o:t["$[]"](4))["$=="](".")?($=e($,1)).$to_s():(t=f["~"])===o?o:t["$[]"](4),h(["id","attributes"],{id:n.document.$callouts().$read_next_id(),attributes:h(["guard"],{guard:(t=f["~"])===o?o:t["$[]"](1)})})).$convert()}).$$s=i,r.$$arity=0,r))},R.$$arity=1),t.def(K,"$highlight_source",C=function(e,r){var n,$,s,a,c,u,_=this,p=o,f=o,m=o,y=o,g=o,b=o;return null==_.document&&(_.document=o),null==_.passthroughs&&(_.passthroughs=o),d(d(n=p=_.document.$syntax_highlighter())?p["$highlight?"]():n)?(d(r)&&($=_.$extract_callouts(e),e=null==(n=t.to_ary($))[0]?o:n[0],f=null==n[1]?o:n[1]),m=_.document.$attributes(),a=p.$name(),d(c=d(_["$attr?"]("linenums"))?(d(n=m["$[]"](a+"-linenums-mode"))?n:"table").$to_sym():o)&&d(i(y=_.$attr("start",1).$to_i(),1))&&(y=1),d(_["$attr?"]("highlight"))&&(g=_.$resolve_lines_to_highlight(e,_.$attr("highlight"))),$=p.$highlight(_,e,_.$attr("language"),h(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:f,css_mode:(d(s=m["$[]"](a+"-css"))?s:"class").$to_sym(),highlight_lines:g,number_lines:c,start_line_number:y,style:m["$[]"](a+"-style")})),b=null==(n=t.to_ary($))[0]?o:n[0],u=null==n[1]?o:n[1],d(_.passthroughs["$empty?"]())||(b=b.$gsub(l(X,"HighlightedPassSlotRx"),l(X,"PASS_START")+"\\1"+l(X,"PASS_END"))),d(f["$nil_or_empty?"]())?b:_.$restore_callouts(b,f,u)):_.$sub_source(e,r)},C.$$arity=2),t.def(K,"$resolve_lines_to_highlight",I=function(n,$){var s,a=o;return a=[],d($["$include?"](" "))&&($=$.$delete(" ")),p(d($["$include?"](","))?$.$split(","):$.$split(";"),"map",[],((s=function($){s.$$s;var c,u,h=o,_=o,p=o,f=o,m=o;return null==$&&($=o),d($["$start_with?"]("!"))&&($=$.$slice(1,$.$length()),h=!0),d(_=d($["$include?"](".."))?"..":d($["$include?"]("-"))?"-":o)?(u=$.$partition(_),p=null==(c=t.to_ary(u))[0]?o:c[0],_=null==c[1]?o:c[1],f=null==c[2]?o:c[2],d(d(c=f["$empty?"]())?c:i(f=f.$to_i(),0))&&(f=e(n.$count(l(X,"LF")),1)),m=t.Range.$new(p.$to_i(),f,!1).$to_a(),d(h)?a=r(a,m):a.$concat(m)):d(h)?a.$delete($.$to_i()):a["$<<"]($.$to_i())}).$$s=this,s.$$arity=1,s)),a.$sort().$uniq()},I.$$arity=2),t.def(K,"$extract_passthroughs",T=function(e){var i,s,a,c,u,_,m,y,g,b=o;return null==this.document&&(this.document=o),null==this.passthroughs&&(this.passthroughs=o),_=this.document.$compat_mode(),b=this.passthroughs,d(d(i=d(s=e["$include?"]("++"))?s:e["$include?"]("$$"))?i:e["$include?"]("ss:"))&&(e=p(e,"gsub",[l(X,"InlinePassMacroRx")],((a=function(){var e,i=a.$$s||this,s=o,c=o,u=o,m=o,y=o,g=o,v=o,x=o,w=o;if(d(s=(e=f["~"])===o?o:e["$[]"](4))){if(d(d(e=_)?s["$=="]("++"):e))return(d((e=f["~"])===o?o:e["$[]"](2))?((e=f["~"])===o?o:e["$[]"](1))+"["+((e=f["~"])===o?o:e["$[]"](2))+"]"+((e=f["~"])===o?o:e["$[]"](3)):""+((e=f["~"])===o?o:e["$[]"](1))+((e=f["~"])===o?o:e["$[]"](3)))+"++"+i.$extract_passthroughs((e=f["~"])===o?o:e["$[]"](5))+"++";if(d(c=(e=f["~"])===o?o:e["$[]"](2))){if(d(n(u=((e=f["~"])===o?o:e["$[]"](3)).$length(),0)))return((e=f["~"])===o?o:e["$[]"](1))+"["+c+"]"+$(l(X,"RS"),r(u,1))+s+((e=f["~"])===o?o:e["$[]"](5))+s;((e=f["~"])===o?o:e["$[]"](1))["$=="](l(X,"RS"))?m="["+c+"]":(d((e=s["$=="]("++"))?c["$end_with?"]("x-"):s["$=="]("++"))&&(y=!0,c=c.$slice(0,r(c.$length(),2))),g=i.$parse_quoted_text_attributes(c))}else if(d(n(u=((e=f["~"])===o?o:e["$[]"](3)).$length(),0)))return""+$(l(X,"RS"),r(u,1))+s+((e=f["~"])===o?o:e["$[]"](5))+s;v=s["$=="]("+++")?[]:l(X,"BASIC_SUBS"),d(g)?d(y)?(x=[w=b.$size(),h(["text","subs","type","attributes"],{text:(e=f["~"])===o?o:e["$[]"](5),subs:l(X,"NORMAL_SUBS"),type:"monospaced",attributes:g})],p(b,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[w=b.$size(),h(["text","subs","type","attributes"],{text:(e=f["~"])===o?o:e["$[]"](5),subs:v,type:"unquoted",attributes:g})],p(b,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[w=b.$size(),h(["text","subs"],{text:(e=f["~"])===o?o:e["$[]"](5),subs:v})],p(b,"[]=",t.to_a(x)),x[r(x.length,1)])}else{if(((e=f["~"])===o?o:e["$[]"](6))["$=="](l(X,"RS")))return((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length());d(v=(e=f["~"])===o?o:e["$[]"](7))?(x=[w=b.$size(),h(["text","subs"],{text:i.$normalize_text((e=f["~"])===o?o:e["$[]"](8),o,!0),subs:i.$resolve_pass_subs(v)})],p(b,"[]=",t.to_a(x)),x[r(x.length,1)]):(x=[w=b.$size(),h(["text"],{text:i.$normalize_text((e=f["~"])===o?o:e["$[]"](8),o,!0)})],p(b,"[]=",t.to_a(x)),x[r(x.length,1)])}return""+(d(e=m)?e:"")+l(X,"PASS_START")+w+l(X,"PASS_END")}).$$s=this,a.$$arity=0,a))),s=l(X,"InlinePassRx")["$[]"](_),m=null==(i=t.to_ary(s))[0]?o:i[0],y=null==i[1]?o:i[1],g=null==i[2]?o:i[2],d(d(i=e["$include?"](m))?i:d(s=y)?e["$include?"](y):s)&&(e=p(e,"gsub",[g],((c=function(){var e,n,i=c.$$s||this,$=o,s=o,a=o,u=o,m=o,y=o,g=o,v=o,x=o,w=o;if($=(e=f["~"])===o?o:e["$[]"](1),s=(e=f["~"])===o?o:e["$[]"](2),d((a=(e=f["~"])===o?o:e["$[]"](3))["$start_with?"](l(X,"RS")))&&(u=l(X,"RS")),m=(e=f["~"])===o?o:e["$[]"](4),n=(e=f["~"])===o?o:e["$[]"](5),d(_)?y=!0:d(y=d(e=s)?s["$end_with?"]("x-"):e)&&(s=s.$slice(0,r(s.$length(),2))),d(s)){if(d((e=m["$=="]("`"))?y["$!"]():m["$=="]("`")))return i.$extract_inner_passthrough(n,$+"["+s+"]"+u);if(d(u))return $+"["+s+"]"+a.$slice(1,a.$length());$["$=="](l(X,"RS"))?$="["+s+"]":g=i.$parse_quoted_text_attributes(s)}else{if(d((e=m["$=="]("`"))?y["$!"]():m["$=="]("`")))return i.$extract_inner_passthrough(n,""+$+u);if(d(u))return""+$+a.$slice(1,a.$length())}return d(_)?(v=[x=b.$size(),h(["text","subs","attributes","type"],{text:n,subs:l(X,"BASIC_SUBS"),attributes:g,type:"monospaced"})],p(b,"[]=",t.to_a(v)),v[r(v.length,1)]):d(g)?d(y)?(w=m["$=="]("`")?l(X,"BASIC_SUBS"):l(X,"NORMAL_SUBS"),v=[x=b.$size(),h(["text","subs","attributes","type"],{text:n,subs:w,attributes:g,type:"monospaced"})],p(b,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[x=b.$size(),h(["text","subs","attributes","type"],{text:n,subs:l(X,"BASIC_SUBS"),attributes:g,type:"unquoted"})],p(b,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[x=b.$size(),h(["text","subs"],{text:n,subs:l(X,"BASIC_SUBS")})],p(b,"[]=",t.to_a(v)),v[r(v.length,1)]),""+$+l(X,"PASS_START")+x+l(X,"PASS_END")}).$$s=this,c.$$arity=0,c))),d(d(i=e["$include?"](":"))?d(s=e["$include?"]("stem:"))?s:e["$include?"]("math:"):i)&&(e=p(e,"gsub",[l(X,"InlineStemMacroRx")],((u=function(){var e,n,i,$=u.$$s||this,s=o,a=o,c=o;return null==$.document&&($.document=o),d(((e=f["~"])===o?o:e["$[]"](0))["$start_with?"](l(X,"RS")))?((e=f["~"])===o?o:e["$[]"](0)).$slice(1,((e=f["~"])===o?o:e["$[]"](0)).$length()):((s=((e=f["~"])===o?o:e["$[]"](1)).$to_sym())["$=="]("stem")&&(s=l(X,"STEM_TYPE_ALIASES")["$[]"]($.document.$attributes()["$[]"]("stem")).$to_sym()),a=(e=f["~"])===o?o:e["$[]"](2),c=$.$normalize_text((e=f["~"])===o?o:e["$[]"](3),o,!0),d(d(e=s["$=="]("latexmath")?c["$start_with?"]("$"):s["$=="]("latexmath"))?c["$end_with?"]("$"):e)&&(c=c.$slice(1,r(c.$length(),2))),a=d(a)?$.$resolve_pass_subs(a):d($.document["$basebackend?"]("html"))?l(X,"BASIC_SUBS"):o,n=[i=b.$size(),h(["text","subs","type"],{text:c,subs:a,type:s})],p(b,"[]=",t.to_a(n)),r(n.length,1),""+l(X,"PASS_START")+i+l(X,"PASS_END"))}).$$s=this,u.$$arity=0,u))),e},T.$$arity=1),t.def(K,"$restore_passthroughs",L=function(t){var e,r=o;return null==this.passthroughs&&(this.passthroughs=o),r=this.passthroughs,p(t,"gsub",[l(X,"PassSlotRx")],((e=function(){var n,i=e.$$s||this,$=o,s=o,a=o,c=o,u=o;return d($=r["$[]"](((n=f["~"])===o?o:n["$[]"](1)).$to_i()))?(s=i.$apply_subs($["$[]"]("text"),$["$[]"]("subs")),d(a=$["$[]"]("type"))&&(d(c=$["$[]"]("attributes"))&&(u=c["$[]"]("id")),s=l(X,"Inline").$new(i,"quoted",s,h(["type","id","attributes"],{type:a,id:u,attributes:c})).$convert()),d(s["$include?"](l(X,"PASS_START")))?i.$restore_passthroughs(s):s):(i.$logger().$error("unresolved passthrough detected: "+t),"??pass??")}).$$s=this,e.$$arity=0,e))},L.$$arity=1),t.def(K,"$resolve_subs",N=function(t,i,$,s){var a,c,u,h=o,_=o;return null==i&&(i="block"),null==$&&($=o),null==s&&(s=o),d(t["$nil_or_empty?"]())?o:(h=o,d(t["$include?"](" "))&&(t=t.$delete(" ")),c=l(X,"SubModifierSniffRx")["$match?"](t),p(t.$split(","),"each",[],((a=function(t){a.$$s;var n,s,u=o,_=o,p=o,f=o,m=o,y=o;return null==t&&(t=o),u=o,d(c)&&((_=t.$chr())["$=="]("+")?(u="append",t=t.$slice(1,t.$length())):_["$=="]("-")?(u="remove",t=t.$slice(1,t.$length())):d(t["$end_with?"]("+"))&&(u="prepend",t=t.$chop())),t=t.$to_sym(),d((n=i["$=="]("inline"))?d(s=t["$=="]("verbatim"))?s:t["$=="]("v"):i["$=="]("inline"))?p=l(X,"BASIC_SUBS"):d(l(X,"SUB_GROUPS")["$key?"](t))?p=l(X,"SUB_GROUPS")["$[]"](t):d(d(n=(s=i["$=="]("inline"))?t.$length()["$=="](1):i["$=="]("inline"))?l(X,"SUB_HINTS")["$key?"](t):n)?(f=l(X,"SUB_HINTS")["$[]"](t),p=d(m=l(X,"SUB_GROUPS")["$[]"](f))?m:[f]):p=[t],d(u)?(h=d(n=h)?n:d($)?$.$drop(0):[],"append"["$==="](y=u)?h=e(h,p):"prepend"["$==="](y)?h=e(p,h):"remove"["$==="](y)?h=r(h,p):o):h=e(h=d(n=h)?n:[],p)}).$$s=this,a.$$arity=1,a)),d(h)?(u=h["$&"](l(X,"SUB_OPTIONS")["$[]"](i)),d(r(h,u)["$empty?"]())||(_=r(h,u),this.$logger().$warn("invalid substitution type"+(d(n(_.$size(),1))?"s":"")+(d(s)?" for ":"")+s+": "+_.$join(", "))),u):o)},N.$$arity=-2),t.def(K,"$resolve_block_subs",D=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},D.$$arity=3),t.def(K,"$resolve_pass_subs",B=function(t){return this.$resolve_subs(t,"inline",o,"passthrough macro")},B.$$arity=1),t.def(K,"$expand_subs",M=function(t){var r,n,i=o;return d(a("::","Symbol")["$==="](t))?t["$=="]("none")?o:d(r=l(X,"SUB_GROUPS")["$[]"](t))?r:[t]:(i=[],p(t,"each",[],((n=function(t){n.$$s;var r=o;return null==t&&(t=o),t["$=="]("none")?o:d(r=l(X,"SUB_GROUPS")["$[]"](t))?i=e(i,r):i["$<<"](t)}).$$s=this,n.$$arity=1,n)),d(i["$empty?"]())?o:i)},M.$$arity=1),t.def(K,"$commit_subs",F=function(){var e,n,i,$,s=this,a=o,c=o,u=o,h=o,_=o;if(null==s.default_subs&&(s.default_subs=o),null==s.content_model&&(s.content_model=o),null==s.context&&(s.context=o),null==s.subs&&(s.subs=o),null==s.attributes&&(s.attributes=o),null==s.style&&(s.style=o),null==s.document&&(s.document=o),d(a=s.default_subs));else if(c=s.content_model,"simple"["$==="](c))a=l(X,"NORMAL_SUBS");else if("verbatim"["$==="](c))a=s.context["$=="]("verse")?l(X,"NORMAL_SUBS"):l(X,"VERBATIM_SUBS");else{if(!"raw"["$==="](c))return s.subs;a=s.context["$=="]("stem")?l(X,"BASIC_SUBS"):l(X,"NO_SUBS")}return d($=s.attributes["$[]"]("subs"))?s.subs=d(e=s.$resolve_block_subs($,a,s.context))?e:[]:s.subs=a.$drop(0),d(d(e=d(n=d(i=s.context["$=="]("listing")?s.style["$=="]("source"):s.context["$=="]("listing"))?u=s.document.$syntax_highlighter():i)?u["$highlight?"]():n)?h=s.subs.$index("specialcharacters"):e)&&(_=[h,"highlight"],p(s.subs,"[]=",t.to_a(_)),_[r(_.length,1)]),o},F.$$arity=0),t.def(K,"$parse_attributes",z=function(t,e,r){var n,i,$=o;return null==this.document&&(this.document=o),null==e&&(e=[]),null==r&&(r=h([],{})),d(!d(t)||t["$empty?"]())?h([],{}):(d(r["$[]"]("unescape_input"))&&(t=this.$normalize_text(t,!0,!0)),d(d(n=r["$[]"]("sub_input"))?t["$include?"](l(X,"ATTR_REF_HEAD")):n)&&(t=this.document.$sub_attributes(t)),d(r["$[]"]("sub_result"))&&($=this),d(i=r["$[]"]("into"))?l(X,"AttributeList").$new(t,$).$parse_into(i,e):l(X,"AttributeList").$new(t,$).$parse(e))},z.$$arity=-2),K.$private(),t.def(K,"$extract_callouts",P=function(n){var i,$,s=this,a=o,c=o,u=o;return a=h([],{}),c=0,u=o,$=d(s["$attr?"]("line-comment"))?l(X,"CalloutExtractRxMap")["$[]"](s.$attr("line-comment")):l(X,"CalloutExtractRx"),n=p(n.$split(l(X,"LF"),-1),"map",[],(i=function(n){var s,h=i.$$s||this;return null==n&&(n=o),c=e(c,1),p(n,"gsub",[$],((s=function(){s.$$s;var e,n=o;return d((e=f["~"])===o?o:e["$[]"](2))?((e=f["~"])===o?o:e["$[]"](0)).$sub(l(X,"RS"),""):((d(e=a["$[]"](c))?e:(n=[c,[]],p(a,"[]=",t.to_a(n)),n[r(n.length,1)]))["$<<"]([(e=f["~"])===o?o:e["$[]"](1),(e=f["~"])===o?o:e["$[]"](4)]),u=c,"")}).$$s=h,s.$$arity=0,s))},i.$$s=s,i.$$arity=1,i)).$join(l(X,"LF")),d(u)?u["$=="](c)&&(n=""+n+l(X,"LF")):a=o,[n,a]},P.$$arity=1),t.def(K,"$restore_callouts",j=function(r,n,i){var $,s=o,a=o,c=o;return null==i&&(i=o),d(i)?(s=r.$slice(0,i),r=r.$slice(i,r.$length())):s="",a=c=0,e(s,p(r.$split(l(X,"LF"),-1),"map",[],($=function(r){var i,s,u,_=$.$$s||this,f=o,m=o,y=o;return null==_.document&&(_.document=o),null==r&&(r=o),d(f=n.$delete(c=e(c,1)))?f.$size()["$=="](1)?(s=f["$[]"](0),m=null==(i=t.to_ary(s))[0]?o:i[0],y=null==i[1]?o:i[1],""+r+l(X,"Inline").$new(_,"callout",y["$=="](".")?(a=e(a,1)).$to_s():y,h(["id","attributes"],{id:_.document.$callouts().$read_next_id(),attributes:h(["guard"],{guard:m})})).$convert()):""+r+p(f,"map",[],(u=function(t,r){var n=u.$$s||this;return null==n.document&&(n.document=o),null==t&&(t=o),null==r&&(r=o),l(X,"Inline").$new(n,"callout",r["$=="](".")?(a=e(a,1)).$to_s():r,h(["id","attributes"],{id:n.document.$callouts().$read_next_id(),attributes:h(["guard"],{guard:t})})).$convert()},u.$$s=_,u.$$arity=2,u)).$join(" "):r},$.$$s=this,$.$$arity=1,$)).$join(l(X,"LF")))},j.$$arity=-3),t.def(K,"$extract_inner_passthrough",q=function(e,n){var i,$,s=o,a=o;return null==this.passthroughs&&(this.passthroughs=o),d(d(i=d($=e["$end_with?"]("+"))?e["$start_with?"]("+","\\+"):$)?l(X,"SinglePlusInlinePassRx")["$=~"](e):i)?d((i=f["~"])===o?o:i["$[]"](1))?n+"`+"+((i=f["~"])===o?o:i["$[]"](2))+"+`":(s=[a=this.passthroughs.$size(),h(["text","subs"],{text:(i=f["~"])===o?o:i["$[]"](2),subs:l(X,"BASIC_SUBS")})],p(this.passthroughs,"[]=",t.to_a(s)),s[r(s.length,1)],n+"`"+l(X,"PASS_START")+a+l(X,"PASS_END")+"`"):n+"`"+e+"`"},q.$$arity=2),t.def(K,"$convert_quoted_text",U=function(t,e,r){var n=o,i=o,$=o,s=o,a=o;if(d(t["$[]"](0)["$start_with?"](l(X,"RS")))){if(!d(r["$=="]("constrained")?n=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0).$slice(1,t["$[]"](0).$length());i="["+n+"]"}return r["$=="]("constrained")?d(i)?""+i+l(X,"Inline").$new(this,"quoted",t["$[]"](3),h(["type"],{type:e})).$convert():(d($=t["$[]"](2))&&(s=(a=this.$parse_quoted_text_attributes($))["$[]"]("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+l(X,"Inline").$new(this,"quoted",t["$[]"](3),h(["type","id","attributes"],{type:e,id:s,attributes:a})).$convert()):(d($=t["$[]"](1))&&(s=(a=this.$parse_quoted_text_attributes($))["$[]"]("id"),e["$=="]("mark")&&(e="unquoted")),l(X,"Inline").$new(this,"quoted",t["$[]"](2),h(["type","id","attributes"],{type:e,id:s,attributes:a})).$convert())},U.$$arity=3),t.def(K,"$do_replacement",H=function(t,r,n){var i=o,$=o;return d((i=t["$[]"](0))["$include?"](l(X,"RS")))?i.$sub(l(X,"RS"),""):"none"["$==="]($=n)?r:"bounding"["$==="]($)?e(e(t["$[]"](1),r),t["$[]"](2)):e(t["$[]"](1),r)},H.$$arity=3),l(X,"RUBY_ENGINE")["$=="]("opal"),t.def(K,"$parse_quoted_text_attributes",Y=function(e){var i,$,s=o,a=o,u=o,_=o,f=o,m=o;return d((e=e.$rstrip())["$empty?"]())?h([],{}):(d(e["$include?"](l(X,"ATTR_REF_HEAD")))&&(e=this.$sub_attributes(e)),d(e["$include?"](","))&&(e=e.$slice(0,e.$index(","))),d(d(i=e["$start_with?"](".","#"))?l(X,"Compliance").$shorthand_property_syntax():i)?(s=e.$split("#",2),d(n(s.$size(),1))?($=s["$[]"](1).$split("."),a=null==(i=t.to_ary($))[0]?o:i[0],u=c.call(i,1)):u=[],_=d(s["$[]"](0)["$empty?"]())?[]:s["$[]"](0).$split("."),d(n(_.$size(),1))&&_.$shift(),d(n(u.$size(),0))&&_.$concat(u),f=h([],{}),d(a)&&(m=["id",a],p(f,"[]=",t.to_a(m)),m[r(m.length,1)]),d(_["$empty?"]())||(m=["role",_.$join(" ")],p(f,"[]=",t.to_a(m)),m[r(m.length,1)]),f):h(["role"],{role:e}))},Y.$$arity=1),t.def(K,"$normalize_text",G=function(t,e,r){var n;return null==e&&(e=o),null==r&&(r=o),d(t["$empty?"]())||(d(e)&&(t=t.$strip().$tr(l(X,"LF")," ")),d(d(n=r)?t["$include?"](l(X,"R_SB")):n)&&(t=t.$gsub(l(X,"ESC_R_SB"),l(X,"R_SB")))),t},G.$$arity=-2),t.def(K,"$split_simple_csv",W=function(t){var r,n,i=o,$=o,s=o;return d(t["$empty?"]())?[]:d(t["$include?"]('"'))?(i=[],$="",s=o,p(t,"each_char",[],((r=function(t){r.$$s;var n=o;return null==t&&(t=o),","["$==="](n=t)?d(s)?$=e($,t):(i["$<<"]($.$strip()),$=""):'"'["$==="](n)?s=s["$!"]():$=e($,t)}).$$s=this,r.$$arity=1,r)),i["$<<"]($.$strip())):p(t.$split(","),"map",[],((n=function(t){n.$$s;return null==t&&(t=o),t.$strip()}).$$s=this,n.$$arity=1,n))},W.$$arity=1)}(y[0],y)}(s[0],s)},Opal.modules["asciidoctor/version"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){var i=[r(e,"Asciidoctor")].concat(n);t.const_set(i[0],"VERSION","2.0.9")}(e[0],e)},Opal.modules["asciidoctor/abstract_node"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,l=t.hash2,c=t.truthy,u=t.send;return t.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$[]","$merge","$raise","$converter","$attributes","$key?","$[]=","$-","$delete","$tap","$new","$each_key","$end_with?","$<<","$slice","$length","$update","$split","$include?","$empty?","$join","$apply_reftext_subs","$attr?","$attr","$extname?","$image_uri","$<","$safe","$uriish?","$encode_spaces_in_uri","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$extname","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open_uri","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$===","$!=","$prepare_source_string","$fetch","$read_asset"]),function(n,h){var _=[o(n,"Asciidoctor")].concat(h);!function(n,o,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y=a(n,null,"AbstractNode"),G=[Y].concat(h);Y.$$prototype.document=Y.$$prototype.attributes=Y.$$prototype.parent=i,Y.$include(s(G,"Substitutors"),s(G,"Logging")),Y.$attr_reader("attributes"),Y.$attr_reader("context"),Y.$attr_reader("document"),Y.$attr_accessor("id"),Y.$attr_reader("node_name"),Y.$attr_reader("parent"),t.def(Y,"$initialize",_=function(t,e,r){var n=i;return null==r&&(r=l([],{})),e["$=="]("document")?this.document=this:c(t)&&(this.document=(this.parent=t).$document()),this.node_name=(this.context=e).$to_s(),this.attributes=c(n=r["$[]"]("attributes"))?n.$merge():l([],{}),this.passthroughs=[]},_.$$arity=-3),t.def(Y,"$block?",d=function(){return this.$raise($("::","NotImplementedError"))},d.$$arity=0),t.def(Y,"$inline?",p=function(){return this.$raise($("::","NotImplementedError"))},p.$$arity=0),t.def(Y,"$converter",f=function(){return this.document.$converter()},f.$$arity=0),t.def(Y,"$parent=",m=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],e},m.$$arity=1),t.def(Y,"$attr",y=function(t,e,r){var n,$,s,o;return null==e&&(e=i),null==r&&(r=i),c(n=this.attributes["$[]"](t.$to_s()))?n:c($=c(s=c(o=r)?this.parent:o)?this.document.$attributes()["$[]"]((r["$=="](!0)?t:r).$to_s()):s)?$:e},y.$$arity=-2),t.def(Y,"$attr?",g=function(t,e,r){var n,$,s=this;return null==e&&(e=i),null==r&&(r=i),c(e)?e["$=="](c(n=s.attributes["$[]"](t.$to_s()))?n:c(c($=r)?s.parent:$)?s.document.$attributes()["$[]"]((r["$=="](!0)?t:r).$to_s()):i):c(n=s.attributes["$key?"](t.$to_s()))?n:!!c(c($=r)?s.parent:$)&&s.document.$attributes()["$key?"]((r["$=="](!0)?t:r).$to_s())},g.$$arity=-2),t.def(Y,"$set_attr",b=function(r,n,$){var s=i;return null==n&&(n=""),null==$&&($=!0),!c($["$=="](!1)?this.attributes["$key?"](r):$["$=="](!1))&&(s=[r,n],u(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],!0)},b.$$arity=-2),t.def(Y,"$remove_attr",v=function(t){return this.attributes.$delete(t)},v.$$arity=1),t.def(Y,"$option?",x=function(t){return!!c(this.attributes["$[]"](t+"-option"))},x.$$arity=1),t.def(Y,"$set_option",w=function(r){var n;return n=[r+"-option",""],u(this.attributes,"[]=",t.to_a(n)),e(n.length,1),i},w.$$arity=1),t.def(Y,"$enabled_options",k=function(){var t;return u($("::","Set").$new(),"tap",[],((t=function(r){var n,$=t.$$s||this;return null==$.attributes&&($.attributes=i),null==r&&(r=i),u($.attributes,"each_key",[],((n=function(t){n.$$s;return null==t&&(t=i),c(t.$to_s()["$end_with?"]("-option"))?r["$<<"](t.$slice(0,e(t.$length(),7))):i}).$$s=$,n.$$arity=1,n))}).$$s=this,t.$$arity=1,t))},k.$$arity=0),t.def(Y,"$update_attributes",E=function(t){return this.attributes.$update(t)},E.$$arity=1),t.def(Y,"$role",A=function(){return this.attributes["$[]"]("role")},A.$$arity=0),t.def(Y,"$roles",O=function(){var t=i;return c(t=this.attributes["$[]"]("role"))?t.$split():[]},O.$$arity=0),t.def(Y,"$role?",S=function(t){return null==t&&(t=i),c(t)?t["$=="](this.attributes["$[]"]("role")):this.attributes["$key?"]("role")},S.$$arity=-1),t.def(Y,"$has_role?",R=function(t){var e;return!!c(e=this.attributes["$[]"]("role"))&&(" "+e+" ")["$include?"](" "+t+" ")},R.$$arity=1),t.def(Y,"$add_role",C=function(r){var n,$=i;return c(n=this.attributes["$[]"]("role"))?!c((" "+n+" ")["$include?"](" "+r+" "))&&($=["role",n+" "+r],u(this.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0):($=["role",r],u(this.attributes,"[]=",t.to_a($)),$[e($.length,1)],!0)},C.$$arity=1),t.def(Y,"$remove_role",I=function(r){var n,$=i,s=i;return!!c(c(n=$=this.attributes["$[]"]("role"))?($=$.$split()).$delete(r):n)&&(c($["$empty?"]())?this.attributes.$delete("role"):(s=["role",$.$join(" ")],u(this.attributes,"[]=",t.to_a(s)),s[e(s.length,1)]),!0)},I.$$arity=1),t.def(Y,"$reftext",T=function(){var t;return c(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):i},T.$$arity=0),t.def(Y,"$reftext?",L=function(){return this.attributes["$key?"]("reftext")},L.$$arity=0),t.def(Y,"$icon_uri",N=function(t){var e=i;return c(this["$attr?"]("icon"))?(e=this.$attr("icon"),c(s(G,"Helpers")["$extname?"](e))||(e=e+"."+this.document.$attr("icontype","png"))):e=t+"."+this.document.$attr("icontype","png"),this.$image_uri(e,"iconsdir")},N.$$arity=1),t.def(Y,"$image_uri",D=function(t,e){var n,o,a,l,u=i,h=i;return null==e&&(e="imagesdir"),c(c(n=r((u=this.document).$safe(),$(s(G,"SafeMode"),"SECURE")))?u["$attr?"]("data-uri"):n)?c(c(n=c(o=s(G,"Helpers")["$uriish?"](t))?t=s(G,"Helpers").$encode_spaces_in_uri(t):o)?n:c(o=c(a=c(l=e)?h=u.$attr(e):l)?s(G,"Helpers")["$uriish?"](h):a)?t=this.$normalize_web_path(t,h,!1):o)?c(u["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,u["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,c(e)?u.$attr(e):i)},D.$$arity=-2),t.def(Y,"$media_uri",B=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,c(e)?r.document.$attr(e):i)},B.$$arity=-2),t.def(Y,"$generate_data_uri",M=function(t,e){var r=i,n=i,o=i;return null==e&&(e=i),n=c(r=s(G,"Helpers").$extname(t,i))?r["$=="](".svg")?"image/svg+xml":"image/"+r.$slice(1,r.$length()):"application/octet-stream",o=c(e)?this.$normalize_system_path(t,this.document.$attr(e),i,l(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),c($("::","File")["$readable?"](o))?"data:"+n+";base64,"+$("::","Base64").$strict_encode64($("::","File").$binread(o)):(this.$logger().$warn("image to embed not found or not readable: "+o),"data:"+n+";base64,")},M.$$arity=-2),t.def(Y,"$generate_data_uri_from_uri",F=function(e,r){var n,o,a,l=i,h=i;null==r&&(r=!1),c(r)?s(G,"Helpers").$require_library("open-uri/cached","open-uri-cached"):c(s(G,"RUBY_ENGINE_OPAL")["$!"]())&&$("::","OpenURI");try{return o=u($("::","OpenURI"),"open_uri",[e,s(G,"URI_READ_MODE")],((a=function(t){a.$$s;return null==t&&(t=i),[t.$content_type(),t.$read()]}).$$s=this,a.$$arity=1,a)),l=null==(n=t.to_ary(o))[0]?i:n[0],h=null==n[1]?i:n[1],"data:"+l+";base64,"+$("::","Base64").$strict_encode64(h)}catch(r){if(!t.rescue(r,[s(G,"StandardError")]))throw r;try{return this.$logger().$warn("could not retrieve image data from URI: "+e),e}finally{t.pop_exception()}}},F.$$arity=-2),t.def(Y,"$normalize_asset_path",z=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),i,l(["target_name","recover"],{target_name:e,recover:r}))},z.$$arity=-2),t.def(Y,"$normalize_system_path",P=function(t,e,n,o){var a=i;return null==e&&(e=i),null==n&&(n=i),null==o&&(o=l([],{})),c(r((a=this.document).$safe(),$(s(G,"SafeMode"),"SAFE")))?c(e)?c(a.$path_resolver()["$root?"](e))||(e=$("::","File").$join(a.$base_dir(),e)):e=a.$base_dir():(c(e)||(e=a.$base_dir()),c(n)||(n=a.$base_dir())),a.$path_resolver().$system_path(t,e,n,o)},P.$$arity=-2),t.def(Y,"$normalize_web_path",j=function(t,e,r){var n;return null==e&&(e=i),null==r&&(r=!0),c(c(n=r)?s(G,"Helpers")["$uriish?"](t):n)?s(G,"Helpers").$encode_spaces_in_uri(t):this.document.$path_resolver().$web_path(t,e)},j.$$arity=-2),t.def(Y,"$read_asset",q=function(t,e){var r;return null==e&&(e=l([],{})),c($("::","Hash")["$==="](e))||(e=l(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),c($("::","File")["$readable?"](t))?c(e["$[]"]("normalize"))?s(G,"Helpers").$prepare_source_string($("::","File").$read(t,l(["mode"],{mode:s(G,"FILE_READ_MODE")}))).$join(s(G,"LF")):$("::","File").$read(t,l(["mode"],{mode:s(G,"FILE_READ_MODE")})):c(e["$[]"]("warn_on_failure"))?(this.$logger().$warn((c(r=this.$attr("docfile"))?r:"<stdin>")+": "+(c(r=e["$[]"]("label"))?r:"file")+" does not exist or cannot be read: "+t),i):i},q.$$arity=-2),t.def(Y,"$read_contents",U=function(e,r){var n,o,a,h,_,d=i,p=i;if(null==r&&(r=l([],{})),d=this.document,!c(c(n=s(G,"Helpers")["$uriish?"](e))?n:c(o=c(a=p=r["$[]"]("start"))?s(G,"Helpers")["$uriish?"](p):a)?e=d.$path_resolver().$web_path(e,p):o))return e=this.$normalize_system_path(e,r["$[]"]("start"),i,l(["target_name"],{target_name:c(n=r["$[]"]("label"))?n:"asset"})),this.$read_asset(e,l(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));if(!c(d["$attr?"]("allow-uri-read")))return c(r.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),i;c(d["$attr?"]("cache-uri"))&&s(G,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return c(r["$[]"]("normalize"))?s(G,"Helpers").$prepare_source_string(u($("::","OpenURI"),"open_uri",[e,s(G,"URI_READ_MODE")],(h=function(t){h.$$s;return null==t&&(t=i),t.$read()},h.$$s=this,h.$$arity=1,h))).$join(s(G,"LF")):u($("::","OpenURI"),"open_uri",[e,s(G,"URI_READ_MODE")],((_=function(t){_.$$s;return null==t&&(t=i),t.$read()}).$$s=this,_.$$arity=1,_))}catch($){if(!t.rescue($,[s(G,"StandardError")]))throw $;try{return c(r.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(c(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e),i}finally{t.pop_exception()}}},U.$$arity=-2),t.def(Y,"$is_uri?",H=function(t){return s(G,"Helpers")["$uriish?"](t)},H.$$arity=1)}(_[0],0,_)}(n[0],n)},Opal.modules["asciidoctor/abstract_block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,l=t.hash2,c=t.send,u=t.truthy;return t.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$===","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$empty?","$>","$Integer","$find_by_internal","$to_proc","$context","$[]","$items","$+","$find_index","$include?","$next_adjacent_block","$blocks","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$delete","$reftext","$!","$sub_placeholder","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$int_to_roman","$each","$assign_numeral","$reindex_sections","$protected","$has_role?","$raise","$header?","$!=","$flatten","$head","$rows","$merge","$body","$foot","$style","$inner_document"]),function(n,h){var _=[o(n,"Asciidoctor")].concat(h);!function(n,o,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q=a(n,o,"AbstractBlock"),U=[q].concat(h);q.$$prototype.source_location=q.$$prototype.document=q.$$prototype.attributes=q.$$prototype.blocks=q.$$prototype.next_section_index=q.$$prototype.numeral=q.$$prototype.context=q.$$prototype.parent=q.$$prototype.caption=q.$$prototype.style=q.$$prototype.converted_title=q.$$prototype.title=q.$$prototype.subs=q.$$prototype.next_section_ordinal=q.$$prototype.id=q.$$prototype.header=i,q.$attr_reader("blocks"),q.$attr_writer("caption"),q.$attr_accessor("content_model"),q.$attr_accessor("level"),q.$attr_accessor("numeral"),q.$attr_accessor("source_location"),q.$attr_accessor("style"),q.$attr_reader("subs"),t.def(q,"$initialize",_=function(e,r,n){var $,o,a=_.$$p,h=i,d=i;for(a&&(_.$$p=null),d=0,o=arguments.length,h=new Array(o);d<o;d++)h[d]=arguments[d];return null==n&&(n=l([],{})),c(this,t.find_super_dispatcher(this,"initialize",_,!1),h,a),this.content_model="compound",this.blocks=[],this.subs=[],this.id=this.title=this.caption=this.numeral=this.style=this.default_subs=this.source_location=i,u(u($=r["$=="]("document"))?$:r["$=="]("section"))?(this.level=this.next_section_index=0,this.next_section_ordinal=1):u(s(U,"AbstractBlock")["$==="](e))?this.level=e.$level():this.level=i},_.$$arity=-3),t.def(q,"$block?",d=function(){return!0},d.$$arity=0),t.def(q,"$inline?",p=function(){return!1},p.$$arity=0),t.def(q,"$file",f=function(){var t;return u(t=this.source_location)?this.source_location.$file():t},f.$$arity=0),t.def(q,"$lineno",m=function(){var t;return u(t=this.source_location)?this.source_location.$lineno():t},m.$$arity=0),t.def(q,"$convert",y=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},y.$$arity=0),t.alias(q,"render","convert"),t.def(q,"$content",g=function(){var t;return c(this.blocks,"map",[],(t=function(e){t.$$s;return null==e&&(e=i),e.$convert()},t.$$s=this,t.$$arity=1,t)).$join(s(U,"LF"))},g.$$arity=0),t.def(q,"$context=",b=function(t){return this.node_name=(this.context=t).$to_s()},b.$$arity=1),t.def(q,"$<<",v=function(r){var n=i;return r.$parent()["$=="](this)||(n=[this],c(r,"parent=",t.to_a(n)),n[e(n.length,1)]),this.blocks["$<<"](r),this},v.$$arity=1),t.alias(q,"append","<<"),t.def(q,"$blocks?",x=function(){return!u(this.blocks["$empty?"]())},x.$$arity=0),t.def(q,"$sections?",w=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)},w.$$arity=0),t.def(q,"$number",k=function(){try{return this.$Integer(this.numeral)}catch(e){if(!t.rescue(e,[s(U,"StandardError")]))throw e;try{return this.numeral}finally{t.pop_exception()}}},k.$$arity=0),t.def(q,"$find_by",E=function(e){var r=E.$$p,n=r||i,s=i;r&&(E.$$p=null),r&&(E.$$p=null),null==e&&(e=l([],{}));try{return c(this,"find_by_internal",[e,s=[]],n.$to_proc())}catch(e){if(!t.rescue(e,[$("::","StopIteration")]))throw e;try{return s}finally{t.pop_exception()}}},E.$$arity=-1),t.alias(q,"query","find_by"),t.def(q,"$next_adjacent_block",A=function(){var t,e=i,n=i;return this.context["$=="]("document")?i:u((e=this.parent).$context()["$=="]("dlist")?this.context["$=="]("list_item"):(e=this.parent).$context()["$=="]("dlist"))?u(n=e.$items()["$[]"](r(c(e.$items(),"find_index",[],((t=function(e,r){var n,$=t.$$s||this;return null==e&&(e=i),null==r&&(r=i),u(n=e["$include?"]($))?n:r["$=="]($)}).$$s=this,t.$$arity=2,t)),1)))?n:e.$next_adjacent_block():u(n=e.$blocks()["$[]"](r(e.$blocks().$find_index(this),1)))?n:e.$next_adjacent_block()},A.$$arity=0),t.def(q,"$sections",O=function(){var t;return c(this.blocks,"select",[],((t=function(e){t.$$s;return null==e&&(e=i),e.$context()["$=="]("section")}).$$s=this,t.$$arity=1,t))},O.$$arity=0),t.def(q,"$alt",S=function(){var t=i;return u(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),u(s(U,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):""},S.$$arity=0),t.def(q,"$caption",R=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},R.$$arity=0),t.def(q,"$captioned_title",C=function(){return""+this.caption+this.$title()},C.$$arity=0),t.def(q,"$list_marker_keyword",I=function(t){var e;return null==t&&(t=i),s(U,"ORDERED_LIST_KEYWORDS")["$[]"](u(e=t)?e:this.style)},I.$$arity=-1),t.def(q,"$title",T=function(){var t,e;return this.converted_title=u(t=this.converted_title)?t:u(e=this.title)?this.$apply_title_subs(this.title):e},T.$$arity=0),t.def(q,"$title?",L=function(){return!!u(this.title)},L.$$arity=0),t.def(q,"$title=",N=function(t){return this.converted_title=i,this.title=t},N.$$arity=1),t.def(q,"$sub?",D=function(t){return this.subs["$include?"](t)},D.$$arity=1),t.def(q,"$remove_sub",B=function(t){return this.subs.$delete(t),i},B.$$arity=1),t.def(q,"$xreftext",M=function(t){var e,r,n=this,$=i,o=i,a=i,l=i,c=i;return null==t&&(t=i),u(u(e=$=n.$reftext())?$["$empty?"]()["$!"]():e)?$:u(u(e=u(r=t)?n.title:r)?n.caption:e)?"full"["$==="](o=t)?(a=n.$sub_placeholder(n.$sub_quotes(u(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),u(u(e=u(r=n.numeral)?l=s(U,"CAPTION_ATTR_NAMES")["$[]"](n.context):r)?c=n.document.$attributes()["$[]"](l):e)?c+" "+n.numeral+", "+a:n.caption.$chomp(". ")+", "+a):"short"["$==="](o)?u(u(e=u(r=n.numeral)?l=s(U,"CAPTION_ATTR_NAMES")["$[]"](n.context):r)?c=n.document.$attributes()["$[]"](l):e)?c+" "+n.numeral:n.caption.$chomp(". "):n.$title():n.$title()},M.$$arity=-1),t.def(q,"$assign_caption",F=function(t,e){var r,n,$=i,o=i;return null==e&&(e=this.context),u(u(r=u(n=this.caption)?n:this.title["$!"]())?r:this.caption=u(n=t)?n:this.document.$attributes()["$[]"]("caption"))?i:u(u(r=$=s(U,"CAPTION_ATTR_NAMES")["$[]"](e))?o=this.document.$attributes()["$[]"]($):r)?(this.caption=o+" "+(this.numeral=this.document.$increment_and_store_counter(e+"-number",this))+". ",i):i},F.$$arity=-2),t.def(q,"$assign_numeral",z=function(n){var $,o=this,a=i,l=i,h=i,_=i;return o.next_section_index=r((a=[o.next_section_index],c(n,"index=",t.to_a(a)),a[e(a.length,1)]),1),u(l=n.$numbered())&&((h=n.$sectname())["$=="]("appendix")?(a=[o.document.$counter("appendix-number","A")],c(n,"numeral=",t.to_a(a)),a[e(a.length,1)],a=[u(_=o.document.$attributes()["$[]"]("appendix-caption"))?_+" "+n.$numeral()+": ":n.$numeral()+". "],c(n,"caption=",t.to_a(a)),a[e(a.length,1)]):u(u($=h["$=="]("chapter"))?$:l["$=="]("chapter"))?(a=[o.document.$counter("chapter-number",1).$to_s()],c(n,"numeral=",t.to_a(a)),a[e(a.length,1)]):(a=[h["$=="]("part")?s(U,"Helpers").$int_to_roman(o.next_section_ordinal):o.next_section_ordinal.$to_s()],c(n,"numeral=",t.to_a(a)),a[e(a.length,1)],o.next_section_ordinal=r(o.next_section_ordinal,1))),i},z.$$arity=1),t.def(q,"$reindex_sections",P=function(){var t;return this.next_section_index=0,this.next_section_ordinal=1,c(this.blocks,"each",[],((t=function(e){var r=t.$$s||this;return null==e&&(e=i),e.$context()["$=="]("section")?(r.$assign_numeral(e),e.$reindex_sections()):i}).$$s=this,t.$$arity=1,t))},P.$$arity=0),q.$protected(),t.def(q,"$find_by_internal",j=function(e,n){var s,o,a,h,_,d,p,f,m,y,g,b=j.$$p,v=b||i,x=i,w=i,k=i,E=i,A=i,O=i;if(b&&(j.$$p=null),b&&(j.$$p=null),null==e&&(e=l([],{})),null==n&&(n=[]),u(u(s=u(o=u(a=u(h=g=!u(x=e["$[]"]("context"))||i)?h:x["$=="](this.context))?u(h=(w=e["$[]"]("style"))["$!"]())?h:w["$=="](this.style):a)?u(a=(k=e["$[]"]("role"))["$!"]())?a:this["$has_role?"](k):o)?u(o=(E=e["$[]"]("id"))["$!"]())?o:E["$=="](this.id):s))if(v!==i)if(u(A=t.yield1(v,this))){if("prune"["$==="](O=A))return n["$<<"](this),u(E)&&this.$raise($("::","StopIteration")),n;if("reject"["$==="](O))return u(E)&&this.$raise($("::","StopIteration")),n;"stop"["$==="](O)?this.$raise($("::","StopIteration")):(n["$<<"](this),u(E)&&this.$raise($("::","StopIteration")))}else u(E)&&this.$raise($("::","StopIteration"));else n["$<<"](this),u(E)&&this.$raise($("::","StopIteration"));return O=this.context,"document"["$==="](O)?x["$=="]("document")||(u(u(s=this["$header?"]())?u(o=g)?o:x["$=="]("section"):s)&&c(this.header,"find_by_internal",[e,n],v.$to_proc()),c(this.blocks,"each",[],((_=function(t){_.$$s;return null==t&&(t=i),u(x["$=="]("section")?t.$context()["$!="]("section"):x["$=="]("section"))?i:c(t,"find_by_internal",[e,n],v.$to_proc())}).$$s=this,_.$$arity=1,_))):"dlist"["$==="](O)?u(u(s=g)?s:x["$!="]("section"))&&c(this.blocks.$flatten(),"each",[],((d=function(t){d.$$s;return null==t&&(t=i),u(t)?c(t,"find_by_internal",[e,n],v.$to_proc()):i}).$$s=this,d.$$arity=1,d)):"table"["$==="](O)?u(e["$[]"]("traverse_documents"))?(c(this.$rows().$head(),"each",[],((p=function(t){var r,$=p.$$s||this;return null==t&&(t=i),c(t,"each",[],((r=function(t){r.$$s;return null==t&&(t=i),c(t,"find_by_internal",[e,n],v.$to_proc())}).$$s=$,r.$$arity=1,r))}).$$s=this,p.$$arity=1,p)),x["$=="]("inner_document")&&(e=e.$merge(l(["context"],{context:"document"}))),c(r(this.$rows().$body(),this.$rows().$foot()),"each",[],((f=function(t){var r,$=f.$$s||this;return null==t&&(t=i),c(t,"each",[],((r=function(t){r.$$s;return null==t&&(t=i),c(t,"find_by_internal",[e,n],v.$to_proc()),t.$style()["$=="]("asciidoc")?c(t.$inner_document(),"find_by_internal",[e,n],v.$to_proc()):i}).$$s=$,r.$$arity=1,r))}).$$s=this,f.$$arity=1,f))):c(r(r(this.$rows().$head(),this.$rows().$body()),this.$rows().$foot()),"each",[],((m=function(t){var r,$=m.$$s||this;return null==t&&(t=i),c(t,"each",[],((r=function(t){r.$$s;return null==t&&(t=i),c(t,"find_by_internal",[e,n],v.$to_proc())}).$$s=$,r.$$arity=1,r))}).$$s=this,m.$$arity=1,m)):c(this.blocks,"each",[],((y=function(t){y.$$s;return null==t&&(t=i),u(x["$=="]("section")?t.$context()["$!="]("section"):x["$=="]("section"))?i:c(t,"find_by_internal",[e,n],v.$to_proc())}).$$s=this,y.$$arity=1,y)),n},j.$$arity=-1)}(_[0],s(_,"AbstractNode"),_)}(n[0],n)},Opal.modules["asciidoctor/attribute_list"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.klass,l=t.hash,c=t.hash2,u=t.truthy,h=t.send;return t.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each","$[]=","$-","$private","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$split","$empty?","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(n,_){var d=[o(n,"Asciidoctor")].concat(_);!function(n,o,_){var d,p,f,m,y,g,b,v,x,w,k,E,A=a(n,null,"AttributeList"),O=[A].concat(_);A.$$prototype.attributes=A.$$prototype.scanner=A.$$prototype.delimiter=A.$$prototype.block=A.$$prototype.delimiter_skip_pattern=A.$$prototype.delimiter_boundary_pattern=i,t.const_set(O[0],"BACKSLASH","\\"),t.const_set(O[0],"APOS","'"),t.const_set(O[0],"BoundaryRxs",l('"',/.*?[^\\](?=")/,s(O,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),t.const_set(O[0],"EscapedQuotes",l('"','\\"',s(O,"APOS"),"\\'")),t.const_set(O[0],"NameRx",new RegExp(s(O,"CG_WORD")+"["+s(O,"CC_WORD")+"\\-.]*")),t.const_set(O[0],"BlankRx",/[ \t]+/),t.const_set(O[0],"SkipRxs",c([","],{",":/[ \t]*(,|$)/})),t.def(A,"$initialize",d=function(t,e,r){return null==e&&(e=i),null==r&&(r=","),this.scanner=$("::","StringScanner").$new(t),this.block=e,this.delimiter=r,this.delimiter_skip_pattern=s(O,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=s(O,"BoundaryRxs")["$[]"](r),this.attributes=i},d.$$arity=-2),t.def(A,"$parse_into",p=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},p.$$arity=-2),t.def(A,"$parse",f=function(t){var r=i;if(null==t&&(t=[]),u(this.attributes))return this.attributes;for(this.attributes=c([],{}),r=0;u(this.$parse_attribute(r,t))&&!u(this.scanner["$eos?"]());)this.$skip_delimiter(),r=e(r,1);return this.attributes},f.$$arity=-1),t.def(A,"$rekey",m=function(t){return s(O,"AttributeList").$rekey(this.attributes,t)},m.$$arity=1),t.defs(A,"$rekey",y=function(n,$){var s,o=i;return o=0,h($,"each",[],((s=function($){s.$$s;var a=i,l=i;return null==$&&($=i),o=e(o,1),u($)&&u(a=n["$[]"](o))?(l=[$,a],h(n,"[]=",t.to_a(l)),l[r(l.length,1)]):i}).$$s=this,s.$$arity=1,s)),n},y.$$arity=2),A.$private(),t.def(A,"$parse_attribute",g=function(n,$){var o,a,l,c,_=this,d=i,p=i,f=i,m=i,y=i,g=i,b=i,v=i,x=i,w=i;if(null==n&&(n=0),null==$&&($=[]),d=!1,_.$skip_blank(),(p=_.scanner.$peek(1))["$=="]('"'))f=_.$parse_attribute_value(_.scanner.$get_byte()),m=i;else if(p["$=="](s(O,"APOS")))f=_.$parse_attribute_value(_.scanner.$get_byte()),m=i,u(f["$start_with?"](s(O,"APOS")))||(d=!0);else{if(f=_.$scan_name(),y=0,g=i,u(_.scanner["$eos?"]())){if(!u(f))return!1}else y=u(o=_.$skip_blank())?o:0,g=_.scanner.$get_byte();if(u(u(o=g["$!"]())?o:g["$=="](_.delimiter)))m=i;else if(u(u(o=g["$!="]("="))?o:f["$!"]()))f=""+f+(c=y,"number"==typeof(l=" ")&&"number"==typeof c?l*c:l["$*"](c))+g+_.$scan_to_delimiter(),m=i;else if(_.$skip_blank(),u(_.scanner.$peek(1)))if((g=_.scanner.$get_byte())["$=="]('"'))m=_.$parse_attribute_value(g);else if(g["$=="](s(O,"APOS")))m=_.$parse_attribute_value(g),u(m["$start_with?"](s(O,"APOS")))||(d=!0);else if(g["$=="](_.delimiter))m="";else if((m=""+g+_.$scan_to_delimiter())["$=="]("None"))return!0}return u(m)?"options"["$==="](b=f)||"opts"["$==="](b)?u(m["$include?"](","))?(u(m["$include?"](" "))&&(m=m.$delete(" ")),h(m.$split(","),"each",[],((a=function(e){var n=a.$$s||this,$=i;return null==n.attributes&&(n.attributes=i),null==e&&(e=i),u(e["$empty?"]())?i:($=[e+"-option",""],h(n.attributes,"[]=",t.to_a($)),$[r($.length,1)])}).$$s=_,a.$$arity=1,a))):u(m["$empty?"]())||(v=[m+"-option",""],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):u(u(o=d)?_.block:o)?"title"["$==="](b=f)||"reftext"["$==="](b)?(v=[f,m],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[f,_.block.$apply_subs(m)],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(v=[f,m],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]):(x=u(u(o=d)?_.block:o)?_.block.$apply_subs(f):f,u(w=$["$[]"](n))&&(v=[w,x],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),v=[e(n,1),x],h(_.attributes,"[]=",t.to_a(v)),v[r(v.length,1)]),!0},g.$$arity=-1),t.def(A,"$parse_attribute_value",b=function(t){var e=i;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):u(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),u(e["$include?"](s(O,"BACKSLASH")))?e.$gsub(s(O,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},b.$$arity=1),t.def(A,"$skip_blank",v=function(){return this.scanner.$skip(s(O,"BlankRx"))},v.$$arity=0),t.def(A,"$skip_delimiter",x=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},x.$$arity=0),t.def(A,"$scan_name",w=function(){return this.scanner.$scan(s(O,"NameRx"))},w.$$arity=0),t.def(A,"$scan_to_delimiter",k=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},k.$$arity=0),t.def(A,"$scan_to_quote",E=function(t){return this.scanner.$scan(s(O,"BoundaryRxs")["$[]"](t))},E.$$arity=1)}(d[0],0,d)}(n[0],n)},Opal.modules["asciidoctor/block"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.klass,a=t.send,l=t.hash2,c=t.truthy;return t.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$drop","$delete","$[]=","$commit_subs","$nil_or_empty?","$prepare_source_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$logger","$to_s","$class","$object_id","$inspect"]),function(r,u){var h=[s(r,"Asciidoctor")].concat(u);!function(r,s,u){var h,_,d,p,f,m=o(r,s,"Block"),y=[m].concat(u);m.$$prototype.attributes=m.$$prototype.content_model=m.$$prototype.lines=m.$$prototype.subs=m.$$prototype.blocks=m.$$prototype.context=m.$$prototype.style=n,f=["simple"],a(t.const_set(y[0],"DEFAULT_CONTENT_MODEL",l(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",t.to_a(f)),e(f.length,1),t.alias(m,"blockname","context"),m.$attr_accessor("lines"),t.def(m,"$initialize",h=function(r,s,o){var u,_,d=h.$$p,p=n,f=n,m=n,g=n,b=n;for(d&&(h.$$p=null),b=0,_=arguments.length,g=new Array(_);b<_;b++)g[b]=arguments[b];return null==o&&(o=l([],{})),a(this,t.find_super_dispatcher(this,"initialize",h,!1),g,d),this.content_model=c(u=o["$[]"]("content_model"))?u:$(y,"DEFAULT_CONTENT_MODEL")["$[]"](s),c(o["$key?"]("subs"))?c(p=o["$[]"]("subs"))?(p["$=="]("default")?this.default_subs=o["$[]"]("default_subs"):c(i("::","Array")["$==="](p))?(this.default_subs=p.$drop(0),this.attributes.$delete("subs")):(this.default_subs=n,f=["subs",""+p],a(this.attributes,"[]=",t.to_a(f)),f[e(f.length,1)]),this.$commit_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=n,c((m=o["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:c(i("::","String")["$==="](m))?this.lines=$(y,"Helpers").$prepare_source_string(m):this.lines=m.$drop(0)},h.$$arity=-3),t.def(m,"$content",_=function(){var e,r,i=_.$$p,s=this,o=n,l=n,u=n,h=n,d=n,p=n;for(i&&(_.$$p=null),p=0,r=arguments.length,d=new Array(r);p<r;p++)d[p]=arguments[p];return function(){if(o=s.content_model,"compound"["$==="](o))return a(s,t.find_super_dispatcher(s,"content",_,!1),d,i);if("simple"["$==="](o))return s.$apply_subs(s.lines.$join($(y,"LF")),s.subs);if("verbatim"["$==="](o)||"raw"["$==="](o)){if(l=s.$apply_subs(s.lines,s.subs),c((r=l.$size(),p=2,"number"==typeof r&&"number"==typeof p?r<p:r["$<"](p))))return l["$[]"](0);for(;c(c(e=u=l["$[]"](0))?u.$rstrip()["$empty?"]():e);)l.$shift();for(;c(c(e=h=l["$[]"](-1))?h.$rstrip()["$empty?"]():e);)l.$pop();return l.$join($(y,"LF"))}return s.content_model["$=="]("empty")||s.$logger().$warn("Unknown content model '"+s.content_model+"' for block: "+s.$to_s()),n;var r,p}()},_.$$arity=0),t.def(m,"$source",d=function(){return this.lines.$join($(y,"LF"))},d.$$arity=0),t.def(m,"$to_s",p=function(){var t,e=this;return t=e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},p.$$arity=0)}(h[0],$(h,"AbstractBlock"),h)}(r[0],r)},Opal.modules["asciidoctor/callouts"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=[],i=t.nil,$=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,a=t.truthy,l=t.send;return t.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$private","$generate_callout_id"]),function(n,c){var u=[$(n,"Asciidoctor")].concat(c);!function(n,$,c){var u,h,_,d,p,f,m,y,g,b=s(n,null,"Callouts");[b].concat(c);b.$$prototype.co_index=b.$$prototype.lists=b.$$prototype.list_index=i,t.def(b,"$initialize",u=function(){return this.lists=[],this.list_index=0,this.$next_list()},u.$$arity=0),t.def(b,"$register",h=function(t){var r;return this.$current_list()["$<<"](o(["ordinal","id"],{ordinal:t.$to_i(),id:r=this.$generate_next_callout_id()})),this.co_index=e(this.co_index,1),r},h.$$arity=1),t.def(b,"$read_next_id",_=function(){var t,n,$=i,s=i;return $=i,s=this.$current_list(),a((t=this.co_index,n=s.$size(),"number"==typeof t&&"number"==typeof n?t<=n:t["$<="](n)))&&($=s["$[]"](r(this.co_index,1))["$[]"]("id")),this.co_index=e(this.co_index,1),$},_.$$arity=0),t.def(b,"$callout_ids",d=function(t){var e;return l(this.$current_list(),"map",[],(e=function(r){e.$$s;return null==r&&(r=i),r["$[]"]("ordinal")["$=="](t)?r["$[]"]("id")+" ":""},e.$$s=this,e.$$arity=1,e)).$join().$chop()},d.$$arity=1),t.def(b,"$current_list",p=function(){return this.lists["$[]"](r(this.list_index,1))},p.$$arity=0),t.def(b,"$next_list",f=function(){var t,r;return this.list_index=e(this.list_index,1),a((t=this.lists.$size(),r=this.list_index,"number"==typeof t&&"number"==typeof r?t<r:t["$<"](r)))&&this.lists["$<<"]([]),this.co_index=1,i},f.$$arity=0),t.def(b,"$rewind",m=function(){return this.list_index=1,this.co_index=1,i},m.$$arity=0),b.$private(),t.def(b,"$generate_next_callout_id",y=function(){return this.$generate_callout_id(this.list_index,this.co_index)},y.$$arity=0),t.def(b,"$generate_callout_id",g=function(t,e){return"CO"+t+"-"+e},g.$$arity=2)}(u[0],0,u)}(n[0],n)},Opal.modules["asciidoctor/converter"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.hash2,l=t.truthy,c=t.send,u=t.klass,h=t.gvars;return t.add_stubs(["$autoload","$__dir__","$attr_reader","$raise","$class","$[]","$sub","$slice","$length","$==","$[]=","$backend_traits","$-","$derive_backend_traits","$register","$map","$to_s","$new","$create","$default","$each","$default=","$registry","$for","$===","$supports_templates?","$merge","$private","$include","$delete","$clear","$private_class_method","$send","$extend","$node_name","$+","$receiver","$name","$warn","$logger","$respond_to?","$content"]),function(n,_){var d=[o(n,"Asciidoctor")].concat(_);!function(n,_){var d,p,f,m,y,g,b=o(n,"Converter"),v=[b].concat(_);b.$autoload("CompositeConverter",b.$__dir__()+"/converter/composite"),b.$autoload("TemplateConverter",b.$__dir__()+"/converter/template"),b.$attr_reader("backend"),t.def(b,"$initialize",d=function(t,e){return null==e&&(e=a([],{})),this.backend=t},d.$$arity=-2),t.def(b,"$convert",p=function(t,e,r){return null==this.backend&&(this.backend=i),null==e&&(e=i),null==r&&(r=i),this.$raise($("::","NotImplementedError"),this.$class()+" (backend: "+this.backend+") must implement the #convert method")},p.$$arity=-2),t.def(b,"$handles?",f=function(t){return!0},f.$$arity=1),t.defs(b,"$derive_backend_traits",m=function(t){var e,r=i,n=i;return l(t)?(l(r=s(v,"DEFAULT_EXTENSIONS")["$[]"](e=t.$sub(s(v,"TrailingDigitsRx"),"")))?n=r.$slice(1,r.$length()):r="."+(n=e),n["$=="]("html")?a(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:e,filetype:n,htmlsyntax:"html",outfilesuffix:r}):a(["basebackend","filetype","outfilesuffix"],{basebackend:e,filetype:n,outfilesuffix:r})):a([],{})},m.$$arity=1),function(r,n){var $,u,h,_,d,p,f,m,y,g=o(r,"BackendTraits"),b=[g].concat(n);t.def(g,"$basebackend",$=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["basebackend",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("basebackend")},$.$$arity=-1),t.def(g,"$filetype",u=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["filetype",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("filetype")},u.$$arity=-1),t.def(g,"$htmlsyntax",h=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["htmlsyntax",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("htmlsyntax")},h.$$arity=-1),t.def(g,"$outfilesuffix",_=function(r){var n=i;return null==r&&(r=i),l(r)?(n=["outfilesuffix",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]):this.$backend_traits()["$[]"]("outfilesuffix")},_.$$arity=-1),t.def(g,"$supports_templates",d=function(r){var n;return null==r&&(r=!0),n=["supports_templates",r],c(this.$backend_traits(),"[]=",t.to_a(n)),n[e(n.length,1)]},d.$$arity=-1),t.def(g,"$supports_templates?",p=function(){return this.$backend_traits()["$[]"]("supports_templates")},p.$$arity=0),t.def(g,"$init_backend_traits",f=function(t){var e;return null==t&&(t=i),this.backend_traits=l(e=t)?e:a([],{})},f.$$arity=-1),t.def(g,"$backend_traits",m=function(){var t;return null==this.backend_traits&&(this.backend_traits=i),null==this.backend&&(this.backend=i),this.backend_traits=l(t=this.backend_traits)?t:s(b,"Converter").$derive_backend_traits(this.backend)},m.$$arity=0),t.alias(g,"backend_info","backend_traits"),t.defs(g,"$derive_backend_traits",y=function(t){return s(b,"Converter").$derive_backend_traits(t)},y.$$arity=1)}(v[0],v),function(e,r){var n,$=o(e,"Config"),a=[$].concat(r);t.def($,"$register_for",n=function(e){var r,n,$=this;return r=t.slice.call(arguments,0,arguments.length),c(s(a,"Converter"),"register",[$].concat(t.to_a(c(r,"map",[],((n=function(t){n.$$s;return null==t&&(t=i),t.$to_s()}).$$s=$,n.$$arity=1,n)))))},n.$$arity=-1)}(v[0],v),function(r,n){var u,h,_,d,p,f,m,y,g=o(r,"Factory"),b=[g].concat(n);t.defs(g,"$new",u=function(e,r){var n,$,o,c;if(n=t.slice.call(arguments,0,arguments.length),null==($=t.extract_kwargs(n)))$=a([],{});else if(!$.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return n.length>0&&(o=n[0],n.splice(0,1)),null==o&&(o=i),null==(c=$.$$smap.proxy_default)&&(c=!0),l(c)?s(b,"DefaultFactoryProxy").$new(o):s(b,"CustomFactory").$new(o)},u.$$arity=-1),t.defs(g,"$default",h=function(e){return t.slice.call(arguments,0,arguments.length),s(b,"Converter")},h.$$arity=-1),t.defs(g,"$create",_=function(t,e){return null==e&&(e=a([],{})),this.$default().$create(t,e)},_.$$arity=-2),t.def(g,"$register",d=function(r,n){var $,s;return $=t.slice.call(arguments,1,arguments.length),c($,"each",[],((s=function(n){var $=s.$$s||this,o=i;return null==n&&(n=i),n["$=="]("*")?(o=[r],c($.$registry(),"default=",t.to_a(o)),o[e(o.length,1)]):(o=[n,r],c($.$registry(),"[]=",t.to_a(o)),o[e(o.length,1)])}).$$s=this,s.$$arity=1,s))},d.$$arity=-2),t.def(g,"$for",p=function(t){return this.$registry()["$[]"](t)},p.$$arity=1),t.def(g,"$create",f=function(t,e){var r,n,o=i,c=i,u=i;return null==e&&(e=a([],{})),l(o=this.$for(t))?(l($("::","Class")["$==="](o))&&(o=o.$new(t,e)),l(l(r=l(n=c=e["$[]"]("template_dirs"))?s(b,"BackendTraits")["$==="](o):n)?o["$supports_templates?"]():r)?s(b,"CompositeConverter").$new(t,s(b,"TemplateConverter").$new(t,c,e),o,a(["backend_traits_source"],{backend_traits_source:o})):o):l(c=e["$[]"]("template_dirs"))?l(l(r=u=e["$[]"]("delegate_backend"))?o=this.$for(u):r)?(l($("::","Class")["$==="](o))&&(o=o.$new(u,e)),s(b,"CompositeConverter").$new(t,s(b,"TemplateConverter").$new(t,c,e),o,a(["backend_traits_source"],{backend_traits_source:o}))):s(b,"TemplateConverter").$new(t,c,e):i},f.$$arity=-2),t.def(g,"$converters",m=function(){return this.$registry().$merge()},m.$$arity=0),g.$private(),t.def(g,"$registry",y=function(){return this.$raise($("::","NotImplementedError"),s(b,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},y.$$arity=0)}(v[0],v),function(r,n,$){var o,h,_=u(r,null,"CustomFactory"),d=[_].concat($);_.$include(s(d,"Factory")),t.def(_,"$initialize",o=function(r){var n=i;return null==r&&(r=i),l(r)?(n=[r.$delete("*")],c(r,"default=",t.to_a(n)),n[e(n.length,1)],this.registry=r):this.registry=a([],{})},o.$$arity=-1),t.def(_,"$unregister_all",h=function(){var r;return r=[i],c(this.$registry().$clear(),"default=",t.to_a(r)),r[e(r.length,1)]},h.$$arity=0),_.$private(),_.$attr_reader("registry")}(v[0],0,v),function(e,r){var n,$=o(e,"DefaultFactory"),l=[$].concat(r);$.$include(s(l,"Factory")),$.$private(),t.class_variable_set(l[0],"@@registry",a([],{})),t.def($,"$registry",n=function(){var t;return null==(t=l[0].$$cvars["@@registry"])?i:t},n.$$arity=0),s(l,"RUBY_ENGINE")["$=="]("opal")}(v[0],v),function(t,e,r){var n=u(t,e,"DefaultFactoryProxy"),i=[n].concat(r);n.$include(s(i,"DefaultFactory")),s(i,"RUBY_ENGINE")["$=="]("opal")}(v[0],s(v,"CustomFactory"),v),b.$private_class_method(l((t.defs(b,"$included",g=function(t){return t.$send("include",s(v,"BackendTraits")),t.$extend(s(v,"Config"))},g.$$arity=1),y=i&&"included"))?y:"included"),function(e,n,o){var a,c,_,d,p=u(e,null,"Base"),f=[p].concat(o);p.$$prototype.backend=i,p.$include(s(f,"Converter"),s(f,"Logging")),t.def(p,"$convert",a=function(e,n,o){var a,c,u=i;null==h["!"]&&(h["!"]=i),null==n&&(n=e.$node_name()),null==o&&(o=i);try{return l(o)?this.$send(r("convert_",n),e,o):this.$send(r("convert_",n),e)}catch(e){if(!t.rescue(e,[s(f,"StandardError")]))throw e;try{return l(l(a=l(c=$("::","NoMethodError")["$==="](u=h["!"]))?u.$receiver()["$=="](this):c)?u.$name().$to_s()["$=="](n):a)||this.$raise(),this.$logger().$warn("missing convert handler for "+u.$name()+" node in "+this.backend+" backend ("+this.$class()+")"),i}finally{t.pop_exception()}}},a.$$arity=-2),t.def(p,"$handles?",c=function(t){return this["$respond_to?"]("convert_"+t)},c.$$arity=1),t.def(p,"$content_only",_=function(t){return t.$content()},_.$$arity=1),t.def(p,"$skip",d=function(t){return i},d.$$arity=1)}(v[0],0,v),b.$extend(s(v,"DefaultFactory"))}(d[0],d)}(n[0],n)},Opal.modules["asciidoctor/document"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,h=t.send,_=t.truthy,d=t.hash2,p=t.gvars,f=t.hash;return t.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$merge","$catalog","$attributes","$safe","$compat_mode","$outfilesuffix","$sourcemap","$path_resolver","$converter","$extensions","$syntax_highlighter","$each","$end_with?","$start_with?","$slice","$length","$chop","$==","$downcase","$extname","$===","$value_for_name","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$fetch","$fill_datetime_attributes","$activate","$create","$to_proc","$groups","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$to_s","$value","$save_to","$register","$tap","$xreftext","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$reftext","$>","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$name","$negate","$rewind","$replace","$attribute_locked?","$apply_attribute_value_subs","$delete?","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$class","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$apply_subs","$docinfo_processors?","$join","$concat","$compact","$docinfo_processors","$object_id","$inspect","$size","$private","$=~","$resolve_pass_subs","$apply_header_subs","$limit_bytesize","$bytesize","$valid_encoding?","$byteslice","$resolve_subs","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$partition","$create_converter","$basebackend","$filetype","$htmlsyntax","$derive_backend_traits","$raise"]),function(s,m){var y=[c(s,"Asciidoctor")].concat(m);!function(s,c,m){var y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt,ct,ut,ht,_t,dt,pt,ft=u(s,c,"Document"),mt=[ft].concat(m);ft.$$prototype.attributes=ft.$$prototype.safe=ft.$$prototype.sourcemap=ft.$$prototype.reader=ft.$$prototype.base_dir=ft.$$prototype.parsed=ft.$$prototype.parent_document=ft.$$prototype.extensions=ft.$$prototype.options=ft.$$prototype.counters=ft.$$prototype.catalog=ft.$$prototype.reftexts=ft.$$prototype.header=ft.$$prototype.blocks=ft.$$prototype.header_attributes=ft.$$prototype.attributes_modified=ft.$$prototype.backend=ft.$$prototype.attribute_overrides=ft.$$prototype.timings=ft.$$prototype.converter=ft.$$prototype.outfilesuffix=ft.$$prototype.docinfo_processor_extensions=ft.$$prototype.document=ft.$$prototype.max_attribute_value_size=ft.$$prototype.id=ft.$$prototype.doctype=o,t.const_set(mt[0],"ImageReference",h(a("::","Struct"),"new",["target","imagesdir"],((y=function(){var e=y.$$s||this;return t.alias(e,"to_s","target")}).$$s=ft,y.$$arity=0,y))),t.const_set(mt[0],"Footnote",a("::","Struct").$new("index","id","text")),function(r,n,i){var $,s,a=u(r,null,"AttributeEntry");[a].concat(i);a.$attr_reader("name","value","negate"),t.def(a,"$initialize",$=function(t,e,r){return null==r&&(r=o),this.name=t,this.value=e,this.negate=_(r["$nil?"]())?e["$nil?"]():r},$.$$arity=-3),t.def(a,"$save_to",s=function(r){var n,i=o;return(_(n=r["$[]"]("attribute_entries"))?n:(i=["attribute_entries",[]],h(r,"[]=",t.to_a(i)),i[e(i.length,1)]))["$<<"](this),this},s.$$arity=1)}(mt[0],0,mt),function(e,r,n){var i,$,s,a,c=u(e,null,"Title"),h=[c].concat(n);c.$$prototype.sanitized=c.$$prototype.subtitle=c.$$prototype.combined=o,c.$attr_reader("main"),t.alias(c,"title","main"),c.$attr_reader("subtitle"),c.$attr_reader("combined"),t.def(c,"$initialize",i=function(e,r){var n,i,$=o;return null==r&&(r=d([],{})),_(_(n=this.sanitized=r["$[]"]("sanitize"))?e["$include?"]("<"):n)&&(e=e.$gsub(l(h,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),_(_(n=($=_(i=r["$[]"]("separator"))?i:":")["$empty?"]())?n:e["$include?"]($+=" ")["$!"]())?(this.main=e,this.subtitle=o):(i=e.$rpartition($),n=t.to_ary(i),this.main=null==n[0]?o:n[0],null==n[1]?o:n[1],this.subtitle=null==n[2]?o:n[2]),this.combined=e},i.$$arity=-2),t.def(c,"$sanitized?",$=function(){return this.sanitized},$.$$arity=0),t.def(c,"$subtitle?",s=function(){return!!_(this.subtitle)},s.$$arity=0),t.def(c,"$to_s",a=function(){return this.combined},a.$$arity=0)}(mt[0],0,mt),t.const_set(mt[0],"Author",a("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),ft.$attr_reader("safe"),ft.$attr_reader("compat_mode"),ft.$attr_reader("backend"),ft.$attr_reader("doctype"),ft.$attr_accessor("sourcemap"),ft.$attr_reader("catalog"),t.alias(ft,"references","catalog"),ft.$attr_reader("counters"),ft.$attr_reader("header"),ft.$attr_reader("base_dir"),ft.$attr_reader("options"),ft.$attr_reader("outfilesuffix"),ft.$attr_reader("parent_document"),ft.$attr_reader("reader"),ft.$attr_reader("path_resolver"),ft.$attr_reader("converter"),ft.$attr_reader("syntax_highlighter"),ft.$attr_reader("extensions"),t.def(ft,"$initialize",g=function(i,$){var s,c,u,p,f,m,y,b,v,x,w,k,E,A=g.$$p,O=o,S=o,R=o,C=o,I=o,T=o,L=o,N=o,D=o,B=o,M=o,F=o,z=o;return A&&(g.$$p=null),null==i&&(i=o),null==$&&($=d([],{})),h(this,t.find_super_dispatcher(this,"initialize",g,!1),[this,"document"],null),_(O=$.$delete("parent"))?(this.parent_document=O,_(s=$["$[]"]("base_dir"))||(S=["base_dir",O.$base_dir()],h($,"[]=",t.to_a(S)),S[e(S.length,1)]),_(O.$options()["$[]"]("catalog_assets"))&&(S=["catalog_assets",!0],h($,"[]=",t.to_a(S)),S[e(S.length,1)]),this.catalog=O.$catalog().$merge(d(["footnotes"],{footnotes:[]})),this.attribute_overrides=R=O.$attributes().$merge(),C=R.$delete("doctype"),R.$delete("compat-mode"),R.$delete("toc"),R.$delete("toc-placement"),R.$delete("toc-position"),this.safe=O.$safe(),_(this.compat_mode=O.$compat_mode())&&(S=["compat-mode",""],h(this.attributes,"[]=",t.to_a(S)),S[e(S.length,1)]),this.outfilesuffix=O.$outfilesuffix(),this.sourcemap=O.$sourcemap(),this.timings=o,this.path_resolver=O.$path_resolver(),this.converter=O.$converter(),I=o,this.extensions=O.$extensions(),this.syntax_highlighter=O.$syntax_highlighter()):(this.parent_document=o,this.catalog=d(["ids","refs","footnotes","links","images","callouts","includes"],{ids:d([],{}),refs:d([],{}),footnotes:[],links:[],images:[],callouts:l(mt,"Callouts").$new(),includes:d([],{})}),this.attribute_overrides=R=d([],{}),h(_(s=$["$[]"]("attributes"))?s:d([],{}),"each",[],((c=function(r,n){var i;c.$$s;return null==r&&(r=o),null==n&&(n=o),_(r["$end_with?"]("@"))?_(r["$start_with?"]("!"))?(i=[r.$slice(1,e(r.$length(),2)),!1],r=i[0],n=i[1]):_(r["$end_with?"]("!@"))?(i=[r.$slice(0,e(r.$length(),2)),!1],r=i[0],n=i[1]):(i=[r.$chop(),n+"@"],r=i[0],n=i[1]):_(r["$start_with?"]("!"))?(i=[r.$slice(1,r.$length()),!n["$=="]("@")&&o],r=i[0],n=i[1]):_(r["$end_with?"]("!"))&&(i=[r.$chop(),!n["$=="]("@")&&o],r=i[0],n=i[1]),S=[r.$downcase(),n],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]}).$$s=this,c.$$arity=2,c)),_(T=$["$[]"]("to_file"))&&(S=["outfilesuffix",l(mt,"Helpers").$extname(T)],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_((L=$["$[]"]("safe"))["$!"]())?this.safe=a(l(mt,"SafeMode"),"SECURE"):_(a("::","Integer")["$==="](L))?this.safe=L:this.safe=function(){try{return l(mt,"SafeMode").$value_for_name(L)}catch(e){if(!t.rescue(e,[l(mt,"StandardError")]))throw e;try{return a(l(mt,"SafeMode"),"SECURE")}finally{t.pop_exception()}}}(),N=$.$delete("input_mtime"),this.compat_mode=R["$key?"]("compat-mode"),this.sourcemap=$["$[]"]("sourcemap"),this.timings=$.$delete("timings"),this.path_resolver=l(mt,"PathResolver").$new(),I=!!_((u=a("::","Asciidoctor","skip_raise"))&&(s=a(u,"Extensions","skip_raise"))?"constant":o)||o,this.extensions=o,_(_(p=$["$key?"]("header_footer"))?$["$key?"]("standalone")["$!"]():p)&&(S=["standalone",$["$[]"]("header_footer")],h($,"[]=",t.to_a(S)),S[e(S.length,1)])),this.parsed=this.reftexts=this.header=this.header_attributes=o,this.counters=d([],{}),this.attributes_modified=a("::","Set").$new(),this.docinfo_processor_extensions=d([],{}),v=$["$[]"]("standalone"),(this.options=$).$freeze(),D=this.attributes,S=["sectids",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["toc-placement","auto"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],_(v)?(S=["copycss",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["embedded",o],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]):(S=["notitle",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["embedded",""],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["stylesheet",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["webfonts",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["prewrap",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["attribute-undefined",l(mt,"Compliance").$attribute_undefined()],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["attribute-missing",l(mt,"Compliance").$attribute_missing()],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["iconfont-remote",""],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["caution-caption","Caution"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["important-caption","Important"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["note-caption","Note"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["tip-caption","Tip"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["warning-caption","Warning"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["example-caption","Example"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["figure-caption","Figure"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["table-caption","Table"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["toc-title","Table of Contents"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["section-refsig","Section"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["part-refsig","Part"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["chapter-refsig","Chapter"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["appendix-caption",(S=["appendix-refsig","Appendix"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)])],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["untitled-label","Untitled"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["version-label","Version"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["last-update-label","Last updated"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)],S=["asciidoctor",""],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["asciidoctor-version",a(a("::","Asciidoctor"),"VERSION")],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-name",x=l(mt,"SafeMode").$name_for_value(this.safe)],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-"+x,""],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["safe-mode-level",this.safe],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],_(p=R["$[]"]("max-include-depth"))||(S=["max-include-depth",64],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(p=R["$[]"]("allow-uri-read"))||(S=["allow-uri-read",o],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["user-home",l(mt,"USER_HOME")],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],_(R["$key?"]("numbered"))&&(S=["sectnums",R.$delete("numbered")],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(R["$key?"]("hardbreaks"))&&(S=["hardbreaks-option",R.$delete("hardbreaks")],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(w=$["$[]"]("base_dir"))?this.base_dir=(S=["docdir",a("::","File").$expand_path(w)],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]):_(R["$[]"]("docdir"))?this.base_dir=R["$[]"]("docdir"):this.base_dir=(S=["docdir",a("::","Dir").$pwd()],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(k=$["$[]"]("backend"))&&(S=["backend",""+k],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(E=$["$[]"]("doctype"))&&(S=["doctype",""+E],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(r(this.safe,a(l(mt,"SafeMode"),"SERVER")))&&(_(p=R["$[]"]("copycss"))||(S=["copycss",o],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(p=R["$[]"]("source-highlighter"))||(S=["source-highlighter",o],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(p=R["$[]"]("backend"))||(S=["backend",l(mt,"DEFAULT_BACKEND")],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(_(p=O["$!"]())?R["$key?"]("docfile"):p)&&(S=["docfile",R["$[]"]("docfile")["$[]"](t.Range.$new(n(R["$[]"]("docdir").$length(),1),-1,!1))],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),S=["docdir",""],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],S=["user-home","."],h(R,"[]=",t.to_a(S)),S[e(S.length,1)],_(r(this.safe,a(l(mt,"SafeMode"),"SECURE")))&&(_(R["$key?"]("max-attribute-value-size"))||(S=["max-attribute-value-size",4096],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(R["$key?"]("linkcss"))||(S=["linkcss",""],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]),_(p=R["$[]"]("icons"))||(S=["icons",o],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]))),this.max_attribute_value_size=_(B=_(p=R["$[]"]("max-attribute-value-size"))?p:(S=["max-attribute-value-size",o],h(R,"[]=",t.to_a(S)),S[e(S.length,1)]))?B.$to_i().$abs():o,h(R,"delete_if",[],((f=function(r,n){f.$$s;var i,$=o;return null==r&&(r=o),null==n&&(n=o),_(n)?(_(_(i=a("::","String")["$==="](n))?n["$end_with?"]("@"):i)&&(i=[n.$chop(),!0],n=i[0],$=i[1]),S=[r,n],h(D,"[]=",t.to_a(S)),S[e(S.length,1)]):(D.$delete(r),$=n["$=="](!1)),$}).$$s=this,f.$$arity=2,f)),_(O)?(this.backend=D["$[]"]("backend"),(this.doctype=(S=["doctype",C],h(D,"[]=",t.to_a(S)),S[e(S.length,1)]))["$=="](l(mt,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(l(mt,"DEFAULT_DOCTYPE")),this.reader=l(mt,"Reader").$new(i,$["$[]"]("cursor")),_(this.sourcemap)&&(this.source_location=this.reader.$cursor()),l(mt,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0):(this.backend=o,(M=_(p=D["$[]"]("backend"))?p:l(mt,"DEFAULT_BACKEND"))["$=="]("manpage")?this.doctype=(S=["doctype",(S=["doctype","manpage"],h(R,"[]=",t.to_a(S)),S[e(S.length,1)])],h(D,"[]=",t.to_a(S)),S[e(S.length,1)]):this.doctype=_(p=D["$[]"]("doctype"))?p:(S=["doctype",l(mt,"DEFAULT_DOCTYPE")],h(D,"[]=",t.to_a(S)),S[e(S.length,1)]),this.$update_backend_attributes(M,!0),_(p=D["$[]"]("stylesdir"))||(S=["stylesdir","."],h(D,"[]=",t.to_a(S)),S[e(S.length,1)]),_(p=D["$[]"]("iconsdir"))||(S=["iconsdir",D.$fetch("imagesdir","./images")+"/icons"],h(D,"[]=",t.to_a(S)),S[e(S.length,1)]),this.$fill_datetime_attributes(D,N),_(I)&&(_(F=$["$[]"]("extension_registry"))?_(_(p=a(l(mt,"Extensions"),"Registry")["$==="](F))?p:_(m=(b=a("::","AsciidoctorJ","skip_raise"))&&(y=a(b,"Extensions","skip_raise"))&&a(y,"ExtensionRegistry","skip_raise")?"constant":o)?a(a(a("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](F):m)&&(this.extensions=F.$activate(this)):_(a("::","Proc")["$==="](z=$["$[]"]("extensions")))?this.extensions=h(l(mt,"Extensions"),"create",[],z.$to_proc()).$activate(this):_(l(mt,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=a(l(mt,"Extensions"),"Registry").$new().$activate(this))),this.reader=l(mt,"PreprocessorReader").$new(this,i,a(l(mt,"Reader"),"Cursor").$new(D["$[]"]("docfile"),this.base_dir),d(["normalize"],{normalize:!0})),_(this.sourcemap)?this.source_location=this.reader.$cursor():o)},g.$$arity=-1),t.def(ft,"$parse",b=function(t){var e,r,n,i=this,$=o,s=o;return null==t&&(t=o),_(i.parsed)?i:($=i,_(t)&&(i.reader=l(mt,"PreprocessorReader").$new($,t,a(l(mt,"Reader"),"Cursor").$new(i.attributes["$[]"]("docfile"),i.base_dir),d(["normalize"],{normalize:!0})),_(i.sourcemap)&&(i.source_location=i.reader.$cursor())),_(_(e=s=_(i.parent_document)?o:i.extensions)?s["$preprocessors?"]():e)&&h(s.$preprocessors(),"each",[],((r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=o),null==t&&(t=o),n.reader=_(e=t.$process_method()["$[]"]($,n.reader))?e:n.reader}).$$s=i,r.$$arity=1,r)),l(mt,"Parser").$parse(i.reader,$,d(["header_only"],{header_only:i.options["$[]"]("parse_header_only")})),i.$restore_attributes(),_(_(e=s)?s["$tree_processors?"]():e)&&h(s.$tree_processors(),"each",[],((n=function(t){n.$$s;var e,r,i=o;return null==t&&(t=o),_(_(e=_(r=i=t.$process_method()["$[]"]($))?l(mt,"Document")["$==="](i):r)?i["$!="]($):e)?$=i:o}).$$s=i,n.$$arity=1,n)),i.parsed=!0,$)},b.$$arity=-1),t.def(ft,"$parsed?",v=function(){return this.parsed},v.$$arity=0),t.def(ft,"$counter",x=function(r,n){var i,$,s=o,a=o;return null==n&&(n=o),_(this.parent_document)?this.parent_document.$counter(r,n):_(_(i=$=(s=this.attributes["$[]"](r))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](r):i)?(a=[r,(a=[r,l(mt,"Helpers").$nextval(s)],h(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],h(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):_(n)?(a=[r,(a=[r,n["$=="](n.$to_i().$to_s())?n.$to_i():n],h(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],h(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)]):(a=[r,(a=[r,l(mt,"Helpers").$nextval(_($)?s:0)],h(this.counters,"[]=",t.to_a(a)),a[e(a.length,1)])],h(this.attributes,"[]=",t.to_a(a)),a[e(a.length,1)])},x.$$arity=-2),t.def(ft,"$increment_and_store_counter",w=function(t,e){return l(mt,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},w.$$arity=2),t.alias(ft,"counter_increment","increment_and_store_counter"),t.def(ft,"$register",k=function(r,n){var i=this,$=o,s=o,a=o,c=o,u=o;return"ids"["$==="]($=r)?i.$register("refs",[s=n["$[]"](0),l(mt,"Inline").$new(i,"anchor",n["$[]"](1),d(["type","id"],{type:"ref",id:s}))]):"refs"["$==="]($)?(a=i.catalog["$[]"]("refs"),_(a["$[]"](n["$[]"](0)))||(c=[n["$[]"](0),u=n["$[]"](1)],h(a,"[]=",t.to_a(c)),c[e(c.length,1)]),u):"footnotes"["$==="]($)?i.catalog["$[]"](r)["$<<"](n):_(i.options["$[]"]("catalog_assets"))?i.catalog["$[]"](r)["$<<"](r["$=="]("images")?l(mt,"ImageReference").$new(n,i.attributes["$[]"]("imagesdir")):n):o},k.$$arity=2),t.def(ft,"$resolve_id",E=function(r){var n,i,$=this,s=o;return _($.reftexts)?$.reftexts["$[]"](r):_($.parsed)?h($.reftexts=d([],{}),"tap",[],(n=function(r){var i,$=n.$$s||this;return null==$.catalog&&($.catalog=o),null==r&&(r=o),h($.catalog["$[]"]("refs"),"each",[],((i=function(n,$){i.$$s;var s,a=o;return null==n&&(n=o),null==$&&($=o),_(s=r["$[]"]($.$xreftext()))?s:(a=[$.$xreftext(),n],h(r,"[]=",t.to_a(a)),a[e(a.length,1)])}).$$s=$,i.$$arity=2,i))},n.$$s=$,n.$$arity=1,n))["$[]"](r):(s=o,function(){var n=t.new_brk();try{h($.reftexts=d([],{}),"tap",[],((i=function(n){var $,a=i.$$s||this;return null==a.catalog&&(a.catalog=o),null==n&&(n=o),function(){var i=t.new_brk();try{return h(a.catalog["$[]"]("refs"),"each",[],(($=function(a,l){$.$$s;var c,u=o,d=o;if(null==a&&(a=o),null==l&&(l=o),!(u=l.$xreftext())["$=="](r))return _(c=n["$[]"](u))?c:(d=[u,a],h(n,"[]=",t.to_a(d)),d[e(d.length,1)]);t.brk(s=a,i)}).$$s=a,$.$$brk=i,$.$$arity=2,$))}catch(t){if(t===i)return t.$v;throw t}}()}).$$s=$,i.$$brk=n,i.$$arity=1,i))}catch(t){if(t===n)return t.$v;throw t}}(),$.reftexts=o,s)},E.$$arity=1),t.def(ft,"$footnotes?",A=function(){return!_(this.catalog["$[]"]("footnotes")["$empty?"]())},A.$$arity=0),t.def(ft,"$footnotes",O=function(){return this.catalog["$[]"]("footnotes")},O.$$arity=0),t.def(ft,"$callouts",S=function(){return this.catalog["$[]"]("callouts")},S.$$arity=0),t.def(ft,"$nested?",R=function(){return!!_(this.parent_document)},R.$$arity=0),t.def(ft,"$embedded?",C=function(){return this.attributes["$key?"]("embedded")},C.$$arity=0),t.def(ft,"$extensions?",I=function(){return!!_(this.extensions)},I.$$arity=0),t.def(ft,"$source",T=function(){return _(this.reader)?this.reader.$source():o},T.$$arity=0),t.def(ft,"$source_lines",L=function(){return _(this.reader)?this.reader.$source_lines():o},L.$$arity=0),t.def(ft,"$basebackend?",N=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},N.$$arity=1),t.def(ft,"$title",D=function(){return this.$doctitle()},D.$$arity=0),t.def(ft,"$title=",B=function(r){var n=o,i=o;return _(n=this.header)||(i=["header"],h(n=this.header=l(mt,"Section").$new(this,0),"sectname=",t.to_a(i)),i[e(i.length,1)]),i=[r],h(n,"title=",t.to_a(i)),i[e(i.length,1)]},B.$$arity=1),t.def(ft,"$doctitle",M=function(t){var e,r=this,n=o,i=o,$=o;if(null==t&&(t=d([],{})),_(n=r.attributes["$[]"]("title")));else if(_(i=r.$first_section()))n=i.$title();else if(_((_(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e)["$!"]()))return o;return _($=t["$[]"]("partition"))?l(mt,"Title").$new(n,t.$merge(d(["separator"],{separator:$["$=="](!0)?r.attributes["$[]"]("title-separator"):$}))):_(_(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(l(mt,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},M.$$arity=-1),t.alias(ft,"name","doctitle"),t.def(ft,"$xreftext",F=function(t){var e,r=o;return null==t&&(t=o),_(_(e=r=this.$reftext())?r["$empty?"]()["$!"]():e)?r:this.$title()},F.$$arity=-1),t.def(ft,"$author",z=function(){return this.attributes["$[]"]("author")},z.$$arity=0),t.def(ft,"$authors",P=function(){var t,e=o,r=o,s=o,a=o;if(_((e=this.attributes)["$key?"]("author"))){if(r=[l(mt,"Author").$new(e["$[]"]("author"),e["$[]"]("firstname"),e["$[]"]("middlename"),e["$[]"]("lastname"),e["$[]"]("authorinitials"),e["$[]"]("email"))],_(i(s=_(t=e["$[]"]("authorcount"))?t:0,1)))for(a=1;_($(a,s));)a=n(a,1),r["$<<"](l(mt,"Author").$new(e["$[]"]("author_"+a),e["$[]"]("firstname_"+a),e["$[]"]("middlename_"+a),e["$[]"]("lastname_"+a),e["$[]"]("authorinitials_"+a),e["$[]"]("email_"+a)));return r}return[]},P.$$arity=0),t.def(ft,"$revdate",j=function(){return this.attributes["$[]"]("revdate")},j.$$arity=0),t.def(ft,"$notitle",q=function(){var t;return _(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},q.$$arity=0),t.def(ft,"$noheader",U=function(){return this.attributes["$key?"]("noheader")},U.$$arity=0),t.def(ft,"$nofooter",H=function(){return this.attributes["$key?"]("nofooter")},H.$$arity=0),t.def(ft,"$first_section",Y=function(){var t,e;return _(t=this.header)?t:h(this.blocks,"find",[],((e=function(t){e.$$s;return null==t&&(t=o),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},Y.$$arity=0),t.def(ft,"$header?",G=function(){return!!_(this.header)},G.$$arity=0),t.alias(ft,"has_header?","header?"),t.def(ft,"$<<",W=function(e){var r,n=W.$$p,i=o,$=o;for(n&&(W.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return e.$context()["$=="]("section")&&this.$assign_numeral(e),h(this,t.find_super_dispatcher(this,"<<",W,!1),i,n)},W.$$arity=1),t.def(ft,"$finalize_header",K=function(r,n){var i=o;return null==n&&(n=!0),this.$clear_playback_attributes(r),this.$save_attributes(),_(n)||(i=["invalid-header",!0],h(r,"[]=",t.to_a(i)),i[e(i.length,1)]),r},K.$$arity=-2),t.def(ft,"$playback_attributes",X=function(r){var n;return _(r["$key?"]("attribute_entries"))?h(r["$[]"]("attribute_entries"),"each",[],((n=function(r){var i=n.$$s||this,$=o,s=o;return null==i.attributes&&(i.attributes=o),null==r&&(r=o),$=r.$name(),_(r.$negate())?(i.attributes.$delete($),$["$=="]("compat-mode")?i.compat_mode=!1:o):(s=[$,r.$value()],h(i.attributes,"[]=",t.to_a(s)),s[e(s.length,1)],$["$=="]("compat-mode")?i.compat_mode=!0:o)}).$$s=this,n.$$arity=1,n)):o},X.$$arity=1),t.def(ft,"$restore_attributes",V=function(){return _(this.parent_document)||this.catalog["$[]"]("callouts").$rewind(),this.attributes.$replace(this.header_attributes)},V.$$arity=0),t.def(ft,"$set_attribute",J=function(r,n){var i,$=o,s=o;return null==n&&(n=""),_(this["$attribute_locked?"](r))?o:(_(n["$empty?"]())||(n=this.$apply_attribute_value_subs(n)),_(this.header_attributes)?($=[r,n],h(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]):("backend"["$==="](s=r)?this.$update_backend_attributes(n,_(i=this.attributes_modified["$delete?"]("htmlsyntax"))?n["$=="](this.backend):i):"doctype"["$==="](s)?this.$update_doctype_attributes(n):($=[r,n],h(this.attributes,"[]=",t.to_a($)),$[e($.length,1)]),this.attributes_modified["$<<"](r)),n)},J.$$arity=-2),t.def(ft,"$delete_attribute",Z=function(t){return!_(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},Z.$$arity=1),t.def(ft,"$attribute_locked?",Q=function(t){return this.attribute_overrides["$key?"](t)},Q.$$arity=1),t.def(ft,"$set_header_attribute",tt=function(r,n,i){var $,s=o,a=o;return null==n&&(n=""),null==i&&(i=!0),s=_($=this.header_attributes)?$:this.attributes,!_(($=i["$=="](!1))?s["$key?"](r):i["$=="](!1))&&(a=[r,n],h(s,"[]=",t.to_a(a)),a[e(a.length,1)],!0)},tt.$$arity=-2),t.def(ft,"$convert",et=function(n){var i,$,s=this,c=o,u=o,p=o,f=o,m=o;return null==n&&(n=d([],{})),_(s.timings)&&s.timings.$start("convert"),_(s.parsed)||s.$parse(),_(_(i=r(s.safe,a(l(mt,"SafeMode"),"SERVER")))?i:n["$empty?"]())||(_((c=["outfile",n["$[]"]("outfile")],h(s.attributes,"[]=",t.to_a(c)),c[e(c.length,1)]))||s.attributes.$delete("outfile"),_((c=["outdir",n["$[]"]("outdir")],h(s.attributes,"[]=",t.to_a(c)),c[e(c.length,1)]))||s.attributes.$delete("outdir")),s.$doctype()["$=="]("inline")?_(u=_(i=s.blocks["$[]"](0))?i:s.header)&&(_(_(i=u.$content_model()["$=="]("compound"))?i:u.$content_model()["$=="]("empty"))?s.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):p=u.$content()):(f=_(n["$key?"]("standalone"))?_(n["$[]"]("standalone"))?"document":"embedded":_(n["$key?"]("header_footer"))?_(n["$[]"]("header_footer"))?"document":"embedded":_(s.options["$[]"]("standalone"))?"document":"embedded",p=s.converter.$convert(s,f)),_(s.parent_document)||_(_(i=m=s.extensions)?m["$postprocessors?"]():i)&&h(m.$postprocessors(),"each",[],(($=function(t){var e=$.$$s||this;return null==t&&(t=o),p=t.$process_method()["$[]"](e,p)}).$$s=s,$.$$arity=1,$)),_(s.timings)&&s.timings.$record("convert"),p},et.$$arity=-1),t.alias(ft,"render","convert"),t.def(ft,"$write",rt=function(t,e){var r;return _(this.timings)&&this.timings.$start("write"),_(l(mt,"Writer")["$==="](this.converter))?this.converter.$write(t,e):(_(e["$respond_to?"]("write"))?_(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(l(mt,"LF"))):a("::","File").$write(e,t,d(["mode"],{mode:l(mt,"FILE_WRITE_MODE")})),_(_(r=this.backend["$=="]("manpage")?a("::","String")["$==="](e):this.backend["$=="]("manpage"))?this.converter.$class()["$respond_to?"]("write_alternate_pages"):r)&&this.converter.$class().$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),e)),_(this.timings)&&this.timings.$record("write"),o},rt.$$arity=2),t.def(ft,"$content",nt=function(){var e,r=nt.$$p,n=o,i=o;for(r&&(nt.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return this.attributes.$delete("title"),h(this,t.find_super_dispatcher(this,"content",nt,!1),n,r)},nt.$$arity=0),t.def(ft,"$docinfo",it=function(t,e){var r,n,i,s=o,c=o,u=o,p=o,f=o,m=o,y=o,g=o,b=o;return null==t&&(t="head"),null==e&&(e=o),_($(this.$safe(),a(l(mt,"SafeMode"),"SECURE")))&&(t["$=="]("head")||(s="-"+t),_(e)||(e=this.outfilesuffix),c=_((c=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?_(this.attributes["$key?"]("docinfo2"))?["private","shared"]:_(this.attributes["$key?"]("docinfo1"))?["shared"]:_(c)?["private"]:o:h(c.$split(","),"map",[],((r=function(t){r.$$s;return null==t&&(t=o),t.$strip()}).$$s=this,r.$$arity=1,r)),_(c)&&(u=[],p=(n=["docinfo"+s+e,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()])[0],f=n[1],m=n[2],_(c["$&"](["shared","shared-"+t])["$empty?"]())||(y=this.$normalize_system_path(p,f),_(g=this.$read_asset(y,d(["normalize"],{normalize:!0})))&&u["$<<"](this.$apply_subs(g,m))),_(_(n=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?n:c["$&"](["private","private-"+t])["$empty?"]())||(y=this.$normalize_system_path(this.attributes["$[]"]("docname")+"-"+p,f),_(b=this.$read_asset(y,d(["normalize"],{normalize:!0})))&&u["$<<"](this.$apply_subs(b,m))))),_(_(n=this.extensions)?this["$docinfo_processors?"](t):n)?(_(n=u)?n:[]).$concat(h(this.docinfo_processor_extensions["$[]"](t),"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=o),t.$process_method()["$[]"](e)},i.$$s=this,i.$$arity=1,i)).$compact()).$join(l(mt,"LF")):_(u)?u.$join(l(mt,"LF")):""},it.$$arity=-1),t.def(ft,"$docinfo_processors?",$t=function(r){var n,i=o;return null==r&&(r="head"),_(this.docinfo_processor_extensions["$key?"](r))?this.docinfo_processor_extensions["$[]"](r)["$!="](!1):_(_(n=this.extensions)?this.document.$extensions()["$docinfo_processors?"](r):n)?(i=[r,this.document.$extensions().$docinfo_processors(r)],h(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])["$!"]()["$!"]():(i=[r,!1],h(this.docinfo_processor_extensions,"[]=",t.to_a(i)),i[e(i.length,1)])},$t.$$arity=-1),t.def(ft,"$to_s",st=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(_(t.header["$!="](o))?t.header.$title():o).$inspect()+", blocks: "+t.blocks.$size()+"}>"},st.$$arity=0),ft.$private(),t.def(ft,"$apply_attribute_value_subs",ot=function(t){var e;return _(l(mt,"AttributeEntryPassMacroRx")["$=~"](t))?(t=(e=p["~"])===o?o:e["$[]"](2),_((e=p["~"])===o?o:e["$[]"](1))&&(t=this.$apply_subs(t,this.$resolve_pass_subs((e=p["~"])===o?o:e["$[]"](1))))):t=this.$apply_header_subs(t),_(this.max_attribute_value_size)?this.$limit_bytesize(t,this.max_attribute_value_size):t},ot.$$arity=1),t.def(ft,"$limit_bytesize",at=function(t,r){if(_(i(t.$bytesize(),r)))for(;!_((t=t.$byteslice(0,r))["$valid_encoding?"]());)r=e(r,1);return t},at.$$arity=2),t.def(ft,"$resolve_docinfo_subs",lt=function(){return _(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",o,"docinfo"):["attributes"]},lt.$$arity=0),t.def(ft,"$create_converter",ct=function(r,n){var i,$,s,c,u=o,p=o;return $=d(["document","htmlsyntax"],{document:this,htmlsyntax:this.attributes["$[]"]("htmlsyntax")}),_(s=_(i=(u=this.options)["$[]"]("template_dirs"))?i:u["$[]"]("template_dir"))&&(p=["template_dirs",[].concat(t.to_a(s))],h($,"[]=",t.to_a(p)),p[e(p.length,1)],p=["template_cache",u.$fetch("template_cache",!0)],h($,"[]=",t.to_a(p)),p[e(p.length,1)],p=["template_engine",u["$[]"]("template_engine")],h($,"[]=",t.to_a(p)),p[e(p.length,1)],p=["template_engine_options",u["$[]"]("template_engine_options")],h($,"[]=",t.to_a(p)),p[e(p.length,1)],p=["eruby",u["$[]"]("eruby")],h($,"[]=",t.to_a(p)),p[e(p.length,1)],p=["safe",this.safe],h($,"[]=",t.to_a(p)),p[e(p.length,1)],_(n)&&(p=["delegate_backend",n],h($,"[]=",t.to_a(p)),p[e(p.length,1)])),_(c=u["$[]"]("converter"))?a(l(mt,"Converter"),"CustomFactory").$new(f(r,c)).$create(r,$):u.$fetch("converter_factory",l(mt,"Converter")).$create(r,$)},ct.$$arity=2),t.def(ft,"$clear_playback_attributes",ut=function(t){return t.$delete("attribute_entries")},ut.$$arity=1),t.def(ft,"$save_attributes",ht=function(){var r,n,i,$=o,s=o,c=o,u=o,p=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o;return _(_(r=($=this.attributes)["$key?"]("doctitle"))?r:(s=this.$doctitle())["$!"]())||(c=["doctitle",s],h($,"[]=",t.to_a(c)),c[e(c.length,1)]),this.id=_(r=this.id)?r:$["$[]"]("css-signature"),_(u=_($.$delete("toc2"))?"left":$["$[]"]("toc"))&&(p=_(_(r=f=$.$fetch("toc-placement","macro"))?f["$!="]("auto"):r)?f:$["$[]"]("toc-position"),_(_(r=u["$empty?"]())?p["$nil_or_empty?"]():r)||(m="left",y="toc2",g=_(p["$nil_or_empty?"]())?_(u["$empty?"]())?m:u:p,c=["toc",""],h($,"[]=",t.to_a(c)),c[e(c.length,1)],c=["toc-placement","auto"],h($,"[]=",t.to_a(c)),c[e(c.length,1)],"left"["$==="](b=g)||"<"["$==="](b)||"&lt;"["$==="](b)?(c=["toc-position","left"],h($,"[]=",t.to_a(c)),c[e(c.length,1)]):"right"["$==="](b)||">"["$==="](b)||"&gt;"["$==="](b)?(c=["toc-position","right"],h($,"[]=",t.to_a(c)),c[e(c.length,1)]):"top"["$==="](b)||"^"["$==="](b)?(c=["toc-position","top"],h($,"[]=",t.to_a(c)),c[e(c.length,1)]):"bottom"["$==="](b)||"v"["$==="](b)?(c=["toc-position","bottom"],h($,"[]=",t.to_a(c)),c[e(c.length,1)]):"preamble"["$==="](b)||"macro"["$==="](b)?(c=["toc-position","content"],h($,"[]=",t.to_a(c)),c[e(c.length,1)],c=["toc-placement",g],h($,"[]=",t.to_a(c)),c[e(c.length,1)],y=o):($.$delete("toc-position"),y=o),_(y)&&(_(r=$["$[]"]("toc-class"))||(c=["toc-class",y],h($,"[]=",t.to_a(c)),c[e(c.length,1)])))),_(_(r=i=$["$[]"]("icons"))?$["$key?"]("icontype")["$!"]():r)&&(""["$==="](b=i)||"font"["$==="](b)||(c=["icons",""],h($,"[]=",t.to_a(c)),c[e(c.length,1)],c=["icontype",i],h($,"[]=",t.to_a(c)),c[e(c.length,1)])),_(this.compat_mode=$["$key?"]("compat-mode"))&&_($["$key?"]("language"))&&(c=["source-language",$["$[]"]("language")],h($,"[]=",t.to_a(c)),c[e(c.length,1)]),_(this.parent_document)||((v=$["$[]"]("basebackend"))["$=="]("html")?_(_(r=x=$["$[]"]("source-highlighter"))?$["$[]"](x+"-unavailable")["$!"]():r)&&(_(w=this.options["$[]"]("syntax_highlighter_factory"))?this.syntax_highlighter=w.$create(x,this.backend,d(["document"],{document:this})):_(k=this.options["$[]"]("syntax_highlighters"))?this.syntax_highlighter=a(l(mt,"SyntaxHighlighter"),"DefaultFactoryProxy").$new(k).$create(x,this.backend,d(["document"],{document:this})):this.syntax_highlighter=l(mt,"SyntaxHighlighter").$create(x,this.backend,d(["document"],{document:this}))):v["$=="]("docbook")&&(_(_(r=this["$attribute_locked?"]("toc"))?r:this.attributes_modified["$include?"]("toc"))||(c=["toc",""],h($,"[]=",t.to_a(c)),c[e(c.length,1)]),_(_(r=this["$attribute_locked?"]("sectnums"))?r:this.attributes_modified["$include?"]("sectnums"))||(c=["sectnums",""],h($,"[]=",t.to_a(c)),c[e(c.length,1)])),this.outfilesuffix=$["$[]"]("outfilesuffix"),h(l(mt,"FLEXIBLE_ATTRIBUTES"),"each",[],((n=function(t){var e,r=n.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=o),null==t&&(t=o),_(_(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):o}).$$s=this,n.$$arity=1,n))),this.header_attributes=$.$merge()},ht.$$arity=0),t.def(ft,"$fill_datetime_attributes",_t=function(r,n){var i,$,s,l,c=this,u=o,d=o,p=o,f=o,m=o;return u=_(a("::","ENV")["$key?"]("SOURCE_DATE_EPOCH"))?d=a("::","Time").$at(c.$Integer(a("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():a("::","Time").$now(),_(p=r["$[]"]("localdate"))?_(i=r["$[]"]("localyear"))||(f=["localyear",p.$index("-")["$=="](4)?p.$slice(0,4):o],h(r,"[]=",t.to_a(f)),f[e(f.length,1)]):(f=["localdate",u.$strftime("%F")],h(r,"[]=",t.to_a(f)),p=f[e(f.length,1)],_(i=r["$[]"]("localyear"))||(f=["localyear",u.$year().$to_s()],h(r,"[]=",t.to_a(f)),f[e(f.length,1)])),s=_(i=r["$[]"]("localtime"))?i:(f=["localtime",u.$strftime("%T "+(u.$utc_offset()["$=="](0)?"UTC":"%z"))],h(r,"[]=",t.to_a(f)),f[e(f.length,1)]),_(i=r["$[]"]("localdatetime"))||(f=["localdatetime",p+" "+s],h(r,"[]=",t.to_a(f)),f[e(f.length,1)]),n=_(i=_($=d)?$:n)?i:u,_(m=r["$[]"]("docdate"))?_(i=r["$[]"]("docyear"))||(f=["docyear",m.$index("-")["$=="](4)?m.$slice(0,4):o],h(r,"[]=",t.to_a(f)),f[e(f.length,1)]):(f=["docdate",n.$strftime("%F")],h(r,"[]=",t.to_a(f)),m=f[e(f.length,1)],_(i=r["$[]"]("docyear"))||(f=["docyear",n.$year().$to_s()],h(r,"[]=",t.to_a(f)),f[e(f.length,1)])),l=_(i=r["$[]"]("doctime"))?i:(f=["doctime",n.$strftime("%T "+(n.$utc_offset()["$=="](0)?"UTC":"%z"))],h(r,"[]=",t.to_a(f)),f[e(f.length,1)]),_(i=r["$[]"]("docdatetime"))||(f=["docdatetime",m+" "+l],h(r,"[]=",t.to_a(f)),f[e(f.length,1)]),o},_t.$$arity=2),t.def(ft,"$update_backend_attributes",dt=function(r,n){var i,$,s=o,c=o,u=o,d=o,p=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o;return null==n&&(n=o),_(_(i=n)?i:r["$!="](this.backend))?(s=this.backend,c=(u=this.attributes)["$[]"]("basebackend"),d=this.doctype,_(r["$include?"](":"))&&($=r.$partition(":"),p=null==(i=t.to_ary($))[0]?o:i[0],null==i[1]?o:i[1],r=null==i[2]?o:i[2]),_(r["$start_with?"]("xhtml"))?(f=["htmlsyntax","xml"],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],r=r.$slice(1,r.$length())):_(r["$start_with?"]("html"))&&(_(i=u["$[]"]("htmlsyntax"))||(f=["htmlsyntax","html"],h(u,"[]=",t.to_a(f)),f[e(f.length,1)])),r=_(i=l(mt,"BACKEND_ALIASES")["$[]"](r))?i:r,_(p)&&(r=(i=[p,r])[0],m=i[1]),_(d)?(_(s)&&(u.$delete("backend-"+s),u.$delete("backend-"+s+"-doctype-"+d)),f=["backend-"+r+"-doctype-"+d,""],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["doctype-"+d,""],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):_(s)&&u.$delete("backend-"+s),f=["backend-"+r,""],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],this.backend=(f=["backend",r],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),_(a(l(mt,"Converter"),"BackendTraits")["$==="](y=this.$create_converter(r,m)))?(g=y.$basebackend(),b=y.$filetype(),_(v=y.$htmlsyntax())&&(f=["htmlsyntax",v],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),_(n)?_(i=u["$[]"]("outfilesuffix"))||(f=["outfilesuffix",y.$outfilesuffix()],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):_(this["$attribute_locked?"]("outfilesuffix"))||(f=["outfilesuffix",y.$outfilesuffix()],h(u,"[]=",t.to_a(f)),f[e(f.length,1)])):_(y)?(g=(x=l(mt,"Converter").$derive_backend_traits(r))["$[]"]("basebackend"),b=x["$[]"]("filetype"),_(n)?_(i=u["$[]"]("outfilesuffix"))||(f=["outfilesuffix",x["$[]"]("outfilesuffix")],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):_(this["$attribute_locked?"]("outfilesuffix"))||(f=["outfilesuffix",x["$[]"]("outfilesuffix")],h(u,"[]=",t.to_a(f)),f[e(f.length,1)])):this.$raise(a("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+r+"'. Processing aborted."),this.converter=y,_(w=u["$[]"]("filetype"))&&u.$delete("filetype-"+w),f=["filetype",b],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["filetype-"+b,""],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],_(k=l(mt,"DEFAULT_PAGE_WIDTHS")["$[]"](g))?(f=["pagewidth",k],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):u.$delete("pagewidth"),_(g["$!="](c))&&(_(d)?(_(c)&&(u.$delete("basebackend-"+c),u.$delete("basebackend-"+c+"-doctype-"+d)),f=["basebackend-"+g+"-doctype-"+d,""],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):_(c)&&u.$delete("basebackend-"+c),f=["basebackend-"+g,""],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["basebackend",g],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),r):o},dt.$$arity=-2),t.def(ft,"$update_doctype_attributes",pt=function(r){var n,i=o,$=o,s=o,a=o,l=o;return _(_(n=r)?r["$!="](this.doctype):n)?($=(n=[this.backend,(i=this.attributes)["$[]"]("basebackend"),this.doctype])[0],s=n[1],a=n[2],_(a)?(i.$delete("doctype-"+a),_($)&&(i.$delete("backend-"+$+"-doctype-"+a),l=["backend-"+$+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)]),_(s)&&(i.$delete("basebackend-"+s+"-doctype-"+a),l=["basebackend-"+s+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)])):(_($)&&(l=["backend-"+$+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)]),_(s)&&(l=["basebackend-"+s+"-doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)])),l=["doctype-"+r,""],h(i,"[]=",t.to_a(l)),l[e(l.length,1)],this.doctype=(l=["doctype",r],h(i,"[]=",t.to_a(l)),l[e(l.length,1)])):o},pt.$$arity=1)}(y[0],l(y,"AbstractBlock"),y)}(s[0],s)},Opal.modules["asciidoctor/inline"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.klass,s=t.hash2,o=t.send,a=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$[]","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(e,l){var c=[i(e,"Asciidoctor")].concat(l);!function(e,n,i){var l,c,u,h,_,d,p,f,m=$(e,n,"Inline");[m].concat(i);m.$$prototype.text=m.$$prototype.type=r,m.$attr_accessor("text"),m.$attr_reader("type"),m.$attr_accessor("target"),t.def(m,"$initialize",l=function(e,n,i,$){var a=l.$$p;return a&&(l.$$p=null),null==i&&(i=r),null==$&&($=s([],{})),o(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,n,$],null),this.node_name="inline_"+n,this.text=i,this.id=$["$[]"]("id"),this.type=$["$[]"]("type"),this.target=$["$[]"]("target")},l.$$arity=-3),t.def(m,"$block?",c=function(){return!1},c.$$arity=0),t.def(m,"$inline?",u=function(){return!0},u.$$arity=0),t.def(m,"$convert",h=function(){return this.$converter().$convert(this)},h.$$arity=0),t.alias(m,"render","convert"),t.def(m,"$alt",_=function(){var t;return a(t=this.$attr("alt"))?t:""},_.$$arity=0),t.def(m,"$reftext?",d=function(){var t,e;return a(t=this.text)?a(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},d.$$arity=0),t.def(m,"$reftext",p=function(){var t;return a(t=this.text)?this.$apply_reftext_subs(t):r},p.$$arity=0),t.def(m,"$xreftext",f=function(t){return null==t&&(t=r),this.$reftext()},f.$$arity=-1)}(c[0],n(c,"AbstractNode"),c)}(e[0],e)},Opal.modules["asciidoctor/list"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.klass,s=t.hash2,o=t.send,a=t.truthy;return t.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$!","$simple?","$source","$shift","$context","$parent"]),function(e,l){var c=[i(e,"Asciidoctor")].concat(l);!function(e,n,i){var l,c,u,h,_=$(e,n,"List");[_].concat(i);_.$$prototype.context=_.$$prototype.document=_.$$prototype.style=r,t.alias(_,"items","blocks"),t.alias(_,"content","blocks"),t.alias(_,"items?","blocks?"),t.def(_,"$initialize",l=function(e,n,i){var $,a=l.$$p,c=r,u=r;for(a&&(l.$$p=null),u=0,$=arguments.length,c=new Array($);u<$;u++)c[u]=arguments[u];return null==i&&(i=s([],{})),o(this,t.find_super_dispatcher(this,"initialize",l,!1),c,a)},l.$$arity=-3),t.def(_,"$outline?",c=function(){var t;return a(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},c.$$arity=0),t.def(_,"$convert",u=function(){var e,n=u.$$p,i=r,$=r,s=r;for(n&&(u.$$p=null),s=0,e=arguments.length,$=new Array(e);s<e;s++)$[s]=arguments[s];return this.context["$=="]("colist")?(i=o(this,t.find_super_dispatcher(this,"convert",u,!1),$,n),this.document.$callouts().$next_list(),i):o(this,t.find_super_dispatcher(this,"convert",u,!1),$,n)},u.$$arity=0),t.alias(_,"render","convert"),t.def(_,"$to_s",h=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},h.$$arity=0)}(c[0],n(c,"AbstractBlock"),c),function(e,i,s){var l,c,u,h,_,d,p,f,m=$(e,i,"ListItem"),y=[m].concat(s);m.$$prototype.text=m.$$prototype.subs=m.$$prototype.blocks=r,t.alias(m,"list","parent"),m.$attr_accessor("marker"),t.def(m,"$initialize",l=function(e,i){var $=l.$$p;return $&&(l.$$p=null),null==i&&(i=r),o(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"list_item"],null),this.text=i,this.level=e.$level(),this.subs=n(y,"NORMAL_SUBS").$drop(0)},l.$$arity=-2),t.def(m,"$text?",c=function(){return!a(this.text["$nil_or_empty?"]())},c.$$arity=0),t.def(m,"$text",u=function(){var t;return a(t=this.text)?this.$apply_subs(this.text,this.subs):t},u.$$arity=0),t.def(m,"$text=",h=function(t){return this.text=t},h.$$arity=1),t.def(m,"$simple?",_=function(){var t,e,i=r;return a(t=this.blocks["$empty?"]())?t:a(e=this.blocks.$size()["$=="](1)?n(y,"List")["$==="](i=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?i["$outline?"]():e},_.$$arity=0),t.def(m,"$compound?",d=function(){return this["$simple?"]()["$!"]()},d.$$arity=0),t.def(m,"$fold_first",p=function(){var t=this;return t.text=a(t.text["$nil_or_empty?"]())?t.blocks.$shift().$source():""+t.text+n(y,"LF")+t.blocks.$shift().$source(),r},p.$$arity=0),t.def(m,"$to_s",f=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(a(t=this.blocks)?t:[]).$size()+"}>"},f.$$arity=0)}(c[0],n(c,"AbstractBlock"),c)}(e[0],e)},Opal.modules["asciidoctor/parser"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}t.top;var s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,h=t.send,_=t.truthy,d=t.hash2,p=t.gvars;return t.add_stubs(["$include","$new","$proc","$start_with?","$match?","$is_delimited_block?","$private_class_method","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$apply_header_subs","$[]=","$source_location=","$header","$attribute_locked?","$id","$clear","$delete","$instance_variable_get","$parse_header_metadata","$include?","$==","$!","$register","$doctype","$parse_manpage_header","$=~","$downcase","$sub_attributes","$error","$logger","$message_with_context","$cursor_at_line","$backend","$skip_blank_lines","$save","$update","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$lstrip","$title","$split","$restore_save","$discard_save","$context","$empty?","$header?","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$<","$>","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$merge","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$debug?","$debug","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$uniform?","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$each","$raise","$title?","$update_attributes","$commit_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$advance","$dup","$match","$callout_ids","$next_list","$catalog_inline_anchor","$source_location","$marker=","$catalog_inline_biblio_anchor","$set_option","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$concat","$find","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$peek_lines","$setext_section_title?","$abs","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$process_authors","$rstrip","$each_with_index","$compact","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$pre_match","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$partition","$shorthand_property_syntax","$each_char","$yield_buffered_attribute","$any?","$*","$each_byte","$%"]),function(s,f){var m=[c(s,"Asciidoctor")].concat(f);!function(s,c,f){var m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt=u(s,null,"Parser"),ct=[lt].concat(f);lt.$include(l(ct,"Logging")),t.const_set(ct[0],"BlockMatchData",l(ct,"Struct").$new("context","masq","tip","terminator")),t.const_set(ct[0],"TAB","\t"),t.const_set(ct[0],"TabIndentRx",/^\t+/),t.const_set(ct[0],"StartOfBlockProc",h(lt,"proc",[],((m=function(t){var e,r,n=m.$$s||this;return null==t&&(t=o),_(e=_(r=t["$start_with?"]("["))?l(ct,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)}).$$s=lt,m.$$arity=1,m))),t.const_set(ct[0],"StartOfListProc",h(lt,"proc",[],((y=function(t){y.$$s;return null==t&&(t=o),l(ct,"AnyListRx")["$match?"](t)}).$$s=lt,y.$$arity=1,y))),t.const_set(ct[0],"StartOfBlockOrListProc",h(lt,"proc",[],((g=function(t){var e,r,n,i=g.$$s||this;return null==t&&(t=o),_(e=_(r=i["$is_delimited_block?"](t))?r:_(n=t["$start_with?"]("["))?l(ct,"BlockAttributeLineRx")["$match?"](t):n)?e:l(ct,"AnyListRx")["$match?"](t)}).$$s=lt,g.$$arity=1,g))),t.const_set(ct[0],"NoOp",o),t.const_set(ct[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),t.const_set(ct[0],"TableCellHorzAlignments",d(["<",">","^"],{"<":"left",">":"right","^":"center"})),t.const_set(ct[0],"TableCellVertAlignments",d(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),t.const_set(ct[0],"TableCellStyles",d(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),lt.$private_class_method("new"),t.defs(lt,"$parse",b=function(e,r,n){var i,$,s=o,a=o;if(null==n&&(n=d([],{})),s=this.$parse_document_header(e,r),_(n["$[]"]("header_only")));else for(;_(e["$has_more_lines?"]());)$=this.$next_section(e,r,s),a=null==(i=t.to_ary($))[0]?o:i[0],s=null==i[1]?o:i[1],_(a)&&(r.$assign_numeral(a),r.$blocks()["$<<"](a));return r},b.$$arity=-3),t.defs(lt,"$parse_document_header",v=function(r,n){var i,$,s,a=o,l=o,c=o,u=o,d=o,p=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o;return a=this.$parse_block_metadata_lines(r,n),l=n.$attributes(),_(_(i=s=this["$is_next_line_doctitle?"](r,a,l["$[]"]("leveloffset")))?a["$[]"]("title"):i)?n.$finalize_header(a,!1):(_((c=l["$[]"]("doctitle"))["$nil_or_empty?"]())||(u=[d=c],h(n,"title=",t.to_a(u)),u[e(u.length,1)]),_(s)&&(_(n.$sourcemap())&&(p=r.$cursor()),$=this.$parse_section_title(r,n),i=t.to_ary($),n["$id="](null==i[0]?o:i[0]),null==i[1]?o:i[1],f=null==i[2]?o:i[2],null==i[3]?o:i[3],m=null==i[4]?o:i[4],_(d)?f=o:(u=[f],h(n,"title=",t.to_a(u)),u[e(u.length,1)],u=["doctitle",d=n.$apply_header_subs(f)],h(l,"[]=",t.to_a(u)),u[e(u.length,1)]),_(p)&&(u=[p],h(n.$header(),"source_location=",t.to_a(u)),u[e(u.length,1)]),_(_(i=m)?i:n["$attribute_locked?"]("compat-mode"))||(u=["compat-mode",""],h(l,"[]=",t.to_a(u)),u[e(u.length,1)]),_(y=a["$[]"]("separator"))&&(_(n["$attribute_locked?"]("title-separator"))||(u=["title-separator",y],h(l,"[]=",t.to_a(u)),u[e(u.length,1)])),_(g=a["$[]"]("id"))?(u=[g],h(n,"id=",t.to_a(u)),u[e(u.length,1)]):g=n.$id(),_(b=a["$[]"]("role"))&&(u=["role",b],h(l,"[]=",t.to_a(u)),u[e(u.length,1)]),_(v=a["$[]"]("reftext"))&&(u=["reftext",v],h(l,"[]=",t.to_a(u)),u[e(u.length,1)]),a.$clear(),(x=n.$instance_variable_get("@attributes_modified")).$delete("doctitle"),this.$parse_header_metadata(r,n),_(x["$include?"]("doctitle"))?_(_(i=(c=l["$[]"]("doctitle"))["$nil_or_empty?"]())?i:c["$=="](d))?(u=["doctitle",d],h(l,"[]=",t.to_a(u)),u[e(u.length,1)]):(u=[c],h(n,"title=",t.to_a(u)),u[e(u.length,1)]):_(f["$!"]())&&x["$<<"]("doctitle"),_(g)&&n.$register("refs",[g,n])),n.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(r,n,a),n.$finalize_header(a))},v.$$arity=2),t.defs(lt,"$parse_manpage_header",x=function(r,n,i){var $,s,a,c,u=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o;return _(l(ct,"ManpageTitleVolnumRx")["$=~"]((u=n.$attributes())["$[]"]("doctitle")))?(f=["manvolnum",m=($=p["~"])===o?o:$["$[]"](2)],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["mantitle",(_((y=($=p["~"])===o?o:$["$[]"](1))["$include?"](l(ct,"ATTR_REF_HEAD")))?n.$sub_attributes(y):y).$downcase()],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",d(["source_location"],{source_location:r.$cursor_at_line(1)}))),f=["mantitle",_($=_(s=u["$[]"]("doctitle"))?s:u["$[]"]("docname"))?$:"command"],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["manvolnum",m="1"],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),_(_($=g=u["$[]"]("manname"))?u["$[]"]("manpurpose"):$)?(_($=u["$[]"]("manname-title"))||(f=["manname-title","Name"],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),f=["mannames",[g]],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],n.$backend()["$=="]("manpage")&&(f=["docname",g],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["outfilesuffix","."+m],h(u,"[]=",t.to_a(f)),f[e(f.length,1)])):(r.$skip_blank_lines(),r.$save(),i.$update(this.$parse_block_metadata_lines(r,n)),_(b=this["$is_next_line_section?"](r,d([],{})))?b["$=="](1)?(v=this.$initialize_section(r,n,d([],{})),x=h(r.$read_lines_until(d(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],(a=function(t){a.$$s;return null==t&&(t=o),t.$lstrip()},a.$$s=this,a.$$arity=1,a)).$join(" "),_(l(ct,"ManpageNamePurposeRx")["$=~"](x))?(_($=u["$[]"]("manname-title"))||(f=["manname-title",v.$title()],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),_(v.$id())&&(f=["manname-id",v.$id()],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]),f=["manpurpose",($=p["~"])===o?o:$["$[]"](2)],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],_((g=($=p["~"])===o?o:$["$[]"](1))["$include?"](l(ct,"ATTR_REF_HEAD")))&&(g=n.$sub_attributes(g)),_(g["$include?"](","))?g=(w=h(g.$split(","),"map",[],(c=function(t){c.$$s;return null==t&&(t=o),t.$lstrip()},c.$$s=this,c.$$arity=1,c)))["$[]"](0):w=[g],f=["manname",g],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["mannames",w],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],n.$backend()["$=="]("manpage")&&(f=["docname",g],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["outfilesuffix","."+m],h(u,"[]=",t.to_a(f)),f[e(f.length,1)])):k="non-conforming name section body"):k="name section must be at level 1":k="name section expected",_(k)?(r.$restore_save(),this.$logger().$error(this.$message_with_context(k,d(["source_location"],{source_location:r.$cursor()}))),f=["manname",g=_($=u["$[]"]("docname"))?$:"command"],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["mannames",[g]],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],n.$backend()["$=="]("manpage")&&(f=["docname",g],h(u,"[]=",t.to_a(f)),f[e(f.length,1)],f=["outfilesuffix","."+m],h(u,"[]=",t.to_a(f)),f[e(f.length,1)])):r.$discard_save()),o},x.$$arity=3),t.defs(lt,"$next_section",w=function($,s,a){var c,u,p,f,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,N=o,D=o,B=o;for(null==a&&(a=d([],{})),m=y=g=!1,_(_(c=(u=s.$context()["$=="]("document"))?s.$blocks()["$empty?"]():s.$context()["$=="]("document"))?_(u=_(p=b=s["$header?"]())?p:a.$delete("invalid-header"))?u:this["$is_next_line_section?"]($,a)["$!"]():c)?(v=(x=s).$doctype()["$=="]("book"),_(_(c=b)?c:_(u=v)?a["$[]"](1)["$!="]("abstract"):u)&&(m=y=l(ct,"Block").$new(s,"preamble",d(["content_model"],{content_model:"compound"})),_(_(c=v)?s["$attr?"]("preface-title"):c)&&(w=[s.$attr("preface-title")],h(m,"title=",t.to_a(w)),w[e(w.length,1)]),s.$blocks()["$<<"](m)),k=s,E=0,_(s.$attributes()["$key?"]("fragment"))?A=-1:_(v)?(A=(c=[1,0])[0],O=c[1]):A=1):(v=(x=s.$document()).$doctype()["$=="]("book"),k=this.$initialize_section($,s,a),a=_(S=a["$[]"]("title"))?d(["title"],{title:S}):d([],{}),A=r(E=k.$level(),1),E["$=="](0)?g=v:_((c=E["$=="](1))?k.$special():E["$=="](1))&&(_(_(c=_(u=(R=k.$sectname())["$=="]("appendix"))?u:R["$=="]("preface"))?c:R["$=="]("abstract"))||(A=o))),$.$skip_blank_lines();_($["$has_more_lines?"]());){if(this.$parse_block_metadata_lines($,x,a),_(C=this["$is_next_line_section?"]($,a)))if(_(x["$attr?"]("leveloffset"))&&(C=r(C,x.$attr("leveloffset").$to_i()),_(n(C,0))&&(C=0)),_(i(C,E)))_(A)?_(_(u=_(p=C["$=="](A))?p:_(f=O)?C["$=="](O):f)?u:n(A,0))||(I=_(O)?"expected levels "+O+" or "+A:"expected level "+A,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+I+", got level "+C,d(["source_location"],{source_location:$.$cursor()})))):this.$logger().$error(this.$message_with_context(R+" sections do not support nested sections",d(["source_location"],{source_location:$.$cursor()}))),p=this.$next_section($,k,a),T=null==(u=t.to_ary(p))[0]?o:u[0],a=null==u[1]?o:u[1],k.$assign_numeral(T),k.$blocks()["$<<"](T);else{if(!_((u=C["$=="](0))?k["$=="](x):C["$=="](0)))break;_(v)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",d(["source_location"],{source_location:$.$cursor()}))),p=this.$next_section($,k,a),T=null==(u=t.to_ary(p))[0]?o:u[0],a=null==u[1]?o:u[1],k.$assign_numeral(T),k.$blocks()["$<<"](T)}else L=$.$cursor(),_(N=this.$next_block($,_(u=y)?u:k,a,d(["parse_metadata"],{parse_metadata:!1})))&&(_(g)&&(_(k["$blocks?"]()["$!"]())?_(N.$style()["$!="]("partintro"))&&(N.$context()["$=="]("paragraph")?(w=["open"],h(N,"context=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(N,"style=",t.to_a(w)),w[e(w.length,1)]):(w=[y=l(ct,"Block").$new(k,"open",d(["content_model"],{content_model:"compound"}))],h(N,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(y,"style=",t.to_a(w)),w[e(w.length,1)],k.$blocks()["$<<"](y))):k.$blocks().$size()["$=="](1)&&(D=k.$blocks()["$[]"](0),_(_(u=y["$!"]())?D.$content_model()["$=="]("compound"):u)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",d(["source_location"],{source_location:L}))):_(D.$content_model()["$!="]("compound"))&&(w=[y=l(ct,"Block").$new(k,"open",d(["content_model"],{content_model:"compound"}))],h(N,"parent=",t.to_a(w)),w[e(w.length,1)],w=["partintro"],h(y,"style=",t.to_a(w)),w[e(w.length,1)],k.$blocks().$shift(),D.$style()["$=="]("partintro")&&(w=["paragraph"],h(D,"context=",t.to_a(w)),w[e(w.length,1)],w=[o],h(D,"style=",t.to_a(w)),w[e(w.length,1)]),y["$<<"](D),k.$blocks()["$<<"](y)))),(_(u=y)?u:k).$blocks()["$<<"](N),a.$clear());if(!_(u=$.$skip_blank_lines()))break}if(_(g))_(_(c=k["$blocks?"]())?k.$blocks()["$[]"](-1).$context()["$=="]("section"):c)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",d(["source_location"],{source_location:$.$cursor()})));else if(_(m))if(_(m["$blocks?"]()))if(_(_(c=_(u=v)?u:x.$blocks()["$[]"](1))?c:l(ct,"Compliance").$unwrap_standalone_preamble()["$!"]()));else for(x.$blocks().$shift();_(B=m.$blocks().$shift());)x["$<<"](B);else x.$blocks().$shift();return[_(k["$!="](s))?k:o,a.$merge()]},w.$$arity=-3),t.defs(lt,"$next_block",k=function($,s,a,c){try{var u,f,m,y,g,b,v,x,w=this,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,N=o,D=o,B=o,M=o,F=o,z=o,P=o,j=o,q=o,U=o,H=o,Y=o,G=o,W=o,K=o,X=o,V=o,J=o,Z=o,Q=o,tt=o,et=o,rt=o,nt=o,it=o,$t=o,st=o,ot=o,at=o,lt=o,ut=o,ht=o,_t=o,dt=o,pt=o,ft=o,mt=o,yt=o,gt=o;if(null==p["~"]&&(p["~"]=o),null==a&&(a=d([],{})),null==c&&(c=d([],{})),!_(k=$.$skip_blank_lines()))return o;if(_(_(u=E=c["$[]"]("text_only"))?i(k,0):u)&&(c.$delete("text_only"),E=o),A=s.$document(),_(c.$fetch("parse_metadata",!0)))for(;_(w.$parse_block_metadata_line($,A,a,c));)$.$shift(),_(f=$.$skip_blank_lines())||t.ret(o);if(_(O=A.$extensions())&&(S=(u=[O["$blocks?"](),O["$block_macros?"]()])[0],R=u[1]),$.$mark(),u=[$.$read_line(),A.$attributes(),a["$[]"](1)],C=u[0],I=u[1],T=u[2],L=N=D=B=o,_(M=w["$is_delimited_block?"](C,!0))&&(N=D=M.$context(),B=M.$terminator(),_(T)?T["$=="](N.$to_s())||(_(M.$masq()["$include?"](T))?N=T.$to_sym():_(_(u=M.$masq()["$include?"]("admonition"))?l(ct,"ADMONITION_STYLES")["$include?"](T):u)?N="admonition":_(_(u=S)?O["$registered_for_block?"](T,N):u)?N=T.$to_sym():(_(w.$logger()["$debug?"]())&&w.$logger().$debug(w.$message_with_context("unknown style for "+N+" block: "+T,d(["source_location"],{source_location:$.$cursor_at_mark()}))),T=N.$to_s())):(F=["style",N.$to_s()],h(a,"[]=",t.to_a(F)),T=F[e(F.length,1)])),_(M));else for(;_(!0);){if(_(_(f=_(m=T)?l(ct,"Compliance").$strict_verbatim_paragraphs():m)?l(ct,"VERBATIM_STYLES")["$include?"](T):f)){N=T.$to_sym(),$.$unshift_line(C);break}if(_(E))z=C["$start_with?"](" ",l(ct,"TAB"));else if(P=l(ct,"Compliance").$markdown_syntax(),_(C["$start_with?"](" "))){if(z=(f=[!0," "])[0],j=f[1],_(_(f=_(m=P)?h(C.$lstrip(),"start_with?",t.to_a(l(ct,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):m)?l(ct,"MarkdownThematicBreakRx")["$match?"](C):f)){L=l(ct,"Block").$new(s,"thematic_break",d(["content_model"],{content_model:"empty"}));break}}else if(_(C["$start_with?"](l(ct,"TAB"))))f=[!0,l(ct,"TAB")],z=f[0],j=f[1];else{if(f=[!1,C.$chr()],z=f[0],j=f[1],q=_(P)?l(ct,"HYBRID_LAYOUT_BREAK_CHARS"):l(ct,"LAYOUT_BREAK_CHARS"),_(_(f=q["$key?"](j))?_(P)?l(ct,"ExtLayoutBreakRx")["$match?"](C):_(m=w["$uniform?"](C,j,U=C.$length()))?i(U,2):m:f)){L=l(ct,"Block").$new(s,q["$[]"](j),d(["content_model"],{content_model:"empty"}));break}if(_(_(f=C["$end_with?"]("]"))?C["$include?"]("::"):f)){if(_(_(f=_(m=j["$=="]("i"))?m:C["$start_with?"]("video:","audio:"))?l(ct,"BlockMediaMacroRx")["$=~"](C):f)){if(H=(f=[((m=p["~"])===o?o:m["$[]"](1)).$to_sym(),(m=p["~"])===o?o:m["$[]"](2),(m=p["~"])===o?o:m["$[]"](3)])[0],Y=f[1],G=f[2],L=l(ct,"Block").$new(s,H,d(["content_model"],{content_model:"empty"})),_(G)&&(K="video"["$==="](W=H)?["poster","width","height"]:"audio"["$==="](W)?[]:["alt","width","height"],L.$parse_attributes(G,K,d(["sub_input","into"],{sub_input:!0,into:a}))),_(a["$key?"]("style"))&&a.$delete("style"),_(Y["$include?"](l(ct,"ATTR_REF_HEAD")))){if(_(_(f=_(m=(X=L.$sub_attributes(Y))["$empty?"]())?(_(y=I["$[]"]("attribute-missing"))?y:l(ct,"Compliance").$attribute_missing())["$=="]("drop-line"):m)?L.$sub_attributes(r(Y," "),d(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():f))return a.$clear(),o;Y=X}H["$=="]("image")&&(A.$register("images",Y),F=["imagesdir",I["$[]"]("imagesdir")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],_(f=a["$[]"]("alt"))||(F=["alt",_(m=T)?m:(F=["default-alt",l(ct,"Helpers").$basename(Y,!0).$tr("_-"," ")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)])],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_((V=a.$delete("scaledwidth"))["$nil_or_empty?"]())||(F=["scaledwidth",_(l(ct,"TrailingDigitsRx")["$match?"](V))?V+"%":V],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(a["$[]"]("title"))&&(F=[J=a.$delete("title")],h(L,"title=",t.to_a(F)),F[e(F.length,1)],L.$assign_caption(a.$delete("caption"),"figure"))),F=["target",Y],h(a,"[]=",t.to_a(F)),F[e(F.length,1)];break}if(_(_(f=(m=j["$=="]("t"))?C["$start_with?"]("toc:"):j["$=="]("t"))?l(ct,"BlockTocMacroRx")["$=~"](C):f)){L=l(ct,"Block").$new(s,"toc",d(["content_model"],{content_model:"empty"})),_((f=p["~"])===o?o:f["$[]"](1))&&L.$parse_attributes((f=p["~"])===o?o:f["$[]"](1),[],d(["into"],{into:a}));break}if(_(_(R)?_(f=_(m=l(ct,"CustomBlockMacroRx")["$=~"](C))?Z=O["$registered_for_block_macro?"]((y=p["~"])===o?o:y["$[]"](1)):m)?f:Q=w.$logger()["$debug?"]():_(f=w.$logger()["$debug?"]())?Q=l(ct,"CustomBlockMacroRx")["$=~"](C):f)){if(!_(Q)){if(tt=(f=p["~"])===o?o:f["$[]"](3),_((Y=(f=p["~"])===o?o:f["$[]"](2))["$include?"](l(ct,"ATTR_REF_HEAD")))){if(_(_(f=_(m=(X=s.$sub_attributes(Y))["$empty?"]())?(_(y=I["$[]"]("attribute-missing"))?y:l(ct,"Compliance").$attribute_missing())["$=="]("drop-line"):m)?s.$sub_attributes(r(Y," "),d(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():f))return a.$clear(),o;Y=X}if((et=Z.$config())["$[]"]("content_model")["$=="]("attributes")?_(tt)&&A.$parse_attributes(tt,_(f=_(m=et["$[]"]("positional_attrs"))?m:et["$[]"]("pos_attrs"))?f:[],d(["sub_input","into"],{sub_input:!0,into:a})):(F=["text",_(f=tt)?f:""],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(rt=et["$[]"]("default_attrs"))&&h(a,"update",[rt],((g=function(t,e){g.$$s;return null==t&&(t=o),null==e&&(e=o),e}).$$s=w,g.$$arity=2,g)),_(L=Z.$process_method()["$[]"](s,Y,a))){a.$replace(L.$attributes());break}return a.$clear(),o}w.$logger().$debug(w.$message_with_context("unknown name for block macro: "+((f=p["~"])===o?o:f["$[]"](1)),d(["source_location"],{source_location:$.$cursor_at_mark()})))}}}if(_(_(f=_(m=z["$!"]())?(j=_(y=j)?y:C.$chr())["$=="]("<"):m)?l(ct,"CalloutListRx")["$=~"](C):f)){$.$unshift_line(C),L=w.$parse_callout_list($,p["~"],s,A.$callouts()),F=["style","arabic"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)];break}if(_(l(ct,"UnorderedListRx")["$match?"](C))){$.$unshift_line(C),_(_(f=_(m=T["$!"]())?l(ct,"Section")["$==="](s):m)?s.$sectname()["$=="]("bibliography"):f)&&(F=["style",T="bibliography"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),L=w.$parse_list($,"ulist",s,T);break}if(_(l(ct,"OrderedListRx")["$match?"](C))){$.$unshift_line(C),L=w.$parse_list($,"olist",s,T),_(L.$style())&&(F=["style",L.$style()],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]);break}if(_(_(f=_(m=C["$include?"]("::"))?m:C["$include?"](";;"))?l(ct,"DescriptionListRx")["$=~"](C):f)){$.$unshift_line(C),L=w.$parse_description_list($,p["~"],s);break}if(_(_(f=_(m=T["$=="]("float"))?m:T["$=="]("discrete"))?_(l(ct,"Compliance").$underline_style_section_titles())?w["$is_section_title?"](C,$.$peek_line()):_(m=z["$!"]())?w["$atx_section_title?"](C):m:f)){$.$unshift_line(C),m=w.$parse_section_title($,A,a["$[]"]("id")),nt=null==(f=t.to_ary(m))[0]?o:f[0],it=null==f[1]?o:f[1],J=null==f[2]?o:f[2],$t=null==f[3]?o:f[3],_(it)&&(F=["reftext",it],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),L=l(ct,"Block").$new(s,"floating_title",d(["content_model"],{content_model:"empty"})),F=[J],h(L,"title=",t.to_a(F)),F[e(F.length,1)],a.$delete("title"),F=[_(f=nt)?f:_(I["$key?"]("sectids"))?l(ct,"Section").$generate_id(L.$title(),A):o],h(L,"id=",t.to_a(F)),F[e(F.length,1)],F=[$t],h(L,"level=",t.to_a(F)),F[e(F.length,1)];break}if(_(_(f=T)?T["$!="]("normal"):f)){if(_(l(ct,"PARAGRAPH_STYLES")["$include?"](T))){N=T.$to_sym(),D="paragraph",$.$unshift_line(C);break}if(_(l(ct,"ADMONITION_STYLES")["$include?"](T))){N="admonition",D="paragraph",$.$unshift_line(C);break}if(_(_(f=S)?O["$registered_for_block?"](T,"paragraph"):f)){N=T.$to_sym(),D="paragraph",$.$unshift_line(C);break}_(w.$logger()["$debug?"]())&&w.$logger().$debug(w.$message_with_context("unknown style for paragraph: "+T,d(["source_location"],{source_location:$.$cursor_at_mark()}))),T=o}if($.$unshift_line(C),_(_(f=z)?T["$!"]():f))st=w.$read_paragraph_lines($,ot=k["$=="](0)?c["$[]"]("list_type"):o,d(["skip_line_comments"],{skip_line_comments:E})),w["$adjust_indentation!"](st),L=_(_(f=E)?f:ot["$=="]("dlist"))?l(ct,"Block").$new(s,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:a})):l(ct,"Block").$new(s,"literal",d(["content_model","source","attributes"],{content_model:"verbatim",source:st,attributes:a}));else{if(st=w.$read_paragraph_lines($,(f=k["$=="](0))?c["$[]"]("list_type"):k["$=="](0),d(["skip_line_comments"],{skip_line_comments:!0})),_(E))_(_(f=z)?T["$=="]("normal"):f)&&w["$adjust_indentation!"](st),L=l(ct,"Block").$new(s,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:a}));else if(_(_(f=_(m=l(ct,"ADMONITION_STYLE_HEADS")["$include?"](j))?C["$include?"](":"):m)?l(ct,"AdmonitionParagraphRx")["$=~"](C):f))F=[0,(f=p["~"])===o?o:f.$post_match()],h(st,"[]=",t.to_a(F)),F[e(F.length,1)],F=["name",at=(F=["style",(f=p["~"])===o?o:f["$[]"](1)],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]).$downcase()],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],F=["textlabel",_(f=a.$delete("caption"))?f:I["$[]"](at+"-caption")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],L=l(ct,"Block").$new(s,"admonition",d(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:a}));else if(_(_(f=_(m=P)?j["$=="](">"):m)?C["$start_with?"]("> "):f)){if(h(st,"map!",[],((b=function(t){b.$$s;return null==t&&(t=o),t["$=="](">")?t.$slice(1,t.$length()):_(t["$start_with?"]("> "))?t.$slice(2,t.$length()):t}).$$s=w,b.$$arity=1,b)),_(st["$[]"](-1)["$start_with?"]("-- ")))if(lt=(lt=st.$pop()).$slice(3,lt.$length()),_(st["$empty?"]()));else for(;_(st["$[]"](-1)["$empty?"]());)st.$pop();F=["style","quote"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],L=w.$build_block("quote","compound",!1,s,l(ct,"Reader").$new(st),a),_(lt)&&(m=L.$apply_subs(lt).$split(", ",2),ut=null==(f=t.to_ary(m))[0]?o:f[0],ht=null==f[1]?o:f[1],_(ut)&&(F=["attribution",ut],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(ht)&&(F=["citetitle",ht],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]))}else if(_(_(f=_(m=(y=j["$=="]('"'))?i(st.$size(),1):j["$=="]('"'))?st["$[]"](-1)["$start_with?"]("-- "):m)?st["$[]"](-2)["$end_with?"]('"'):f)){for(F=[0,C.$slice(1,C.$length())],h(st,"[]=",t.to_a(F)),F[e(F.length,1)],lt=(lt=st.$pop()).$slice(3,lt.$length());_(st["$[]"](-1)["$empty?"]());)st.$pop();st["$<<"](st.$pop().$chop()),F=["style","quote"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],L=l(ct,"Block").$new(s,"quote",d(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:a})),m=L.$apply_subs(lt).$split(", ",2),ut=null==(f=t.to_ary(m))[0]?o:f[0],ht=null==f[1]?o:f[1],_(ut)&&(F=["attribution",ut],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(ht)&&(F=["citetitle",ht],h(a,"[]=",t.to_a(F)),F[e(F.length,1)])}else _(_(f=z)?T["$=="]("normal"):f)&&w["$adjust_indentation!"](st),L=l(ct,"Block").$new(s,"paragraph",d(["content_model","source","attributes"],{content_model:"simple",source:st,attributes:a}));w.$catalog_inline_anchors(st.$join(l(ct,"LF")),L,A,$)}break}if(_(L));else if("listing"["$==="](W=N)||"source"["$==="](W))_(_(u=N["$=="]("source"))?u:_(f=a["$[]"](1)["$!"]())?_t=_(m=a["$[]"](2))?m:I["$[]"]("source-language"):f)&&(_(_t)?(F=["style","source"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],F=["language",_t],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],l(ct,"AttributeList").$rekey(a,[o,o,"linenums"])):(l(ct,"AttributeList").$rekey(a,[o,"language","linenums"]),_(a["$key?"]("language"))||_(I["$key?"]("source-language"))&&(F=["language",I["$[]"]("source-language")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)])),_(a["$key?"]("linenums"))||_(_(u=a["$[]"]("linenums-option"))?u:I["$[]"]("source-linenums-option"))&&(F=["linenums",""],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(a["$key?"]("indent"))||_(I["$key?"]("source-indent"))&&(F=["indent",I["$[]"]("source-indent")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)])),L=w.$build_block("listing","verbatim",B,s,$,a);else if("fenced_code"["$==="](W))F=["style","source"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],_(i(U=C.$length(),3))&&(_(dt=(_t=C.$slice(3,U)).$index(","))?_(i(dt,0))?(_t=_t.$slice(0,dt).$strip(),_(n(dt,e(U,4)))&&(F=["linenums",""],h(a,"[]=",t.to_a(F)),F[e(F.length,1)])):_(i(U,4))&&(F=["linenums",""],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]):_t=_t.$lstrip()),_(_t["$nil_or_empty?"]())?_(I["$key?"]("source-language"))&&(F=["language",I["$[]"]("source-language")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]):(F=["language",_t],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(a["$key?"]("linenums"))||_(_(u=a["$[]"]("linenums-option"))?u:I["$[]"]("source-linenums-option"))&&(F=["linenums",""],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),_(a["$key?"]("indent"))||_(I["$key?"]("source-indent"))&&(F=["indent",I["$[]"]("source-indent")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),B=B.$slice(0,3),L=w.$build_block("listing","verbatim",B,s,$,a);else if("table"["$==="](W))pt=$.$cursor(),ft=l(ct,"Reader").$new($.$read_lines_until(d(["terminator","skip_line_comments","context","cursor"],{terminator:B,skip_line_comments:!0,context:"table",cursor:"at_mark"})),pt),_(B["$start_with?"]("|","!"))||_(u=a["$[]"]("format"))||(F=["format",_(B["$start_with?"](","))?"csv":"dsv"],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),L=w.$parse_table(ft,s,a);else if("sidebar"["$==="](W))L=w.$build_block(N,"compound",B,s,$,a);else if("admonition"["$==="](W))F=["name",at=T.$downcase()],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],F=["textlabel",_(u=a.$delete("caption"))?u:I["$[]"](at+"-caption")],h(a,"[]=",t.to_a(F)),F[e(F.length,1)],L=w.$build_block(N,"compound",B,s,$,a);else if("open"["$==="](W)||"abstract"["$==="](W)||"partintro"["$==="](W))L=w.$build_block("open","compound",B,s,$,a);else if("literal"["$==="](W))L=w.$build_block(N,"verbatim",B,s,$,a);else if("example"["$==="](W))L=w.$build_block(N,"compound",B,s,$,a);else if("quote"["$==="](W)||"verse"["$==="](W))l(ct,"AttributeList").$rekey(a,[o,"attribution","citetitle"]),L=w.$build_block(N,N["$=="]("verse")?"verbatim":"compound",B,s,$,a);else if("stem"["$==="](W)||"latexmath"["$==="](W)||"asciimath"["$==="](W))N["$=="]("stem")&&(F=["style",l(ct,"STEM_TYPE_ALIASES")["$[]"](_(u=a["$[]"](2))?u:I["$[]"]("stem"))],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),L=w.$build_block("stem","raw",B,s,$,a);else if("pass"["$==="](W))L=w.$build_block(N,"raw",B,s,$,a);else{if("comment"["$==="](W))return w.$build_block(N,"skip",B,s,$,a),a.$clear(),o;if(_(_(u=S)?Z=O["$registered_for_block?"](N,D):u)){if((mt=(et=Z.$config())["$[]"]("content_model"))["$=="]("skip")||(_((yt=_(u=et["$[]"]("positional_attrs"))?u:et["$[]"]("pos_attrs"))["$nil_or_empty?"]())||l(ct,"AttributeList").$rekey(a,r([o],yt)),_(rt=et["$[]"]("default_attrs"))&&h(rt,"each",[],((v=function(r,n){var i;v.$$s;return null==r&&(r=o),null==n&&(n=o),_(i=a["$[]"](r))?i:(F=[r,n],h(a,"[]=",t.to_a(F)),F[e(F.length,1)])}).$$s=w,v.$$arity=2,v)),F=["cloaked-context",D],h(a,"[]=",t.to_a(F)),F[e(F.length,1)]),!_(L=w.$build_block(N,mt,B,s,$,a,d(["extension"],{extension:Z}))))return a.$clear(),o}else w.$raise("Unsupported block type "+N+" at "+$.$cursor())}return _(A.$sourcemap())&&(F=[$.$cursor_at_mark()],h(L,"source_location=",t.to_a(F)),F[e(F.length,1)]),_(a["$[]"]("title"))&&(F=[J=a.$delete("title")],h(L,"title=",t.to_a(F)),F[e(F.length,1)],_(_(u=gt=l(ct,"CAPTION_ATTR_NAMES")["$[]"](L.$context()))?A.$attributes()["$[]"](gt):u)&&L.$assign_caption(a.$delete("caption"))),F=[a["$[]"]("style")],h(L,"style=",t.to_a(F)),F[e(F.length,1)],_(x=_(u=L.$id())?u:(F=[a["$[]"]("id")],h(L,"id=",t.to_a(F)),F[e(F.length,1)]))&&(_(_(J)?J["$include?"](l(ct,"ATTR_REF_HEAD")):L["$title?"]())&&L.$title(),_(A.$register("refs",[x,L]))||w.$logger().$warn(w.$message_with_context("id assigned to block already in use: "+x,d(["source_location"],{source_location:$.$cursor_at_mark()})))),_(a["$empty?"]())||L.$update_attributes(a),L.$commit_subs(),_(L["$sub?"]("callouts"))&&(_(w.$catalog_callouts(L.$source(),A))||L.$remove_sub("callouts")),L}catch(e){if(e===t.returner)return e.$v;throw e}},k.$$arity=-3),t.defs(lt,"$read_paragraph_lines",E=function(r,n,i){var $=o,s=o;return null==i&&(i=d([],{})),$=["break_on_blank_lines",!0],h(i,"[]=",t.to_a($)),$[e($.length,1)],$=["break_on_list_continuation",!0],h(i,"[]=",t.to_a($)),$[e($.length,1)],$=["preserve_last_line",!0],h(i,"[]=",t.to_a($)),$[e($.length,1)],s=_(n)?_(l(ct,"Compliance").$block_terminates_paragraph())?l(ct,"StartOfBlockOrListProc"):l(ct,"StartOfListProc"):_(l(ct,"Compliance").$block_terminates_paragraph())?l(ct,"StartOfBlockProc"):l(ct,"NoOp"),h(r,"read_lines_until",[i],s.$to_proc())},E.$$arity=-3),t.defs(lt,"$is_delimited_block?",A=function(r,$){var s,a,c,u,h=o,d=o,p=o;if(null==$&&($=o),!_(_(s=i(h=r.$length(),1))?l(ct,"DELIMITED_BLOCK_HEADS")["$[]"](r.$slice(0,2)):s))return o;if(h["$=="](2))d=r,p=2;else if(_(n(h,5))?(d=r,p=h):d=r.$slice(0,p=4),_(_(s=l(ct,"Compliance").$markdown_syntax())?d["$start_with?"]("`"):s)){if(p["$=="](4)){if(d["$=="]("````"))return o;if(!(d=d.$chop())["$=="]("```"))return o;r=d,h=p=3}else if(!d["$=="]("```"))return o}else if(p["$=="](3))return o;return a=l(ct,"DELIMITED_BLOCKS")["$[]"](d),c=null==(s=t.to_ary(a))[0]?o:s[0],u=null==s[1]?o:s[1],_(_(s=c)?_(a=h["$=="](p))?a:this["$uniform?"](r.$slice(1,h),l(ct,"DELIMITED_BLOCK_TAILS")["$[]"](d),e(h,1)):s)?!_($)||l(ct,"BlockMatchData").$new(c,u,d,r):o},A.$$arity=-2),t.defs(lt,"$build_block",O=function(t,e,r,n,$,s,a){var c,u=o,h=o,p=o,f=o,m=o,y=o,g=o,b=o,v=o;if(null==a&&(a=d([],{})),e["$=="]("skip")?(u=(c=[!0,"simple"])[0],h=c[1]):e["$=="]("raw")?(u=(c=[!1,"simple"])[0],h=c[1]):(u=(c=[!1,e])[0],h=c[1]),_(r["$nil?"]())?(h["$=="]("verbatim")?p=$.$read_lines_until(d(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),p=this.$read_paragraph_lines($,!1,d(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:u}))),f=o):_(h["$!="]("compound"))?(p=$.$read_lines_until(d(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:u,context:t,cursor:"at_mark"})),f=o):r["$=="](!1)?(p=o,f=$):(p=o,m=$.$cursor(),f=l(ct,"Reader").$new($.$read_lines_until(d(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:u,context:t,cursor:"at_mark"})),m)),e["$=="]("verbatim"))y=(_(c=s["$[]"]("tabsize"))?c:n.$document().$attributes()["$[]"]("tabsize")).$to_i(),_(g=s["$[]"]("indent"))?this["$adjust_indentation!"](p,g.$to_i(),y):_(i(y,0))&&this["$adjust_indentation!"](p,-1,y);else if(e["$=="]("skip"))return o;if(_(b=a["$[]"]("extension"))){if(s.$delete("style"),!_(v=b.$process_method()["$[]"](n,_(c=f)?c:l(ct,"Reader").$new(p),s.$merge())))return o;s.$replace(v.$attributes()),_((c=v.$content_model()["$=="]("compound"))?(p=v.$lines())["$empty?"]()["$!"]():v.$content_model()["$=="]("compound"))&&(e="compound",f=l(ct,"Reader").$new(p))}else v=l(ct,"Block").$new(n,t,d(["content_model","source","attributes"],{content_model:e,source:p,attributes:s}));return e["$=="]("compound")&&this.$parse_blocks(f,v),v},O.$$arity=-7),t.defs(lt,"$parse_blocks",S=function(t,e,r){var n,i,$=o;if(null==r&&(r=o),_(r))for(;_(_(n=_(i=$=this.$next_block(t,e,r.$merge()))?e.$blocks()["$<<"]($):i)?n:t["$has_more_lines?"]()););else for(;_(_(n=_(i=$=this.$next_block(t,e))?e.$blocks()["$<<"]($):i)?n:t["$has_more_lines?"]()););return o},S.$$arity=-3),t.defs(lt,"$parse_list",R=function(t,e,r,n){var i,$=o,s=o,a=o;for(null==p["~"]&&(p["~"]=o),$=l(ct,"List").$new(r,e),s=l(ct,"ListRxMap")["$[]"](e);_(_(i=t["$has_more_lines?"]())?s["$=~"](t.$peek_line()):i)&&(_(a=this.$parse_list_item(t,$,p["~"],(i=p["~"])===o?o:i["$[]"](1),n))&&$.$items()["$<<"](a),_(i=t.$skip_blank_lines())););return $},R.$$arity=4),t.defs(lt,"$catalog_callouts",C=function(t,e){var n,i=o,$=o;return i=!1,$=0,_(t["$include?"]("<"))&&h(t,"scan",[l(ct,"CalloutScanRx")],((n=function(){var t;n.$$s;return _(((t=p["~"])===o?o:t["$[]"](0))["$start_with?"]("\\"))||e.$callouts().$register(((t=p["~"])===o?o:t["$[]"](2))["$=="](".")?($=r($,1)).$to_s():(t=p["~"])===o?o:t["$[]"](2)),i=!0}).$$s=this,n.$$arity=0,n)),i},C.$$arity=2),t.defs(lt,"$catalog_inline_anchor",I=function(t,e,r,n,i){var $;return null==i&&(i=r.$document()),_(_($=e)?e["$include?"](l(ct,"ATTR_REF_HEAD")):$)&&(e=i.$sub_attributes(e)),_(i.$register("refs",[t,l(ct,"Inline").$new(r,"anchor",e,d(["type","id"],{type:"ref",id:t}))]))||(_(l(ct,"Reader")["$==="](n))&&(n=n.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+t,d(["source_location"],{source_location:n})))),o},I.$$arity=-5),t.defs(lt,"$catalog_inline_anchors",T=function(t,e,n,$){var s,a;return _(_(s=t["$include?"]("[["))?s:t["$include?"]("or:"))&&h(t,"scan",[l(ct,"InlineAnchorScanRx")],((a=function(){var t,s=a.$$s||this,c=o,u=o,h=o,f=o;if(_(c=(t=p["~"])===o?o:t["$[]"](1))){if(_(u=(t=p["~"])===o?o:t["$[]"](2))&&_(_(t=u["$include?"](l(ct,"ATTR_REF_HEAD")))?(u=n.$sub_attributes(u))["$empty?"]():t))return o}else if(c=(t=p["~"])===o?o:t["$[]"](3),_(u=(t=p["~"])===o?o:t["$[]"](4))&&(_(u["$include?"]("]"))&&(u=u.$gsub("\\]","]")),_(_(t=u["$include?"](l(ct,"ATTR_REF_HEAD")))?(u=n.$sub_attributes(u))["$empty?"]():t)))return o;return _(n.$register("refs",[c,l(ct,"Inline").$new(e,"anchor",u,d(["type","id"],{type:"ref",id:c}))]))?o:(h=$.$cursor_at_mark(),_(i(f=r(((t=p["~"])===o?o:t.$pre_match()).$count(l(ct,"LF")),_(((t=p["~"])===o?o:t["$[]"](0))["$start_with?"](l(ct,"LF")))?1:0),0))&&(h=h.$dup()).$advance(f),s.$logger().$warn(s.$message_with_context("id assigned to anchor already in use: "+c,d(["source_location"],{source_location:h}))))}).$$s=this,a.$$arity=0,a)),o},T.$$arity=4),t.defs(lt,"$catalog_inline_biblio_anchor",L=function(t,e,r,n){var i;return _(r.$document().$register("refs",[t,l(ct,"Inline").$new(r,"anchor",_(i=e)?"["+e+"]":i,d(["type","id"],{type:"bibref",id:t}))]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+t,d(["source_location"],{source_location:n.$cursor()}))),o},L.$$arity=4),t.defs(lt,"$parse_description_list",N=function(r,n,i){var $,s=o,a=o,c=o,u=o,d=o;for(null==p["~"]&&(p["~"]=o),s=l(ct,"List").$new(i,"dlist"),a=l(ct,"DescriptionListSiblingRx")["$[]"](n["$[]"](2)),s.$items()["$<<"](c=this.$parse_list_item(r,s,n,a));_(_($=r["$has_more_lines?"]())?a["$=~"](r.$peek_line()):$);)u=this.$parse_list_item(r,s,p["~"],a),_(c["$[]"](1))?s.$items()["$<<"](c=u):(c["$[]"](0)["$<<"](u["$[]"](0)["$[]"](0)),d=[1,u["$[]"](1)],h(c,"[]=",t.to_a(d)),d[e(d.length,1)]);return s},N.$$arity=3),t.defs(lt,"$parse_callout_list",D=function(n,i,$,s){var a,c,u=o,p=o,f=o,m=o,y=o,g=o,b=o;for(u=l(ct,"List").$new($,"colist"),p=1,f=0;_(_(a=i)?a:_(c=i=l(ct,"CalloutListRx").$match(n.$peek_line()))?n.$mark():c);)(m=i["$[]"](1))["$=="](".")&&(m=(f=r(f,1)).$to_s()),m["$=="](p.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+p+", got "+m,d(["source_location"],{source_location:n.$cursor_at_mark()}))),_(y=this.$parse_list_item(n,u,i,"<1>"))&&(u.$items()["$<<"](y),_((g=s.$callout_ids(u.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+u.$items().$size()+">",d(["source_location"],{source_location:n.$cursor_at_mark()}))):(b=["coids",g],h(y.$attributes(),"[]=",t.to_a(b)),b[e(b.length,1)])),p=r(p,1),i=o;return s.$next_list(),u},D.$$arity=4),t.defs(lt,"$parse_list_item",B=function(r,n,i,$,s){var a,c,u,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o;if(null==s&&(s=o),(f=n.$context())["$=="]("dlist")?(m=!0,y=l(ct,"ListItem").$new(n,g=i["$[]"](1)),_(_(a=g["$start_with?"]("[["))?l(ct,"LeadingInlineAnchorRx")["$=~"](g):a)&&this.$catalog_inline_anchor((a=p["~"])===o?o:a["$[]"](1),_(a=(c=p["~"])===o?o:c["$[]"](2))?a:((c=p["~"])===o?o:c.$post_match()).$lstrip(),y,r),_(b=i["$[]"](3))&&(v=!0),x=l(ct,"ListItem").$new(n,b),_(n.$document().$sourcemap())&&(w=[r.$cursor()],h(y,"source_location=",t.to_a(w)),w[e(w.length,1)],_(v)?(w=[y.$source_location()],h(x,"source_location=",t.to_a(w)),w[e(w.length,1)]):k=!0)):(v=!0,x=l(ct,"ListItem").$new(n,b=i["$[]"](2)),_(n.$document().$sourcemap())&&(w=[r.$cursor()],h(x,"source_location=",t.to_a(w)),w[e(w.length,1)]),f["$=="]("ulist")?(w=[$],h(x,"marker=",t.to_a(w)),w[e(w.length,1)],_(b["$start_with?"]("["))&&(_(_(a=s)?s["$=="]("bibliography"):a)?_(l(ct,"InlineBiblioAnchorRx")["$=~"](b))&&this.$catalog_inline_biblio_anchor((a=p["~"])===o?o:a["$[]"](1),(a=p["~"])===o?o:a["$[]"](2),x,r):_(b["$start_with?"]("[["))?_(l(ct,"LeadingInlineAnchorRx")["$=~"](b))&&this.$catalog_inline_anchor((a=p["~"])===o?o:a["$[]"](1),(a=p["~"])===o?o:a["$[]"](2),x,r):_(b["$start_with?"]("[ ] ","[x] ","[*] "))&&(n.$set_option("checklist"),w=["checkbox",""],h(x.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)],_(b["$start_with?"]("[ "))||(w=["checked",""],h(x.$attributes(),"[]=",t.to_a(w)),w[e(w.length,1)]),w=[b.$slice(4,b.$length())],h(x,"text=",t.to_a(w)),w[e(w.length,1)]))):f["$=="]("olist")?(c=this.$resolve_ordered_list_marker($,E=n.$items().$size(),!0,r),$=null==(a=t.to_ary(c))[0]?o:a[0],A=null==a[1]?o:a[1],w=[$],h(x,"marker=",t.to_a(w)),w[e(w.length,1)],_((a=E["$=="](0))?s["$!"]():E["$=="](0))&&(w=[_(a=A)?a:(_(c=l(ct,"ORDERED_LIST_STYLES")["$[]"](e($.$length(),1)))?c:"arabic").$to_s()],h(n,"style=",t.to_a(w)),w[e(w.length,1)]),_(_(a=b["$start_with?"]("[["))?l(ct,"LeadingInlineAnchorRx")["$=~"](b):a)&&this.$catalog_inline_anchor((a=p["~"])===o?o:a["$[]"](1),(a=p["~"])===o?o:a["$[]"](2),x,r)):(w=[$],h(x,"marker=",t.to_a(w)),w[e(w.length,1)],_(_(a=b["$start_with?"]("[["))?l(ct,"LeadingInlineAnchorRx")["$=~"](b):a)&&this.$catalog_inline_anchor((a=p["~"])===o?o:a["$[]"](1),(a=p["~"])===o?o:a["$[]"](2),x,r))),r.$shift(),u=r.$cursor(),O=l(ct,"Reader").$new(this.$read_lines_for_list_item(r,f,$,v),u),_(O["$has_more_lines?"]())){for(_(k)&&(w=[u],h(x,"source_location=",t.to_a(w)),w[e(w.length,1)]),S=O.$skip_line_comments(),_(R=O.$peek_line())&&(_(S["$empty?"]())||O.$unshift_lines(S),_(R["$empty?"]())||(C=!0,_(m)||(v=o))),_(I=this.$next_block(O,x,d([],{}),d(["text_only","list_type"],{text_only:!_(v)||o,list_type:f})))&&x.$blocks()["$<<"](I);_(O["$has_more_lines?"]());)_(I=this.$next_block(O,x,d([],{}),d(["list_type"],{list_type:f})))&&x.$blocks()["$<<"](I);_(_(a=_(c=C)?T=x.$blocks()["$[]"](0):c)?T.$context()["$=="]("paragraph"):a)&&x.$fold_first()}return _(m)?[[y],_(_(a=x["$text?"]())?a:x["$blocks?"]())?x:o]:x},B.$$arity=-5),t.defs(lt,"$read_lines_for_list_item",M=function(r,n,i,$){var s,a,c,u,f,m,y,g,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o;for(null==i&&(i=o),null==$&&($=!0),b=[],v="inactive",x=!1,w=o,g=n["$=="]("dlist");_(r["$has_more_lines?"]())&&(k=r.$read_line(),!_(this["$is_sibling_list_item?"](k,n,i)));)if((E=_(b["$empty?"]())?o:b["$[]"](-1))["$=="](l(ct,"LIST_CONTINUATION"))&&(v["$=="]("inactive")&&(v="active",$=!0,_(x)||(A=[-1,""],h(b,"[]=",t.to_a(A)),A[e(A.length,1)])),k["$=="](l(ct,"LIST_CONTINUATION"))))_(v["$!="]("frozen"))&&(v="frozen",b["$<<"](k)),k=o;else{if(_(O=this["$is_delimited_block?"](k,!0))){if(!v["$=="]("active"))break;b["$<<"](k),b.$concat(r.$read_lines_until(d(["terminator","read_last_line","context"],{terminator:O.$terminator(),read_last_line:!0,context:o}))),v="inactive"}else{if(_(_(s=_(a=g)?v["$!="]("active"):a)?l(ct,"BlockAttributeLineRx")["$match?"](k):s))break;if(_((s=v["$=="]("active"))?k["$empty?"]()["$!"]():v["$=="]("active")))_(l(ct,"LiteralParagraphRx")["$match?"](k))?(r.$unshift_line(k),_(g)?b.$concat(h(r,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((c=function(t){var e=c.$$s||this;return null==t&&(t=o),e["$is_sibling_list_item?"](t,n,i)}).$$s=this,c.$$arity=1,c))):b.$concat(r.$read_lines_until(d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),v="inactive"):_(_(s=_(a=l(ct,"BlockTitleRx")["$match?"](k))?a:l(ct,"BlockAttributeLineRx")["$match?"](k))?s:l(ct,"AttributeEntryRx")["$match?"](k))?b["$<<"](k):(_(S=h(_(x)?["dlist"]:l(ct,"NESTABLE_LIST_CONTEXTS"),"find",[],((u=function(t){u.$$s;return null==t&&(t=o),l(ct,"ListRxMap")["$[]"](t)["$match?"](k)}).$$s=this,u.$$arity=1,u)))&&(x=!0,_((s=S["$=="]("dlist"))?((a=p["~"])===o?o:a["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&($=!1)),b["$<<"](k),v="inactive");else if(_(_(s=E)?E["$empty?"]():s)){if(_(k["$empty?"]())){if(!_(k=_(s=r.$skip_blank_lines())?r.$read_line():s))break;if(_(this["$is_sibling_list_item?"](k,n,i)))break}if(k["$=="](l(ct,"LIST_CONTINUATION")))w=b.$size(),b["$<<"](k);else if(_($)){if(_(this["$is_sibling_list_item?"](k,n,i)))break;if(_(S=h(l(ct,"NESTABLE_LIST_CONTEXTS"),"find",[],((f=function(t){f.$$s;return null==t&&(t=o),l(ct,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,f.$$arity=1,f))))b["$<<"](k),x=!0,_((s=S["$=="]("dlist"))?((a=p["~"])===o?o:a["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&($=!1);else{if(!_(l(ct,"LiteralParagraphRx")["$match?"](k)))break;r.$unshift_line(k),_(g)?b.$concat(h(r,"read_lines_until",[d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((m=function(t){var e=m.$$s||this;return null==t&&(t=o),e["$is_sibling_list_item?"](t,n,i)}).$$s=this,m.$$arity=1,m))):b.$concat(r.$read_lines_until(d(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else _(x)||b.$pop(),b["$<<"](k),$=!0}else _(k["$empty?"]())||($=!0),_(S=h(_(x)?["dlist"]:l(ct,"NESTABLE_LIST_CONTEXTS"),"find",[],((y=function(t){y.$$s;return null==t&&(t=o),l(ct,"ListRxMap")["$[]"](t)["$=~"](k)}).$$s=this,y.$$arity=1,y)))&&(x=!0,_((s=S["$=="]("dlist"))?((a=p["~"])===o?o:a["$[]"](3))["$nil_or_empty?"]():S["$=="]("dlist"))&&($=!1)),b["$<<"](k)}k=o}for(_(k)&&r.$unshift_line(k),_(w)&&(A=[w,""],h(b,"[]=",t.to_a(A)),A[e(A.length,1)]);!_(b["$empty?"]());){if(!_((R=b["$[]"](-1))["$empty?"]())){R["$=="](l(ct,"LIST_CONTINUATION"))&&b.$pop();break}b.$pop()}return b},M.$$arity=-3),t.defs(lt,"$initialize_section",F=function(r,n,$){var s,a,c,u,p,f,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o;return null==$&&($=d([],{})),m=n.$document(),c=(y=m.$doctype())["$=="]("book"),_(m.$sourcemap())&&(g=r.$cursor()),b=$["$[]"](1),a=this.$parse_section_title(r,m,$["$[]"]("id")),u=null==(s=t.to_ary(a))[0]?o:s[0],v=null==s[1]?o:s[1],x=null==s[2]?o:s[2],w=null==s[3]?o:s[3],p=null==s[4]?o:s[4],_(v)?(k=["reftext",v],h($,"[]=",t.to_a(k)),k[e(k.length,1)]):v=$["$[]"]("reftext"),_(b)?_(_(s=c)?b["$=="]("abstract"):s)?(E=(s=["chapter",1])[0],w=s[1]):_(_(s=b["$start_with?"]("sect"))?l(ct,"SectionLevelStyleRx")["$match?"](b):s)?E="section":(E=(s=[b,!0])[0],A=s[1],w["$=="](0)&&(w=1),O=E["$=="]("appendix")):_(c)?E=w["$=="](0)?"part":_(i(w,1))?"section":"chapter":_((s=y["$=="]("manpage"))?x.$casecmp("synopsis")["$=="](0):y["$=="]("manpage"))?(E=(s=["synopsis",!0])[0],A=s[1]):E="section",S=l(ct,"Section").$new(n,w),s=[u,x,E,g],S["$id="](s[0]),S["$title="](s[1]),S["$sectname="](s[2]),S["$source_location="](s[3]),_(A)?(k=[!0],h(S,"special=",t.to_a(k)),k[e(k.length,1)],_(O)?(k=[!0],h(S,"numbered=",t.to_a(k)),k[e(k.length,1)]):m.$attributes()["$[]"]("sectnums")["$=="]("all")&&(k=[!_(_(s=c)?w["$=="](1):s)||"chapter"],h(S,"numbered=",t.to_a(k)),k[e(k.length,1)])):_(_(s=m.$attributes()["$[]"]("sectnums"))?i(w,0):s)?(k=[!_(S.$special())||!!_(s=n.$numbered())||s],h(S,"numbered=",t.to_a(k)),k[e(k.length,1)]):_(_(s=_(a=c)?w["$=="](0):a)?m.$attributes()["$[]"]("partnums"):s)&&(k=[!0],h(S,"numbered=",t.to_a(k)),k[e(k.length,1)]),_(f=_(s=S.$id())?s:(k=[_(m.$attributes()["$key?"]("sectids"))?R=l(ct,"Section").$generate_id(S.$title(),m):o],h(S,"id=",t.to_a(k)),k[e(k.length,1)]))&&(_(R)||_(x["$include?"](l(ct,"ATTR_REF_HEAD")))&&S.$title(),_(m.$register("refs",[f,S]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+f,d(["source_location"],{source_location:r.$cursor_at_line(e(r.$lineno(),_(p)?1:2))})))),S.$update_attributes($),r.$skip_blank_lines(),S},F.$$arity=-3),t.defs(lt,"$is_next_line_section?",z=function(t,e){var r,n,i=o,$=o;return _(_(r=i=e["$[]"](1))?_(n=i["$=="]("discrete"))?n:i["$=="]("float"):r)?o:_(l(ct,"Compliance").$underline_style_section_titles())?($=t.$peek_lines(2,_(r=i)?i["$=="]("comment"):r),this["$is_section_title?"](_(r=$["$[]"](0))?r:"",$["$[]"](1))):this["$atx_section_title?"](_(r=t.$peek_line())?r:"")},z.$$arity=2),t.defs(lt,"$is_next_line_doctitle?",P=function(t,e,n){var i,$=o;return _(n)?_(i=$=this["$is_next_line_section?"](t,e))?r($,n.$to_i())["$=="](0):i:this["$is_next_line_section?"](t,e)["$=="](0)},P.$$arity=3),t.defs(lt,"$is_section_title?",j=function(t,e){var r,n=this;return null==e&&(e=o),_(r=n["$atx_section_title?"](t))?r:_(e["$nil_or_empty?"]())?o:n["$setext_section_title?"](t,e)},j.$$arity=-2),t.defs(lt,"$atx_section_title?",q=function(t){var r;return _(_(l(ct,"Compliance").$markdown_syntax())?_(r=t["$start_with?"]("=","#"))?l(ct,"ExtAtxSectionTitleRx")["$=~"](t):r:_(r=t["$start_with?"]("="))?l(ct,"AtxSectionTitleRx")["$=~"](t):r)?e(((r=p["~"])===o?o:r["$[]"](1)).$length(),1):o},q.$$arity=1),t.defs(lt,"$setext_section_title?",U=function(t,r){var i,$,s,a,c,u=o;return _(_(i=_($=_(s=a=l(ct,"SETEXT_SECTION_LEVELS")["$[]"](c=r.$chr()))?this["$uniform?"](r,c,u=r.$length()):s)?l(ct,"SetextSectionTitleRx")["$match?"](t):$)?n(e(t.$length(),u).$abs(),2):i)?a:o},U.$$arity=2),t.defs(lt,"$parse_section_title",H=function(t,i,$){var s,a,c,u,h,d=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o;return null==$&&($=o),d=o,f=t.$read_line(),_(_(l(ct,"Compliance").$markdown_syntax())?_(s=f["$start_with?"]("=","#"))?l(ct,"ExtAtxSectionTitleRx")["$=~"](f):s:_(s=f["$start_with?"]("="))?l(ct,"AtxSectionTitleRx")["$=~"](f):s)?(m=(s=[e(((a=p["~"])===o?o:a["$[]"](1)).$length(),1),(a=p["~"])===o?o:a["$[]"](2),!0])[0],y=s[1],g=s[2],_($)||_(_(s=_(a=y["$end_with?"]("]]"))?l(ct,"InlineSectionAnchorRx")["$=~"](y):a)?((a=p["~"])===o?o:a["$[]"](1))["$!"]():s)&&(s=[y.$slice(0,e(y.$length(),((a=p["~"])===o?o:a["$[]"](0)).$length())),(a=p["~"])===o?o:a["$[]"](2),(a=p["~"])===o?o:a["$[]"](3)],y=s[0],$=s[1],d=s[2])):_(_(s=_(a=_(c=_(u=_(h=l(ct,"Compliance").$underline_style_section_titles())?b=t.$peek_line(!0):h)?m=l(ct,"SETEXT_SECTION_LEVELS")["$[]"](v=b.$chr()):u)?this["$uniform?"](b,v,x=b.$length()):c)?y=_(c=l(ct,"SetextSectionTitleRx")["$=~"](f))?(u=p["~"])===o?o:u["$[]"](1):c:a)?n(e(f.$length(),x).$abs(),2):s)?(g=!1,_($)||_(_(s=_(a=y["$end_with?"]("]]"))?l(ct,"InlineSectionAnchorRx")["$=~"](y):a)?((a=p["~"])===o?o:a["$[]"](1))["$!"]():s)&&(s=[y.$slice(0,e(y.$length(),((a=p["~"])===o?o:a["$[]"](0)).$length())),(a=p["~"])===o?o:a["$[]"](2),(a=p["~"])===o?o:a["$[]"](3)],y=s[0],$=s[1],d=s[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$cursor_at_prev_line()),_(i["$attr?"]("leveloffset"))&&(m=r(m,i.$attr("leveloffset").$to_i()),_(n(m,0))&&(m=0)),[$,d,y,m,g]},H.$$arity=-3),t.defs(lt,"$parse_header_metadata",Y=function(n,i){var $,s,c,u,p=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o;if(null==i&&(i=o),p=_($=i)?i.$attributes():$,this.$process_attribute_entries(n,i),m=($=[f=d([],{}),o,o])[0],y=$[1],g=$[2],_(_($=n["$has_more_lines?"]())?n["$next_line_empty?"]()["$!"]():$)?(_((b=this.$process_authors(n.$read_line()))["$empty?"]())||(_(i)&&(h(b,"each",[],((s=function(r,n){s.$$s;var $=o;return null==r&&(r=o),null==n&&(n=o),_(p["$key?"](r))?o:($=[r,_(a("::","String")["$==="](n))?i.$apply_header_subs(n):n],h(p,"[]=",t.to_a($)),$[e($.length,1)])}).$$s=this,s.$$arity=2,s)),y=p["$[]"]("author"),g=p["$[]"]("authorinitials"),f=p["$[]"]("authors")),m=b),this.$process_attribute_entries(n,i),v=d([],{}),_(_($=n["$has_more_lines?"]())?n["$next_line_empty?"]()["$!"]():$)&&(x=n.$read_line(),_(w=l(ct,"RevisionInfoLineRx").$match(x))?(_(w["$[]"](1))&&(k=["revnumber",w["$[]"](1).$rstrip()],h(v,"[]=",t.to_a(k)),k[e(k.length,1)]),_((E=w["$[]"](2).$strip())["$empty?"]())||(_(_($=w["$[]"](1)["$!"]())?E["$start_with?"]("v"):$)?(k=["revnumber",E.$slice(1,E.$length())],h(v,"[]=",t.to_a(k)),k[e(k.length,1)]):(k=["revdate",E],h(v,"[]=",t.to_a(k)),k[e(k.length,1)])),_(w["$[]"](3))&&(k=["revremark",w["$[]"](3).$rstrip()],h(v,"[]=",t.to_a(k)),k[e(k.length,1)])):n.$unshift_line(x)),_(v["$empty?"]())||(_(i)&&h(v,"each",[],((c=function(r,n){c.$$s;return null==r&&(r=o),null==n&&(n=o),_(p["$key?"](r))?o:(k=[r,i.$apply_header_subs(n)],h(p,"[]=",t.to_a(k)),k[e(k.length,1)])}).$$s=this,c.$$arity=2,c)),m.$update(v)),this.$process_attribute_entries(n,i),n.$skip_blank_lines()):b=d([],{}),_(i)){if(_(_($=p["$key?"]("author"))?(A=p["$[]"]("author"))["$!="](y):$))b=this.$process_authors(A,!0,!1),_(p["$[]"]("authorinitials")["$!="](g))&&b.$delete("authorinitials");else if(_(_($=p["$key?"]("authors"))?(A=p["$[]"]("authors"))["$!="](f):$))b=this.$process_authors(A,!0);else{for(O=($=[[],1,"author_1",!1,!1])[0],S=$[1],R=$[2],C=$[3],I=$[4];_(p["$key?"](R));)(T=p["$[]"](R))["$=="](b["$[]"](R))?(O["$<<"](o),I=!0):(O["$<<"](T),C=!0),R="author_"+(S=r(S,1));_(C)?(_(I)&&h(O,"each_with_index",[],((u=function(n,i){var $,s=u.$$s||this,a=o;return null==n&&(n=o),null==i&&(i=o),_(n)?o:(k=[i,h([b["$[]"]("firstname_"+(a=r(i,1))),b["$[]"]("middlename_"+a),b["$[]"]("lastname_"+a)].$compact(),"map",[],($=function(t){$.$$s;return null==t&&(t=o),t.$tr(" ","_")},$.$$s=s,$.$$arity=1,$)).$join(" ")],h(O,"[]=",t.to_a(k)),k[e(k.length,1)])}).$$s=this,u.$$arity=2,u)),b=this.$process_authors(O,!0,!1)):b=d([],{})}_(b["$empty?"]())?_($=m["$[]"]("authorcount"))||(k=["authorcount",(k=["authorcount",0],h(p,"[]=",t.to_a(k)),k[e(k.length,1)])],h(m,"[]=",t.to_a(k)),k[e(k.length,1)]):(p.$update(b),_(_($=p["$key?"]("email")["$!"]())?p["$key?"]("email_1"):$)&&(k=["email",p["$[]"]("email_1")],h(p,"[]=",t.to_a(k)),k[e(k.length,1)]))}return m},Y.$$arity=-2),t.defs(lt,"$process_authors",G=function(n,i,$){var s,a,c,u=o,p=o;return null==i&&(i=!1),null==$&&($=!0),u=d([],{}),p=0,h(_(_(s=$)?n["$include?"](";"):s)?n.$split(l(ct,"AuthorDelimiterRx")):[].concat(t.to_a(n)),"each",[],((a=function(n){var $,s,c,f,m=a.$$s||this,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o;return null==n&&(n=o),_(n["$empty?"]())?o:(y=d([],{}),(p=r(p,1))["$=="](1)?h(l(ct,"AuthorKeys"),"each",[],(($=function(r){var n;$.$$s;return null==r&&(r=o),n=[r.$to_sym(),r],h(y,"[]=",t.to_a(n)),n[e(n.length,1)]}).$$s=m,$.$$arity=1,$)):h(l(ct,"AuthorKeys"),"each",[],((s=function(r){var n;s.$$s;return null==r&&(r=o),n=[r.$to_sym(),r+"_"+p],h(y,"[]=",t.to_a(n)),n[e(n.length,1)]}).$$s=m,s.$$arity=1,s)),_(i)?(_(n["$include?"]("<"))&&(g=[y["$[]"]("author"),n.$tr("_"," ")],h(u,"[]=",t.to_a(g)),g[e(g.length,1)],n=n.$gsub(l(ct,"XmlSanitizeRx"),"")),(b=n.$split(o,3)).$size()["$=="](3)&&b["$<<"](b.$pop().$squeeze(" "))):_(v=l(ct,"AuthorInfoLineRx").$match(n))&&(b=v.$to_a()).$shift(),_(b)?(g=[y["$[]"]("firstname"),w=b["$[]"](0).$tr("_"," ")],h(u,"[]=",t.to_a(g)),x=g[e(g.length,1)],g=[y["$[]"]("authorinitials"),w.$chr()],h(u,"[]=",t.to_a(g)),g[e(g.length,1)],_(b["$[]"](1))&&(_(b["$[]"](2))?(g=[y["$[]"]("middlename"),k=b["$[]"](1).$tr("_"," ")],h(u,"[]=",t.to_a(g)),g[e(g.length,1)],g=[y["$[]"]("lastname"),E=b["$[]"](2).$tr("_"," ")],h(u,"[]=",t.to_a(g)),g[e(g.length,1)],x=r(r(r(r(w," "),k)," "),E),g=[y["$[]"]("authorinitials"),""+w.$chr()+k.$chr()+E.$chr()],h(u,"[]=",t.to_a(g)),g[e(g.length,1)]):(g=[y["$[]"]("lastname"),E=b["$[]"](1).$tr("_"," ")],h(u,"[]=",t.to_a(g)),g[e(g.length,1)],x=r(r(w," "),E),g=[y["$[]"]("authorinitials"),""+w.$chr()+E.$chr()],h(u,"[]=",t.to_a(g)),g[e(g.length,1)])),_(c=u["$[]"](y["$[]"]("author")))||(g=[y["$[]"]("author"),x],h(u,"[]=",t.to_a(g)),g[e(g.length,1)]),_(_(c=i)?c:b["$[]"](3)["$!"]())||(g=[y["$[]"]("email"),b["$[]"](3)],h(u,"[]=",t.to_a(g)),g[e(g.length,1)])):(g=[y["$[]"]("author"),(g=[y["$[]"]("firstname"),w=n.$squeeze(" ").$strip()],h(u,"[]=",t.to_a(g)),g[e(g.length,1)])],h(u,"[]=",t.to_a(g)),g[e(g.length,1)],g=[y["$[]"]("authorinitials"),w.$chr()],h(u,"[]=",t.to_a(g)),g[e(g.length,1)]),p["$=="](1)?(g=["authors",u["$[]"](y["$[]"]("author"))],h(u,"[]=",t.to_a(g)),g[e(g.length,1)]):(p["$=="](2)&&h(l(ct,"AuthorKeys"),"each",[],((f=function(r){f.$$s;return null==r&&(r=o),_(u["$key?"](r))?(g=[r+"_1",u["$[]"](r)],h(u,"[]=",t.to_a(g)),g[e(g.length,1)]):o}).$$s=m,f.$$arity=1,f)),g=["authors",u["$[]"]("authors")+", "+u["$[]"](y["$[]"]("author"))],h(u,"[]=",t.to_a(g)),g[e(g.length,1)]))}).$$s=this,a.$$arity=1,a)),c=["authorcount",p],h(u,"[]=",t.to_a(c)),e(c.length,1),u},G.$$arity=-2),t.defs(lt,"$parse_block_metadata_lines",W=function(t,e,r,n){for(null==r&&(r=d([],{})),null==n&&(n=d([],{}));_(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),_(t.$skip_blank_lines())););return r},W.$$arity=-3),t.defs(lt,"$parse_block_metadata_line",K=function(r,n,i,$){var s,a,c=o,u=o,f=o,m=o,y=o,g=o;return null==p["~"]&&(p["~"]=o),null==$&&($=d([],{})),_(_(s=c=r.$peek_line())?_($["$[]"]("text_only"))?c["$start_with?"]("[","/"):u=c["$start_with?"]("[",".","/",":"):s)?_(c["$start_with?"]("["))?_(c["$start_with?"]("[["))?_(_(s=c["$end_with?"]("]]"))?l(ct,"BlockAnchorRx")["$=~"](c):s)?(f=["id",(s=p["~"])===o?o:s["$[]"](1)],h(i,"[]=",t.to_a(f)),f[e(f.length,1)],_(m=(s=p["~"])===o?o:s["$[]"](2))&&(f=["reftext",_(m["$include?"](l(ct,"ATTR_REF_HEAD")))?n.$sub_attributes(m):m],h(i,"[]=",t.to_a(f)),f[e(f.length,1)]),!0):o:_(_(s=c["$end_with?"]("]"))?l(ct,"BlockAttributeListRx")["$=~"](c):s)?(y=i["$[]"](1),_(n.$parse_attributes((s=p["~"])===o?o:s["$[]"](1),[],d(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:i}))["$[]"](1))&&(f=[1,_(s=this.$parse_style_attribute(i,r))?s:y],h(i,"[]=",t.to_a(f)),f[e(f.length,1)]),!0):o:_(_(s=u)?c["$start_with?"]("."):s)?_(l(ct,"BlockTitleRx")["$=~"](c))?(f=["title",(s=p["~"])===o?o:s["$[]"](1)],h(i,"[]=",t.to_a(f)),f[e(f.length,1)],!0):o:_(_(s=u["$!"]())?s:c["$start_with?"]("/"))?_(c["$start_with?"]("//"))?!!c["$=="]("//")||(_(_(s=u)?this["$uniform?"](c,"/",g=c.$length()):s)?g["$=="](3)?o:(r.$read_lines_until(d(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:c,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0):!_(c["$start_with?"]("///"))||o):o:_(_(s=_(a=u)?c["$start_with?"](":"):a)?l(ct,"AttributeEntryRx")["$=~"](c):s)?(this.$process_attribute_entry(r,n,i,p["~"]),!0):o:o},K.$$arity=-4),t.defs(lt,"$process_attribute_entries",X=function(t,e,r){for(null==r&&(r=o),t.$skip_comment_lines();_(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},X.$$arity=-3),t.defs(lt,"$process_attribute_entry",V=function(t,r,n,i){var $,s,a,c=o,u=o,h=o,d=o;if(null==n&&(n=o),null==i&&(i=o),_(_($=i)?$:i=_(t["$has_more_lines?"]())?l(ct,"AttributeEntryRx").$match(t.$peek_line()):o)){if(_((c=i["$[]"](2))["$nil_or_empty?"]()))c="";else if(_(c["$end_with?"](l(ct,"LINE_CONTINUATION"),l(ct,"LINE_CONTINUATION_LEGACY"))))for(u=($=[c.$slice(e(c.$length(),2),2),c.$slice(0,e(c.$length(),2)).$rstrip()])[0],c=$[1];_(_(s=t.$advance())?(h=_(a=t.$peek_line())?a:"")["$empty?"]()["$!"]():s)&&(h=h.$lstrip(),_(d=h["$end_with?"](u))&&(h=h.$slice(0,e(h.$length(),2)).$rstrip()),c=""+c+(_(c["$end_with?"](l(ct,"HARD_LINE_BREAK")))?l(ct,"LF"):" ")+h,_(d)););return this.$store_attribute(i["$[]"](1),c,r,n),!0}return o},V.$$arity=-3),t.defs(lt,"$store_attribute",J=function(t,n,i,$){var s,c=o;return null==i&&(i=o),null==$&&($=o),_(t["$end_with?"]("!"))?(t=t.$chop(),n=o):_(t["$start_with?"]("!"))&&(t=t.$slice(1,t.$length()),n=o),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")?t="sectnums":t["$=="]("hardbreaks")&&(t="hardbreaks-option"),_(i)?_(n)?(t["$=="]("leveloffset")&&(_(n["$start_with?"]("+"))?n=r(i.$attr("leveloffset",0).$to_i(),n.$slice(1,n.$length()).$to_i()).$to_s():_(n["$start_with?"]("-"))&&(n=e(i.$attr("leveloffset",0).$to_i(),n.$slice(1,n.$length()).$to_i()).$to_s())),_(c=i.$set_attribute(t,n))&&(n=c,_($)&&a(l(ct,"Document"),"AttributeEntry").$new(t,n).$save_to($))):_(_(s=i.$delete_attribute(t))?$:s)&&a(l(ct,"Document"),"AttributeEntry").$new(t,n).$save_to($):_($)&&a(l(ct,"Document"),"AttributeEntry").$new(t,n).$save_to($),[t,n]},J.$$arity=-3),t.defs(lt,"$resolve_list_marker",Z=function(t,e,r,n,i){return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=o),t["$=="]("ulist")?e:t["$=="]("olist")?this.$resolve_ordered_list_marker(e,r,n,i)["$[]"](0):"<1>"},Z.$$arity=-3),t.defs(lt,"$resolve_ordered_list_marker",Q=function(t,e,n,i){var $,s,a,c,u=o,p=o;return null==e&&(e=0),null==n&&(n=!1),null==i&&(i=o),_(t["$start_with?"]("."))?[t]:(a=c=h(l(ct,"ORDERED_LIST_STYLES"),"find",[],(($=function(e){$.$$s;return null==e&&(e=o),l(ct,"OrderedListMarkerRxMap")["$[]"](e)["$match?"](t)}).$$s=this,$.$$arity=1,$)),"arabic"["$==="](a)?(_(n)&&(u=r(e,1),p=t.$to_i()),t="1."):"loweralpha"["$==="](a)?(_(n)&&(u=r("a"["$[]"](0).$ord(),e).$chr(),p=t.$chop()),t="a."):"upperalpha"["$==="](a)?(_(n)&&(u=r("A"["$[]"](0).$ord(),e).$chr(),p=t.$chop()),t="A."):"lowerroman"["$==="](a)?(_(n)&&(u=l(ct,"Helpers").$int_to_roman(r(e,1)).$downcase(),p=t.$chop()),t="i)"):"upperroman"["$==="](a)&&(_(n)&&(u=l(ct,"Helpers").$int_to_roman(r(e,1)),p=t.$chop()),t="I)"),_(_(s=n)?u["$!="](p):s)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+u+", got "+p,d(["source_location"],{source_location:i.$cursor()}))),[t,c])},Q.$$arity=-2),t.defs(lt,"$is_sibling_list_item?",tt=function(t,e,r){var n,i;return _(a("::","Regexp")["$==="](r))?r["$match?"](t):_(n=l(ct,"ListRxMap")["$[]"](e)["$=~"](t))?r["$=="](this.$resolve_list_marker(e,(i=p["~"])===o?o:i["$[]"](1))):n},tt.$$arity=3),t.defs(lt,"$parse_table",et=function(n,$,s){var c,u,d,p,f,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,N=o;for(m=l(ct,"Table").$new($,s),_(_(c=s["$key?"]("cols"))?(y=this.$parse_colspecs(s["$[]"]("cols")))["$empty?"]()["$!"]():c)&&(m.$create_columns(y),g=!0),f=_(c=n.$skip_blank_lines())?c:0,v=(c=[(b=a(l(ct,"Table"),"ParserContext").$new(n,m,s)).$format(),-1,o])[0],x=c[1],w=c[2],_(_(c=_(u=i(f,0))?u:s["$[]"]("header-option"))?c:s["$[]"]("noheader-option"))||(k=!0),c=!1;c||_(E=n.$read_line());){for(c=!1,_(_(u=A=i(x=r(x,1),0))?E["$empty?"]():u)?(E=o,_(w)&&(w=r(w,1))):v["$=="]("psv")&&(_(b["$starts_with_delimiter?"](E))?(E=E.$slice(1,E.$length()),b.$close_open_cell(),_(w)&&(w=o)):(d=this.$parse_cellspec(E,"start",b.$delimiter()),O=null==(u=t.to_ary(d))[0]?o:u[0],E=null==u[1]?o:u[1],_(O)?(b.$close_open_cell(O),_(w)&&(w=o)):_(_(u=w)?w["$=="](x):u)&&(k=(u=[!1,o])[0],w=u[1]))),_(A)||(n.$mark(),_(k)&&(_(_(u=n["$has_more_lines?"]())?n.$peek_line()["$empty?"]():u)?w=1:k=!1)),u=!1;u||_(!0);){if(u=!1,!_(_(d=E)?S=b.$match_delimiter(E):d)){T=[""+b.$buffer()+E+l(ct,"LF")],h(b,"buffer=",t.to_a(T)),T[e(T.length,1)],"csv"["$==="](I=v)?_(b["$buffer_has_unclosed_quotes?"]())?(_(_(d=w)?x["$=="](0):d)&&(k=(d=[!1,o])[0],w=d[1]),b.$keep_cell_open()):b.$close_cell(!0):"dsv"["$==="](I)?b.$close_cell(!0):b.$keep_cell_open();break}if(R=(d=[S.$pre_match(),S.$post_match()])[0],C=d[1],"csv"["$==="](I=v)){if(_(b["$buffer_has_unclosed_quotes?"](R))){if(b.$skip_past_delimiter(R),_((E=C)["$empty?"]()))break;u=!0;continue}T=[""+b.$buffer()+R],h(b,"buffer=",t.to_a(T)),T[e(T.length,1)]}else if("dsv"["$==="](I)){if(_(R["$end_with?"]("\\"))){if(b.$skip_past_escaped_delimiter(R),_((E=C)["$empty?"]())){T=[""+b.$buffer()+l(ct,"LF")],h(b,"buffer=",t.to_a(T)),T[e(T.length,1)],b.$keep_cell_open();break}u=!0;continue}T=[""+b.$buffer()+R],h(b,"buffer=",t.to_a(T)),T[e(T.length,1)]}else{if(_(R["$end_with?"]("\\"))){if(b.$skip_past_escaped_delimiter(R),_((E=C)["$empty?"]())){T=[""+b.$buffer()+l(ct,"LF")],h(b,"buffer=",t.to_a(T)),T[e(T.length,1)],b.$keep_cell_open();break}u=!0;continue}p=this.$parse_cellspec(R),O=null==(d=t.to_ary(p))[0]?o:d[0],L=null==d[1]?o:d[1],b.$push_cellspec(O),T=[""+b.$buffer()+L],h(b,"buffer=",t.to_a(T)),T[e(T.length,1)]}_((E=C)["$empty?"]())&&(E=o),b.$close_cell()}if(_(b["$cell_open?"]()))_(n["$has_more_lines?"]())||b.$close_cell(!0);else if(!_(u=n.$skip_blank_lines()))break}return _(_(c=(N=m.$attributes(),_(u=N["$[]"]("colcount"))?u:(T=["colcount",m.$columns().$size()],h(N,"[]=",t.to_a(T)),T[e(T.length,1)]))["$=="](0))?c:g)||m.$assign_column_widths(),_(k)&&(T=[!0],h(m,"has_header_option=",t.to_a(T)),T[e(T.length,1)],T=["header-option",""],h(s,"[]=",t.to_a(T)),T[e(T.length,1)]),m.$partition_header_footer(s),m},et.$$arity=3),t.defs(lt,"$parse_colspecs",rt=function(r){var n,i,$=o;return _(r["$include?"](" "))&&(r=r.$delete(" ")),r["$=="](r.$to_i().$to_s())?h(a("::","Array"),"new",[r.$to_i()],((n=function(){n.$$s;return d(["width"],{width:1})}).$$s=this,n.$$arity=0,n)):($=[],h(_(r["$include?"](","))?r.$split(",",-1):r.$split(";",-1),"each",[],((i=function(r){var n,s,a,c=i.$$s||this,u=o,p=o,f=o,m=o,y=o,g=o;return null==r&&(r=o),_(r["$empty?"]())?$["$<<"](d(["width"],{width:1})):_(u=l(ct,"ColumnSpecRx").$match(r))?(p=d([],{}),_(u["$[]"](2))&&(s=u["$[]"](2).$split("."),f=null==(n=t.to_ary(s))[0]?o:n[0],m=null==n[1]?o:n[1],_(_(n=f["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellHorzAlignments")["$key?"](f):n)&&(y=["halign",l(ct,"TableCellHorzAlignments")["$[]"](f)],h(p,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_(n=m["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellVertAlignments")["$key?"](m):n)&&(y=["valign",l(ct,"TableCellVertAlignments")["$[]"](m)],h(p,"[]=",t.to_a(y)),y[e(y.length,1)])),_(g=u["$[]"](3))?(y=["width",g["$=="]("~")?-1:g.$to_i()],h(p,"[]=",t.to_a(y)),y[e(y.length,1)]):(y=["width",1],h(p,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_(n=u["$[]"](4))?l(ct,"TableCellStyles")["$key?"](u["$[]"](4)):n)&&(y=["style",l(ct,"TableCellStyles")["$[]"](u["$[]"](4))],h(p,"[]=",t.to_a(y)),y[e(y.length,1)]),_(u["$[]"](1))?h(1,"upto",[u["$[]"](1).$to_i()],((a=function(){a.$$s;return $["$<<"](p.$merge())}).$$s=c,a.$$arity=0,a)):$["$<<"](p)):o}).$$s=this,i.$$arity=1,i)),$)},rt.$$arity=1),t.defs(lt,"$parse_cellspec",nt=function(r,n,i){var $,s,a,c=o,u=o,p=o,f=o,m=o,y=o;if(null==n&&(n="end"),null==i&&(i=o),c=($=[o,""])[0],u=$[1],n["$=="]("start")){if(!_(r["$include?"](i)))return[o,r];if(s=r.$partition(i),p=null==($=t.to_ary(s))[0]?o:$[0],i=null==$[1]?o:$[1],u=null==$[2]?o:$[2],!_(c=l(ct,"CellSpecStartRx").$match(p)))return[o,r];if(_(c["$[]"](0)["$empty?"]()))return[d([],{}),u]}else{if(!_(c=l(ct,"CellSpecEndRx").$match(r)))return[d([],{}),r];if(_(c["$[]"](0).$lstrip()["$empty?"]()))return[d([],{}),r.$rstrip()];u=c.$pre_match()}return a=d([],{}),_(c["$[]"](1))&&(s=c["$[]"](1).$split("."),$=t.to_ary(s),f=null==$[0]?o:$[0],m=null==$[1]?o:$[1],f=_(f["$nil_or_empty?"]())?1:f.$to_i(),m=_(m["$nil_or_empty?"]())?1:m.$to_i(),c["$[]"](2)["$=="]("+")?(f["$=="](1)||(y=["colspan",f],h(a,"[]=",t.to_a(y)),y[e(y.length,1)]),m["$=="](1)||(y=["rowspan",m],h(a,"[]=",t.to_a(y)),y[e(y.length,1)])):c["$[]"](2)["$=="]("*")&&(f["$=="](1)||(y=["repeatcol",f],h(a,"[]=",t.to_a(y)),y[e(y.length,1)]))),_(c["$[]"](3))&&(s=c["$[]"](3).$split("."),$=t.to_ary(s),f=null==$[0]?o:$[0],m=null==$[1]?o:$[1],_(_($=f["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellHorzAlignments")["$key?"](f):$)&&(y=["halign",l(ct,"TableCellHorzAlignments")["$[]"](f)],h(a,"[]=",t.to_a(y)),y[e(y.length,1)]),_(_($=m["$nil_or_empty?"]()["$!"]())?l(ct,"TableCellVertAlignments")["$key?"](m):$)&&(y=["valign",l(ct,"TableCellVertAlignments")["$[]"](m)],h(a,"[]=",t.to_a(y)),y[e(y.length,1)])),_(_($=c["$[]"](4))?l(ct,"TableCellStyles")["$key?"](c["$[]"](4)):$)&&(y=["style",l(ct,"TableCellStyles")["$[]"](c["$[]"](4))],h(a,"[]=",t.to_a(y)),y[e(y.length,1)]),[a,u]},nt.$$arity=-2),t.defs(lt,"$parse_style_attribute",it=function(n,i){var $,s,a,c,u=o,p=o,f=o,m=o,y=o,g=o,b=o;return null==i&&(i=o),_(_($=_(s=u=n["$[]"](1))?u["$include?"](" ")["$!"]():s)?l(ct,"Compliance").$shorthand_property_syntax():$)?(p=o,f="",m=d([],{}),h(u,"each_char",[],((a=function(t){var e=a.$$s||this,n=o;return null==t&&(t=o),"."["$==="](n=t)?(e.$yield_buffered_attribute(m,p,f,i),f="",p="role"):"#"["$==="](n)?(e.$yield_buffered_attribute(m,p,f,i),f="",p="id"):"%"["$==="](n)?(e.$yield_buffered_attribute(m,p,f,i),f="",p="option"):f=r(f,t)}).$$s=this,a.$$arity=1,a)),_(p)?(this.$yield_buffered_attribute(m,p,f,i),_(y=m["$[]"]("style"))&&(g=["style",y],h(n,"[]=",t.to_a(g)),g[e(g.length,1)]),_(m["$key?"]("id"))&&(g=["id",m["$[]"]("id")],h(n,"[]=",t.to_a(g)),g[e(g.length,1)]),_(m["$key?"]("role"))&&(g=["role",_((b=n["$[]"]("role"))["$nil_or_empty?"]())?m["$[]"]("role").$join(" "):b+" "+m["$[]"]("role").$join(" ")],h(n,"[]=",t.to_a(g)),g[e(g.length,1)]),_(m["$key?"]("option"))&&h(m["$[]"]("option"),"each",[],((c=function(r){c.$$s;return null==r&&(r=o),g=[r+"-option",""],h(n,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=this,c.$$arity=1,c)),y):(g=["style",u],h(n,"[]=",t.to_a(g)),g[e(g.length,1)])):(g=["style",u],h(n,"[]=",t.to_a(g)),g[e(g.length,1)])},it.$$arity=-2),t.defs(lt,"$yield_buffered_attribute",$t=function(r,n,i,$){var s,a=o;return _(n)?_(i["$empty?"]())?_($)?this.$logger().$warn(this.$message_with_context("invalid empty "+n+" detected in style attribute",d(["source_location"],{source_location:$.$cursor_at_prev_line()}))):this.$logger().$warn("invalid empty "+n+" detected in style attribute"):n["$=="]("id")?(_(r["$key?"]("id"))&&(_($)?this.$logger().$warn(this.$message_with_context("multiple ids detected in style attribute",d(["source_location"],{source_location:$.$cursor_at_prev_line()}))):this.$logger().$warn("multiple ids detected in style attribute")),a=[n,i],h(r,"[]=",t.to_a(a)),a[e(a.length,1)]):(_(s=r["$[]"](n))?s:(a=[n,[]],h(r,"[]=",t.to_a(a)),a[e(a.length,1)]))["$<<"](i):_(i["$empty?"]())||(a=["style",i],h(r,"[]=",t.to_a(a)),a[e(a.length,1)]),o},$t.$$arity=4),t.defs(lt,"$adjust_indentation!",st=function(s,a,c){var u,d,p,f,m,y,g,b=this,v=o,x=o,w=o;return null==a&&(a=0),null==c&&(c=0),_(s["$empty?"]())?o:(_(_(u=i(c,0))?h(s,"any?",[],((d=function(t){d.$$s;return null==t&&(t=o),t["$include?"](l(ct,"TAB"))}).$$s=b,d.$$arity=1,d)):u)&&(v=$(" ",c),function(){var n=t.new_brk();try{h(s,"map!",[],((p=function(n){var i,s,a=p.$$s||this,u=o,d=o,f=o,m=o,y=o;return null==n&&(n=o),_(n["$empty?"]())?n:_(u=n.$index(l(ct,"TAB")))?u["$=="](0)&&(d=0,function(){var e=t.new_brk();try{h(n,"each_byte",[],((i=function(n){i.$$s;return null==n&&(n=o),n["$=="](9)||t.brk(o,e),d=r(d,1)}).$$s=a,i.$$brk=e,i.$$arity=1,i))}catch(t){if(t===e)return t.$v;throw t}}(),n=""+$(v,d)+n.$slice(d,n.$length()),!_(n["$include?"](l(ct,"TAB"))))?n:(f=0,m=0,y="",h(n,"each_char",[],((s=function(t){s.$$s;var n=o,i=o;return null==t&&(t=o),t["$=="](l(ct,"TAB"))?(n=r(m,f))["$%"](c)["$=="](0)?(f=r(f,e(c,1)),y=r(y,v)):((i=e(c,n["$%"](c)))["$=="](1)||(f=r(f,e(i,1))),y=r(y,$(" ",i))):y=r(y,t),m=r(m,1)}).$$s=a,s.$$arity=1,s)),y):n}).$$s=b,p.$$brk=n,p.$$arity=1,p))}catch(t){if(t===n)return t.$v;throw t}}()),_(n(a,0))?o:(x=o,function(){var r=t.new_brk();try{h(s,"each",[],((f=function(i){f.$$s;var $,s=o;return null==i&&(i=o),_(i["$empty?"]())?o:((s=e(i.$length(),i.$lstrip().$length()))["$=="](0)&&(x=o,t.brk(o,r)),_(_($=x)?n(x,s):$)?o:x=s)}).$$s=b,f.$$brk=r,f.$$arity=1,f))}catch(t){if(t===r)return t.$v;throw t}}(),a["$=="](0)?_(x)&&h(s,"map!",[],((m=function(t){m.$$s;return null==t&&(t=o),_(t["$empty?"]())?t:t.$slice(x,t.$length())}).$$s=b,m.$$arity=1,m)):(w=$(" ",a),_(x)?h(s,"map!",[],((y=function(t){y.$$s;return null==t&&(t=o),_(t["$empty?"]())?t:r(w,t.$slice(x,t.$length()))}).$$s=b,y.$$arity=1,y)):h(s,"map!",[],((g=function(t){g.$$s;return null==t&&(t=o),_(t["$empty?"]())?t:r(w,t)}).$$s=b,g.$$arity=1,g))),o))},st.$$arity=-2),t.defs(lt,"$uniform?",ot=function(t,e,r){return t.$count(e)["$=="](r)},ot.$$arity=3),t.defs(lt,"$sanitize_attribute_name",at=function(t){return t.$gsub(l(ct,"InvalidAttributeNameCharsRx"),"").$downcase()},at.$$arity=1)}(m[0],0,m)}(s[0],s)},Opal.modules["asciidoctor/path_resolver"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.klass,a=t.truthy,l=t.hash2,c=t.send,u=t.gvars;return t.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$extract_uri_prefix","$end_with?","$gsub","$private","$=~"]),function(r,h){var _=[s(r,"Asciidoctor")].concat(h);!function(r,s,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O=o(r,null,"PathResolver"),S=[O].concat(h);O.$$prototype.file_separator=O.$$prototype._partition_path_web=O.$$prototype._partition_path_sys=O.$$prototype.working_dir=n,O.$include($(S,"Logging")),t.const_set(S[0],"DOT","."),t.const_set(S[0],"DOT_DOT",".."),t.const_set(S[0],"DOT_SLASH","./"),t.const_set(S[0],"SLASH","/"),t.const_set(S[0],"BACKSLASH","\\"),t.const_set(S[0],"DOUBLE_SLASH","//"),t.const_set(S[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),t.def(O,"$initialize",_=function(t,e){var r,$,s=this;return null==t&&(t=n),null==e&&(e=n),s.file_separator=a(r=a($=t)?$:i(i("::","File"),"ALT_SEPARATOR"))?r:i(i("::","File"),"SEPARATOR"),s.working_dir=a(e)?a(s["$root?"](e))?s.$posixify(e):i("::","File").$expand_path(e):i("::","Dir").$pwd(),s._partition_path_sys=l([],{}),s._partition_path_web=l([],{})},_.$$arity=-1),t.def(O,"$absolute_path?",d=function(t){var e;return a(e=t["$start_with?"]($(S,"SLASH")))?e:this.file_separator["$=="]($(S,"BACKSLASH"))?$(S,"WindowsRootRx")["$match?"](t):this.file_separator["$=="]($(S,"BACKSLASH"))},d.$$arity=1),a($(S,"RUBY_ENGINE")["$=="]("opal")?i("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):$(S,"RUBY_ENGINE")["$=="]("opal"))?t.def(O,"$root?",p=function(t){var e;return a(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},p.$$arity=1):t.alias(O,"root?","absolute_path?"),t.def(O,"$unc?",f=function(t){return t["$start_with?"]($(S,"DOUBLE_SLASH"))},f.$$arity=1),t.def(O,"$web_root?",m=function(t){return t["$start_with?"]($(S,"SLASH"))},m.$$arity=1),t.def(O,"$descends_from?",y=function(t,r){var n;return r["$=="](t)?0:r["$=="]($(S,"SLASH"))?a(n=t["$start_with?"]($(S,"SLASH")))?1:n:a(n=t["$start_with?"](e(r,$(S,"SLASH"))))?e(r.$length(),1):n},y.$$arity=2),t.def(O,"$relative_path",g=function(e,r){var i=n;if(!a(this["$root?"](e)))return e;if(a(i=this["$descends_from?"](e,r)))return e.$slice(i,e.$length());try{return $(S,"Pathname").$new(e).$relative_path_from($(S,"Pathname").$new(r)).$to_s()}catch(r){if(!t.rescue(r,[$(S,"StandardError")]))throw r;try{return e}finally{t.pop_exception()}}},g.$$arity=2),t.def(O,"$posixify",b=function(t){return a(t)?a(this.file_separator["$=="]($(S,"BACKSLASH"))?t["$include?"]($(S,"BACKSLASH")):this.file_separator["$=="]($(S,"BACKSLASH")))?t.$tr($(S,"BACKSLASH"),$(S,"SLASH")):t:""},b.$$arity=1),t.alias(O,"posixfy","posixify"),t.def(O,"$expand_path",v=function(e){var r,i,s,o,l,u=n;return i=this.$partition_path(e),o=null==(r=t.to_ary(i))[0]?n:r[0],l=null==r[1]?n:r[1],a(e["$include?"]($(S,"DOT_DOT")))?(u=[],c(o,"each",[],((s=function(t){s.$$s;return null==t&&(t=n),t["$=="]($(S,"DOT_DOT"))?u.$pop():u["$<<"](t)}).$$s=this,s.$$arity=1,s)),this.$join_path(u,l)):this.$join_path(o,l)},v.$$arity=1),t.def(O,"$partition_path",x=function(r,i){var s,o,l,u,h=this,_=n,d=n,p=n,f=n;return null==i&&(i=n),a(s=(_=a(i)?h._partition_path_web:h._partition_path_sys)["$[]"](r))?s:(d=h.$posixify(r),a(i)?a(h["$web_root?"](d))?p=$(S,"SLASH"):a(d["$start_with?"]($(S,"DOT_SLASH")))&&(p=$(S,"DOT_SLASH")):a(h["$root?"](d))?p=a(h["$unc?"](d))?$(S,"DOUBLE_SLASH"):a(d["$start_with?"]($(S,"SLASH")))?$(S,"SLASH"):d.$slice(0,e(d.$index($(S,"SLASH")),1)):a(d["$start_with?"]($(S,"DOT_SLASH")))&&(p=$(S,"DOT_SLASH")),(f=(a(p)?d.$slice(p.$length(),d.$length()):d).$split($(S,"SLASH"))).$delete($(S,"DOT")),o=[r,[f,p]],c(_,"[]=",t.to_a(o)),o[(l=o.length,u=1,"number"==typeof l&&"number"==typeof u?l-u:l["$-"](u))])},x.$$arity=-2),t.def(O,"$join_path",w=function(t,e){return null==e&&(e=n),a(e)?""+e+t.$join($(S,"SLASH")):t.$join($(S,"SLASH"))},w.$$arity=-2),t.def(O,"$system_path",k=function(r,s,o,u){var h,_,d,p,f=n,m=n,y=n,g=n,b=n,v=n,x=n,w=n,k=n,E=n;if(null==s&&(s=n),null==o&&(o=n),null==u&&(u=l([],{})),a(o)&&(a(this["$root?"](o))||this.$raise(i("::","SecurityError"),"Jail is not an absolute path: "+o),o=this.$posixify(o)),a(r)){if(a(this["$root?"](r))){if(f=this.$expand_path(r),a(a(h=o)?this["$descends_from?"](f,o)["$!"]():h)){if(a(u.$fetch("recover",!0)))return this.$logger().$warn((a(h=u["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),_=this.$partition_path(f),m=null==(h=t.to_ary(_))[0]?n:h[0],null==h[1]?n:h[1],_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],g=null==h[1]?n:h[1],this.$join_path(e(y,m),g);this.$raise(i("::","SecurityError"),(a(h=u["$[]"]("target_name"))?h:"path")+" "+r+" is outside of jail: "+o+" (disallowed in safe mode)")}return f}_=this.$partition_path(r),m=null==(h=t.to_ary(_))[0]?n:h[0],null==h[1]?n:h[1]}else m=[];if(a(m["$empty?"]())){if(a(s["$nil_or_empty?"]()))return a(h=o)?h:this.working_dir;if(a(this["$root?"](s))){if(!a(o))return this.$expand_path(s);s=this.$posixify(s)}else _=this.$partition_path(s),m=null==(h=t.to_ary(_))[0]?n:h[0],null==h[1]?n:h[1],s=a(h=o)?h:this.working_dir}else a(s["$nil_or_empty?"]())?s=a(h=o)?h:this.working_dir:a(this["$root?"](s))?a(o)&&(s=this.$posixify(s)):s=(a(h=o)?h:this.working_dir).$chomp("/")+"/"+s;return a(a(h=a(_=o)?b=this["$descends_from?"](s,o)["$!"]():_)?this.file_separator["$=="]($(S,"BACKSLASH")):h)?(_=this.$partition_path(s),v=null==(h=t.to_ary(_))[0]?n:h[0],x=null==h[1]?n:h[1],_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],g=null==h[1]?n:h[1],a(x["$!="](g))&&(a(u.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(a(h=u["$[]"]("target_name"))?h:"path")+" is outside of jail root; recovering automatically"),v=y,b=!1):this.$raise(i("::","SecurityError"),"start path for "+(a(h=u["$[]"]("target_name"))?h:"path")+" "+s+" refers to location outside jail root: "+o+" (disallowed in safe mode)"))):(_=this.$partition_path(s),v=null==(h=t.to_ary(_))[0]?n:h[0],g=null==h[1]?n:h[1]),a((w=e(v,m))["$include?"]($(S,"DOT_DOT")))&&(k=(h=[w,[]])[0],w=h[1],a(o)?(a(y)||(_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],null==h[1]?n:h[1]),E=!1,c(k,"each",[],((d=function(t){var e,s,l,c=d.$$s||this;return null==t&&(t=n),t["$=="]($(S,"DOT_DOT"))?a((s=w.$size(),l=y.$size(),"number"==typeof s&&"number"==typeof l?s>l:s["$>"](l)))?w.$pop():a(u.$fetch("recover",!0))?a(E)?n:(c.$logger().$warn((a(e=u["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically"),E=!0):c.$raise(i("::","SecurityError"),(a(e=u["$[]"]("target_name"))?e:"path")+" "+r+" refers to location outside jail: "+o+" (disallowed in safe mode)"):w["$<<"](t)}).$$s=this,d.$$arity=1,d))):c(k,"each",[],((p=function(t){p.$$s;return null==t&&(t=n),t["$=="]($(S,"DOT_DOT"))?w.$pop():w["$<<"](t)}).$$s=this,p.$$arity=1,p))),a(b)?(f=this.$join_path(w,g),a(this["$descends_from?"](f,o))?f:a(u.$fetch("recover",!0))?(this.$logger().$warn((a(h=u["$[]"]("target_name"))?h:"path")+" is outside of jail; recovering automatically"),a(y)||(_=this.$partition_path(o),h=t.to_ary(_),y=null==h[0]?n:h[0],null==h[1]?n:h[1]),this.$join_path(e(y,m),g)):this.$raise(i("::","SecurityError"),(a(h=u["$[]"]("target_name"))?h:"path")+" "+r+" is outside of jail: "+o+" (disallowed in safe mode)")):this.$join_path(w,g)},k.$$arity=-2),t.def(O,"$web_path",E=function(e,r){var i,s,o,l,u=n,h=n,_=n,d=n;return null==r&&(r=n),e=this.$posixify(e),r=this.$posixify(r),a(a(i=r["$nil_or_empty?"]())?i:this["$web_root?"](e))||(s=this.$extract_uri_prefix(""+r+(a(r["$end_with?"]($(S,"SLASH")))?"":$(S,"SLASH"))+e),e=null==(i=t.to_ary(s))[0]?n:i[0],u=null==i[1]?n:i[1]),s=this.$partition_path(e,!0),l=null==(i=t.to_ary(s))[0]?n:i[0],h=null==i[1]?n:i[1],_=[],c(l,"each",[],((o=function(t){var e;o.$$s;return null==t&&(t=n),t["$=="]($(S,"DOT_DOT"))?a(_["$empty?"]())?a(a(e=h)?h["$!="]($(S,"DOT_SLASH")):e)?n:_["$<<"](t):_["$[]"](-1)["$=="]($(S,"DOT_DOT"))?_["$<<"](t):_.$pop():_["$<<"](t)}).$$s=this,o.$$arity=1,o)),a((d=this.$join_path(_,h))["$include?"](" "))&&(d=d.$gsub(" ","%20")),a(u)?""+u+d:d},E.$$arity=-2),O.$private(),t.def(O,"$extract_uri_prefix",A=function(t){var e;return a(a(e=t["$include?"](":"))?$(S,"UriSniffRx")["$=~"](t):e)?[t.$slice(((e=u["~"])===n?n:e["$[]"](0)).$length(),t.$length()),(e=u["~"])===n?n:e["$[]"](0)]:t},A.$$arity=1)}(_[0],0,_)}(r[0],r)},Opal.modules["asciidoctor/reader"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}t.top;var s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,h=t.hash2,_=t.truthy,d=t.send,p=t.gvars,f=t.hash;return t.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$prepare_lines","$drop","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$[]","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$new","$tap","$each","$instance_variables","$instance_variable_get","$instance_variable_set","$class","$object_id","$inspect","$private","$prepare_source_array","$prepare_source_string","$valid_encoding?","$to_s","$raise","$to_i","$attributes","$catalog","$pop_include","$parse","$path=","$dup","$end_with?","$keys","$rindex","$rootname","$key?","$attr","$>=","$nil?","$extensions?","$include_processors?","$extensions","$include_processors","$map","$skip_front_matter!","$pop","$adjust_indentation!","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$downcase","$error","$none?","$any?","$all?","$strip","$send","$resolve_expr_val","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$info","$parse_attributes","$find","$handles?","$instance","$process_method","$safe","$resolve_include_path","$method","$split_delimited_value","$partition","$<","$/","$to_a","$uniq","$sort","$call","$each_line","$infinite?","$push_include","$delete","$value?","$create_include_cursor","$delete_at","$read","$uriish?","$attr?","$require_library","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_f"]),function(s,m){var y=[c(s,"Asciidoctor")].concat(m);!function(i,$,s){var c,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J=u(i,null,"Reader"),Z=[J].concat(s);J.$$prototype.file=J.$$prototype.lines=J.$$prototype.look_ahead=J.$$prototype.unescape_next_line=J.$$prototype.lineno=J.$$prototype.process_lines=J.$$prototype.dir=J.$$prototype.path=J.$$prototype.mark=J.$$prototype.source_lines=J.$$prototype.saved=o,J.$include(l(Z,"Logging")),function(r,n,i){var $,s,a,l=u(r,null,"Cursor");[l].concat(i);l.$$prototype.lineno=l.$$prototype.path=o,l.$attr_reader("file","dir","path","lineno"),t.def(l,"$initialize",$=function(t,e,r,n){var i;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=1),i=[t,e,r,n],this.file=i[0],this.dir=i[1],this.path=i[2],this.lineno=i[3],i},$.$$arity=-2),t.def(l,"$advance",s=function(t){return this.lineno=e(this.lineno,t)},s.$$arity=1),t.def(l,"$line_info",a=function(){return this.path+": line "+this.lineno},a.$$arity=0),t.alias(l,"to_s","line_info")}(Z[0],0,Z),J.$attr_reader("file"),J.$attr_reader("dir"),J.$attr_reader("path"),J.$attr_reader("lineno"),J.$attr_reader("source_lines"),J.$attr_accessor("process_lines"),J.$attr_accessor("unterminated"),t.def(J,"$initialize",c=function(e,r,n){var i,$;return null==e&&(e=o),null==r&&(r=o),null==n&&(n=h([],{})),_(r["$!"]())?(this.file=o,this.dir=".",this.path="<stdin>",this.lineno=1):_(a("::","String")["$==="](r))?(this.file=r,$=a("::","File").$split(this.file),i=t.to_ary($),this.dir=null==i[0]?o:i[0],this.path=null==i[1]?o:i[1],this.lineno=1):(_(this.file=r.$file())?(this.dir=_(i=r.$dir())?i:a("::","File").$dirname(this.file),this.path=_(i=r.$path())?i:a("::","File").$basename(this.file)):(this.dir=_(i=r.$dir())?i:".",this.path=_(i=r.$path())?i:"<stdin>"),this.lineno=_(i=r.$lineno())?i:1),this.lines=this.$prepare_lines(e,n),this.source_lines=this.lines.$drop(0),this.mark=o,this.look_ahead=0,this.process_lines=!0,this.unescape_next_line=!1,this.unterminated=o,this.saved=o},c.$$arity=-1),t.def(J,"$has_more_lines?",p=function(){return!_(this.lines["$empty?"]())||(this.look_ahead=0,!1)},p.$$arity=0),t.def(J,"$empty?",f=function(){return!!_(this.lines["$empty?"]())&&(this.look_ahead=0,!0)},f.$$arity=0),t.alias(J,"eof?","empty?"),t.def(J,"$next_line_empty?",m=function(){return this.$peek_line()["$nil_or_empty?"]()},m.$$arity=0),t.def(J,"$peek_line",y=function(t){var e,n=o;return null==t&&(t=!1),_(_(e=t)?e:r(this.look_ahead,0))?_(this.unescape_next_line)?(n=this.lines["$[]"](0)).$slice(1,n.$length()):this.lines["$[]"](0):_(this.lines["$empty?"]())?(this.look_ahead=0,o):_(n=this.$process_line(this.lines["$[]"](0)))?n:this.$peek_line()},y.$$arity=-1),t.def(J,"$peek_lines",g=function(e,r){var i,$,s,a=this,c=o;return null==e&&(e=o),null==r&&(r=!1),s=a.look_ahead,c=[],function(){var s=t.new_brk();try{d(_(i=e)?i:l(Z,"MAX_INT"),"times",[],(($=function(){var e,i=$.$$s||this;if(null==i.lineno&&(i.lineno=o),_(e=_(r)?i.$shift():i.$read_line()))return c["$<<"](e);_(r)&&(i.lineno=n(i.lineno,1)),t.brk(o,s)}).$$s=a,$.$$brk=s,$.$$arity=0,$))}catch(t){if(t===s)return t.$v;throw t}}(),_(c["$empty?"]())||(a.$unshift_all(c),_(r)&&(a.look_ahead=s)),c},g.$$arity=-1),t.def(J,"$read_line",b=function(){var t;return _(_(t=r(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():o},b.$$arity=0),t.def(J,"$read_lines",v=function(){var t=o;for(t=[];_(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},v.$$arity=0),t.alias(J,"readlines","read_lines"),t.def(J,"$read",x=function(){return this.$read_lines().$join(l(Z,"LF"))},x.$$arity=0),t.def(J,"$advance",w=function(){return!!_(this.$shift())},w.$$arity=0),t.def(J,"$unshift_line",k=function(t){return this.$unshift(t),o},k.$$arity=1),t.alias(J,"restore_line","unshift_line"),t.def(J,"$unshift_lines",E=function(t){return this.$unshift_all(t),o},E.$$arity=1),t.alias(J,"restore_lines","unshift_lines"),t.def(J,"$replace_next_line",A=function(t){return this.$shift(),this.$unshift(t),!0},A.$$arity=1),t.alias(J,"replace_line","replace_next_line"),t.def(J,"$skip_blank_lines",O=function(){var t=o,r=o;if(_(this["$empty?"]()))return o;for(t=0;_(r=this.$peek_line());){if(!_(r["$empty?"]()))return t;this.$shift(),t=e(t,1)}},O.$$arity=0),t.def(J,"$skip_comment_lines",S=function(){var t,e,n,i=o,$=o;if(_(this["$empty?"]()))return o;for(;_(_(t=i=this.$peek_line())?i["$empty?"]()["$!"]():t)&&_(i["$start_with?"]("//"));)if(_(i["$start_with?"]("///"))){if(!_(_(t=r($=i.$length(),3))?i["$=="]((e="/",n=$,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n))):t))break;this.$read_lines_until(h(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:i,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else this.$shift();return o},S.$$arity=0),t.def(J,"$skip_line_comments",R=function(){var t,e=o,r=o;if(_(this["$empty?"]()))return[];for(e=[];_(_(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&_(r["$start_with?"]("//"));)e["$<<"](this.$shift());return e},R.$$arity=0),t.def(J,"$terminate",C=function(){return this.lineno=e(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,o},C.$$arity=0),t.def(J,"$read_lines_until",I=function(e){var r,i,$,s,a,c=I.$$p,u=c||o,p=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o;for(c&&(I.$$p=null),null==e&&(e=h([],{})),p=[],_(_(r=this.process_lines)?e["$[]"]("skip_processing"):r)&&(this.process_lines=!1,f=!0),_(m=e["$[]"]("terminator"))?(y=_(r=e["$[]"]("cursor"))?r:this.$cursor(),g=!1,b=!1):(g=e["$[]"]("break_on_blank_lines"),b=e["$[]"]("break_on_list_continuation")),a=e["$[]"]("skip_line_comments"),v=x=w=o,_(e["$[]"]("skip_first_line"))&&this.$shift();_(_(i=v["$!"]())?k=this.$read_line():i);)v=function(){for(;_(!0);)return!!_(_($=m)?k["$=="](m):$)||(!!_(_($=g)?k["$empty?"]():$)||(_(_($=_(s=b)?x:s)?k["$=="](l(Z,"LIST_CONTINUATION")):$)?(E=["preserve_last_line",!0],d(e,"[]=",t.to_a(E)),E[n(E.length,1)],!0):!!_(($=u!==o)?t.yield1(u,k):u!==o)));return o}(),_(v)?(_(e["$[]"]("read_last_line"))&&(p["$<<"](k),x=!0),_(e["$[]"]("preserve_last_line"))&&(this.$unshift(k),w=!0)):_(_(i=_($=a)?k["$start_with?"]("//"):$)?k["$start_with?"]("///")["$!"]():i)||(p["$<<"](k),x=!0);return _(f)&&(this.process_lines=!0,_(_(r=w)?m["$!"]():r)&&(this.look_ahead=n(this.look_ahead,1))),_(_(r=_(i=m)?m["$!="](k):i)?A=e.$fetch("context",m):r)&&(y["$=="]("at_mark")&&(y=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+A+" block",h(["source_location"],{source_location:y}))),this.unterminated=!0),p},I.$$arity=-1),t.def(J,"$shift",T=function(){return this.lineno=e(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=n(this.look_ahead,1)),this.lines.$shift()},T.$$arity=0),t.def(J,"$unshift",L=function(t){return this.lineno=n(this.lineno,1),this.look_ahead=e(this.look_ahead,1),this.lines.$unshift(t)},L.$$arity=1),t.def(J,"$unshift_all",N=function(r){return this.lineno=n(this.lineno,r.$size()),this.look_ahead=e(this.look_ahead,r.$size()),d(this.lines,"unshift",t.to_a(r))},N.$$arity=1),t.def(J,"$cursor",D=function(){return l(Z,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},D.$$arity=0),t.def(J,"$cursor_at_line",B=function(t){return l(Z,"Cursor").$new(this.file,this.dir,this.path,t)},B.$$arity=1),t.def(J,"$cursor_at_mark",M=function(){return _(this.mark)?d(l(Z,"Cursor"),"new",t.to_a(this.mark)):this.$cursor()},M.$$arity=0),t.def(J,"$cursor_before_mark",F=function(){var e,r,i=o,$=o,s=o,a=o;return _(this.mark)?(r=this.mark,i=null==(e=t.to_ary(r))[0]?o:e[0],$=null==e[1]?o:e[1],s=null==e[2]?o:e[2],a=null==e[3]?o:e[3],l(Z,"Cursor").$new(i,$,s,n(a,1))):l(Z,"Cursor").$new(this.file,this.dir,this.path,n(this.lineno,1))},F.$$arity=0),t.def(J,"$cursor_at_prev_line",z=function(){return l(Z,"Cursor").$new(this.file,this.dir,this.path,n(this.lineno,1))},z.$$arity=0),t.def(J,"$mark",P=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},P.$$arity=0),t.def(J,"$line_info",j=function(){return this.path+": line "+this.lineno},j.$$arity=0),t.def(J,"$lines",q=function(){return this.lines.$drop(0)},q.$$arity=0),t.def(J,"$string",U=function(){return this.lines.$join(l(Z,"LF"))},U.$$arity=0),t.def(J,"$source",H=function(){return this.source_lines.$join(l(Z,"LF"))},H.$$arity=0),t.def(J,"$save",Y=function(){var e;return this.saved=d(h([],{}),"tap",[],((e=function(r){var i,$=e.$$s||this;return null==r&&(r=o),d($.$instance_variables(),"each",[],((i=function(e){var $,s=i.$$s||this,l=o,c=o;return null==e&&(e=o),_(_($=e["$=="]("@saved"))?$:e["$=="]("@source_lines"))?o:(l=[e,_(a("::","Array")["$==="](c=s.$instance_variable_get(e)))?c.$drop(0):c],d(r,"[]=",t.to_a(l)),l[n(l.length,1)])}).$$s=$,i.$$arity=1,i))}).$$s=this,e.$$arity=1,e)),o},Y.$$arity=0),t.def(J,"$restore_save",G=function(){var t;return _(this.saved)?(d(this.saved,"each",[],((t=function(e,r){var n=t.$$s||this;return null==e&&(e=o),null==r&&(r=o),n.$instance_variable_set(e,r)}).$$s=this,t.$$arity=2,t)),this.saved=o):o},G.$$arity=0),t.def(J,"$discard_save",W=function(){return this.saved=o},W.$$arity=0),t.def(J,"$to_s",K=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+"}>"},K.$$arity=0),J.$private(),t.def(J,"$prepare_lines",X=function(e,r){null==r&&(r=h([],{}));try{return _(r["$[]"]("normalize"))?_(a("::","Array")["$==="](e))?l(Z,"Helpers").$prepare_source_array(e):l(Z,"Helpers").$prepare_source_string(e):_(a("::","Array")["$==="](e))?e.$drop(0):_(e)?e.$split(l(Z,"LF"),-1):[]}catch(r){if(!t.rescue(r,[l(Z,"StandardError")]))throw r;try{return _((_(a("::","Array")["$==="](e))?e.$join():e.$to_s())["$valid_encoding?"]())?this.$raise():this.$raise(a("::","ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{t.pop_exception()}}},X.$$arity=-2),t.def(J,"$process_line",V=function(t){return _(this.process_lines)&&(this.look_ahead=e(this.look_ahead,1)),t},V.$$arity=1)}(y[0],0,y),function(s,c,m){var y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F=u(s,c,"PreprocessorReader"),z=[F].concat(m);F.$$prototype.include_stack=F.$$prototype.lines=F.$$prototype.file=F.$$prototype.dir=F.$$prototype.path=F.$$prototype.lineno=F.$$prototype.maxdepth=F.$$prototype.process_lines=F.$$prototype.includes=F.$$prototype.document=F.$$prototype.unescape_next_line=F.$$prototype.include_processor_extensions=F.$$prototype.look_ahead=F.$$prototype.skipping=F.$$prototype.conditional_stack=o,F.$attr_reader("include_stack"),t.def(F,"$initialize",y=function(e,n,i,$){var s,a,l=y.$$p;return l&&(y.$$p=null),null==n&&(n=o),null==i&&(i=o),null==$&&($=h([],{})),this.document=e,d(this,t.find_super_dispatcher(this,"initialize",y,!1),[n,i,$],null),_(r(a=(_(s=e.$attributes()["$[]"]("max-include-depth"))?s:64).$to_i(),0))?this.maxdepth=h(["abs","curr","rel"],{abs:a,curr:a,rel:a}):this.maxdepth=o,this.include_stack=[],this.includes=e.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=o},y.$$arity=-2),t.def(F,"$has_more_lines?",g=function(){return!!_(this.$peek_line())},g.$$arity=0),t.def(F,"$empty?",b=function(){return!_(this.$peek_line())},b.$$arity=0),t.alias(F,"eof?","empty?"),t.def(F,"$peek_line",v=function(e){var r,n,i=v.$$p,$=o,s=o;for(i&&(v.$$p=null),s=0,n=arguments.length,$=new Array(n);s<n;s++)$[s]=arguments[s];return null==e&&(e=!1),_(r=d(this,t.find_super_dispatcher(this,"peek_line",v,!1),$,i))?r:_(this.include_stack["$empty?"]())?o:(this.$pop_include(),this.$peek_line(e))},v.$$arity=-1),t.def(F,"$push_include",x=function(i,$,s,c,u){var p,f=o,m=o,y=o,g=o,b=o,v=o;return null==$&&($=o),null==s&&(s=o),null==c&&(c=1),null==u&&(u=h([],{})),this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]),_(this.file=$)?(_(a("::","String")["$==="]($))?this.dir=a("::","File").$dirname($):_(l(z,"RUBY_ENGINE_OPAL"))?this.dir=a("::","URI").$parse(a("::","File").$dirname($=$.$to_s())):(f=[(m=a("::","File").$dirname($.$path()))["$=="]("/")?"":m],d(this.dir=$.$dup(),"path=",t.to_a(f)),f[n(f.length,1)],$=$.$to_s()),this.path=s=_(p=s)?p:a("::","File").$basename($),_(this.process_lines=d($,"end_with?",t.to_a(l(z,"ASCIIDOC_EXTENSIONS").$keys())))&&(f=[s.$slice(0,s.$rindex(".")),!_(u["$[]"]("partial-option"))||o],d(this.includes,"[]=",t.to_a(f)),f[n(f.length,1)])):(this.dir=".",this.process_lines=!0,_(this.path=s)?(f=[l(z,"Helpers").$rootname(s),!_(u["$[]"]("partial-option"))||o],d(this.includes,"[]=",t.to_a(f)),f[n(f.length,1)]):this.path="<stdin>"),this.lineno=c,_(_(p=this.maxdepth)?u["$key?"]("depth"):p)&&(_(r(y=u["$[]"]("depth").$to_i(),0))?(_(r(g=e(this.include_stack.$size(),y),b=this.maxdepth["$[]"]("abs")))&&(g=y=b),this.maxdepth=h(["abs","curr","rel"],{abs:b,curr:g,rel:y})):this.maxdepth=h(["abs","curr","rel"],{abs:this.maxdepth["$[]"]("abs"),curr:this.include_stack.$size(),rel:0})),_((this.lines=this.$prepare_lines(i,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:u["$[]"]("indent")})))["$empty?"]())?this.$pop_include():(_(u["$key?"]("leveloffset"))&&(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+u["$[]"]("leveloffset")),this.lines["$<<"](""),_(v=this.document.$attr("leveloffset"))?this.lines["$<<"](":leveloffset: "+v):this.lines["$<<"](":leveloffset!:"),this.lineno=n(this.lineno,2)),this.look_ahead=0),this},x.$$arity=-2),t.def(F,"$include_depth",w=function(){return this.include_stack.$size()},w.$$arity=0),t.def(F,"$exceeds_max_depth?",k=function(){var t,e;return _(t=_(e=this.maxdepth)?i(this.include_stack.$size(),this.maxdepth["$[]"]("curr")):e)?this.maxdepth["$[]"]("rel"):t},k.$$arity=0),t.alias(F,"exceeded_max_depth?","exceeds_max_depth?"),t.def(F,"$shift",E=function(){var e,r=E.$$p,n=o,i=o,$=o;for(r&&(E.$$p=null),$=0,e=arguments.length,i=new Array(e);$<e;$++)i[$]=arguments[$];return _(this.unescape_next_line)?(this.unescape_next_line=!1,(n=d(this,t.find_super_dispatcher(this,"shift",E,!1),i,r)).$slice(1,n.$length())):d(this,t.find_super_dispatcher(this,"shift",E,!1),i,r)},E.$$arity=0),t.def(F,"$include_processors?",A=function(){var t;return _(this.include_processor_extensions["$nil?"]())?_(_(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},A.$$arity=0),t.def(F,"$create_include_cursor",O=function(t,e,r){var n=o;return _(a("::","String")["$==="](t))?n=a("::","File").$dirname(t):_(l(z,"RUBY_ENGINE_OPAL"))?n=a("::","File").$dirname(t=t.$to_s()):(n=(n=a("::","File").$dirname(t.$path()))["$=="]("")?"/":n,t=t.$to_s()),l(z,"Cursor").$new(t,n,e,r)},O.$$arity=3),t.def(F,"$to_s",S=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+d(this.include_stack,"map",[],(t=function(e){t.$$s;return null==e&&(e=o),e.$to_s()},t.$$s=this,t.$$arity=1,t)).$join(", ")+"]}>"},S.$$arity=0),F.$private(),t.def(F,"$prepare_lines",R=function(r,i){var $,s,a,c=R.$$p,u=o,p=o,f=o,m=o,y=o,g=o,b=o;for(c&&(R.$$p=null),b=0,a=arguments.length,g=new Array(a);b<a;b++)g[b]=arguments[b];if(null==i&&(i=h([],{})),u=d(this,t.find_super_dispatcher(this,"prepare_lines",R,!1),g,c),_(_($=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):$)&&_(p=this["$skip_front_matter!"](u))&&(f=["front-matter",p.$join(l(z,"LF"))],d(this.document.$attributes(),"[]=",t.to_a(f)),f[n(f.length,1)]),_(i.$fetch("condense",!0))){for(;_(_(s=m=u["$[]"](0))?m["$empty?"]():s);)_(s=u.$shift())&&(this.lineno=e(this.lineno,1));for(;_(_(s=y=u["$[]"](-1))?y["$empty?"]():s);)u.$pop()}return _(i["$[]"]("indent"))&&l(z,"Parser")["$adjust_indentation!"](u,i["$[]"]("indent").$to_i(),this.document.$attr("tabsize").$to_i()),u},R.$$arity=-2),t.def(F,"$process_line",C=function(t){var r,n;return _(this.process_lines)?_(t["$empty?"]())?(this.look_ahead=e(this.look_ahead,1),t):_(_(r=_(n=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():n)?t["$include?"]("::"):r)?_(_(r=t["$include?"]("if"))?l(z,"ConditionalDirectiveRx")["$=~"](t):r)?((r=p["~"])===o?o:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t.$slice(1,t.$length())):_(this.$preprocess_conditional_directive((r=p["~"])===o?o:r["$[]"](2),(r=p["~"])===o?o:r["$[]"](3),(r=p["~"])===o?o:r["$[]"](4),(r=p["~"])===o?o:r["$[]"](5)))?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):_(this.skipping)?(this.$shift(),o):_(_(r=t["$start_with?"]("inc","\\inc"))?l(z,"IncludeDirectiveRx")["$=~"](t):r)?((r=p["~"])===o?o:r["$[]"](1))["$=="]("\\")?(this.unescape_next_line=!0,this.look_ahead=e(this.look_ahead,1),t.$slice(1,t.$length())):_(this.$preprocess_include_directive((r=p["~"])===o?o:r["$[]"](2),(r=p["~"])===o?o:r["$[]"](3)))?o:(this.look_ahead=e(this.look_ahead,1),t):(this.look_ahead=e(this.look_ahead,1),t):_(this.skipping)?(this.$shift(),o):(this.look_ahead=e(this.look_ahead,1),t):t},C.$$arity=1),t.def(F,"$preprocess_conditional_directive",I=function(t,e,r,i){var $,s,a,c,u,f,m=this,y=o,g=o,b=o,v=o,x=o,w=o;if(_(f=e["$empty?"]())||(e=e.$downcase()),t["$=="]("endif"))return _(i)?m.$logger().$error(m.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+e+"["+i+"]",h(["source_location"],{source_location:m.$cursor()}))):_(m.conditional_stack["$empty?"]())?m.$logger().$error(m.$message_with_context("unmatched preprocessor directive: endif::"+e+"[]",h(["source_location"],{source_location:m.$cursor()}))):_(_($=f)?$:e["$=="]((y=m.conditional_stack["$[]"](-1))["$[]"]("target")))?(m.conditional_stack.$pop(),m.skipping=!_(m.conditional_stack["$empty?"]())&&m.conditional_stack["$[]"](-1)["$[]"]("skipping")):m.$logger().$error(m.$message_with_context("mismatched preprocessor directive: endif::"+e+"[], expected endif::"+y["$[]"]("target")+"[]",h(["source_location"],{source_location:m.$cursor()}))),!0;if(_(m.skipping))g=!1;else if("ifdef"["$==="](b=t)){if(_(f))return m.$logger().$error(m.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+i+"]",h(["source_location"],{source_location:m.$cursor()}))),!0;g=","["$==="](b=r)?d(e.$split(",",-1),"none?",[],((s=function(t){var e=s.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=m,s.$$arity=1,s)):"+"["$==="](b)?d(e.$split("+",-1),"any?",[],((a=function(t){var e=a.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=m,a.$$arity=1,a)):m.document.$attributes()["$key?"](e)["$!"]()}else if("ifndef"["$==="](b)){if(_(f))return m.$logger().$error(m.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+i+"]",h(["source_location"],{source_location:m.$cursor()}))),!0;g=","["$==="](b=r)?d(e.$split(",",-1),"any?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=m,c.$$arity=1,c)):"+"["$==="](b)?d(e.$split("+",-1),"all?",[],((u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=o),null==t&&(t=o),e.document.$attributes()["$key?"](t)}).$$s=m,u.$$arity=1,u)):m.document.$attributes()["$key?"](e)}else if("ifeval"["$==="](b)){if(!_(f))return m.$logger().$error(m.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+e+"["+i+"]",h(["source_location"],{source_location:m.$cursor()}))),!0;if(!_(_($=i)?l(z,"EvalExpressionRx")["$=~"](i.$strip()):$))return m.$logger().$error(m.$message_with_context("malformed preprocessor directive - "+(_(i)?"invalid expression":"missing expression")+": ifeval::["+i+"]",h(["source_location"],{source_location:m.$cursor()}))),!0;v=($=p["~"])===o?o:$["$[]"](1),x=($=p["~"])===o?o:$["$[]"](2),w=($=p["~"])===o?o:$["$[]"](3),g=!_(m.$resolve_expr_val(v).$send(x,m.$resolve_expr_val(w)))}return _(_($=t["$=="]("ifeval"))?$:i["$!"]())?(_(g)&&(m.skipping=!0),m.conditional_stack["$<<"](h(["target","skip","skipping"],{target:e,skip:g,skipping:m.skipping}))):_(_($=m.skipping)?$:g)||(m.$replace_next_line(i.$rstrip()),m.$unshift(""),_(i["$start_with?"]("include::"))&&(m.look_ahead=n(m.look_ahead,1))),!0},I.$$arity=4),t.def(F,"$preprocess_include_directive",T=function(s,c){var u,m,y,g,b,v,x,w,k,E,A,O=this,S=o,R=o,C=o,I=o,T=o,L=o,N=o,D=o,B=o,M=o,F=o,P=o,j=o,q=o,U=o,H=o,Y=o,G=o,W=o,K=o,X=o,V=o,J=o,Z=o,Q=o;if(S=O.document,_(_(u=(R=s)["$include?"](l(z,"ATTR_REF_HEAD")))?(R=S.$sub_attributes(s,h(["attribute_missing"],{attribute_missing:(C=_(m=S.$attributes()["$[]"]("attribute-missing"))?m:l(z,"Compliance").$attribute_missing())["$=="]("warn")?"drop-line":C})))["$empty?"]():u))return _((u=C["$=="]("drop-line"))?S.$sub_attributes(e(s," "),h(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("drop-line"))?(d(O.$logger(),"info",[],((y=function(){var t=y.$$s||this;return t.$message_with_context("include dropped due to missing attribute: include::"+s+"["+c+"]",h(["source_location"],{source_location:t.$cursor()}))}).$$s=O,y.$$arity=0,y)),O.$shift(),!0):_(S.$parse_attributes(c,[],h(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(d(O.$logger(),"info",[],((g=function(){var t=g.$$s||this;return t.$message_with_context("optional include dropped "+(_(C["$=="]("warn")?S.$sub_attributes(e(s," "),h(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+s+"["+c+"]",h(["source_location"],{source_location:t.$cursor()}))}).$$s=O,g.$$arity=0,g)),O.$shift(),!0):(O.$logger().$warn(O.$message_with_context("include dropped "+(_((u=C["$=="]("warn"))?S.$sub_attributes(e(s," "),h(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]():C["$=="]("warn"))?"due to missing attribute":"because resolved target is blank")+": include::"+s+"["+c+"]",h(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+s+"["+c+"]"));if(_(_(u=O["$include_processors?"]())?I=d(O.include_processor_extensions,"find",[],((b=function(t){b.$$s;return null==t&&(t=o),t.$instance()["$handles?"](R)}).$$s=O,b.$$arity=1,b)):u))return O.$shift(),I.$process_method()["$[]"](S,O,R,S.$parse_attributes(c,[],h(["sub_input"],{sub_input:!0}))),!0;if(_(i(S.$safe(),a(l(z,"SafeMode"),"SECURE"))))return O.$replace_next_line("link:"+R+"[]");if(_(O.maxdepth)){if(_(i(O.include_stack.$size(),O.maxdepth["$[]"]("curr"))))return O.$logger().$error(O.$message_with_context("maximum include depth of "+O.maxdepth["$[]"]("rel")+" exceeded",h(["source_location"],{source_location:O.$cursor()}))),o;if(T=S.$parse_attributes(c,[],h(["sub_input"],{sub_input:!0})),m=O.$resolve_include_path(R,c,T),u=t.to_ary(m),L=null==u[0]?o:u[0],N=null==u[1]?o:u[1],D=null==u[2]?o:u[2],N["$=="]("file"))B=a("::","File").$method("open"),M=l(z,"FILE_READ_MODE");else{if(!N["$=="]("uri"))return L;B=a("::","OpenURI").$method("open_uri"),M=l(z,"URI_READ_MODE")}if(F=P=o,_(c)&&(_(T["$key?"]("lines"))?(F=[],d(O.$split_delimited_value(T["$[]"]("lines")),"each",[],((v=function(r){v.$$s;var n,i,s,a,l=o,c=o;return null==r&&(r=o),_(r["$include?"](".."))?(i=r.$partition(".."),n=t.to_ary(i),l=null==n[0]?o:n[0],null==n[1]?o:n[1],c=null==n[2]?o:n[2],F=e(F,_(_(n=c["$empty?"]())?n:(s=c=c.$to_i(),a=0,"number"==typeof s&&"number"==typeof a?s<a:s["$<"](a)))?[l.$to_i(),$(1,0)]:t.Range.$new(l.$to_i(),c,!1).$to_a())):F["$<<"](r.$to_i())}).$$s=O,v.$$arity=1,v)),F=_(F["$empty?"]())?o:F.$sort().$uniq()):_(T["$key?"]("tag"))?_(_(u=(j=T["$[]"]("tag"))["$empty?"]())?u:j["$=="]("!"))||(P=_(j["$start_with?"]("!"))?f(j.$slice(1,j.$length()),!1):f(j,!0)):_(T["$key?"]("tags"))&&(P=h([],{}),d(O.$split_delimited_value(T["$[]"]("tags")),"each",[],((x=function(e){x.$$s;var r,i=o;return null==e&&(e=o),_(_(r=e["$empty?"]())?r:e["$=="]("!"))?o:_(e["$start_with?"]("!"))?(i=[e.$slice(1,e.$length()),!1],d(P,"[]=",t.to_a(i)),i[n(i.length,1)]):(i=[e,!0],d(P,"[]=",t.to_a(i)),i[n(i.length,1)])}).$$s=O,x.$$arity=1,x)),_(P["$empty?"]())&&(P=o))),_(F)){q=(u=[[],o,0])[0],U=u[1],H=u[2];try{!function(){var r=t.new_brk();try{d(B,"call",[L,M],((w=function(r){var n,i=w.$$s||this,$=o;return null==r&&(r=o),$=o,function(){var s=t.new_brk();try{return d(r,"each_line",[],((n=function(r){n.$$s;var i,l,c=o;return null==r&&(r=o),H=e(H,1),_(_(i=$)?i:_(l=a("::","Float")["$==="](c=F["$[]"](0)))?$=c["$infinite?"]():l)?(U=_(i=U)?i:H,q["$<<"](r)):(c["$=="](H)&&(U=_(i=U)?i:H,q["$<<"](r),F.$shift()),_(F["$empty?"]())?void t.brk(o,s):o)}).$$s=i,n.$$brk=s,n.$$arity=1,n))}catch(t){if(t===s)return t.$v;throw t}}()}).$$s=O,w.$$brk=r,w.$$arity=1,w))}catch(t){if(t===r)return t.$v;throw t}}()}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+N+" not readable: "+L,h(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+c+"]")}finally{t.pop_exception()}}O.$shift(),_(U)&&(Y=["partial-option",""],d(T,"[]=",t.to_a(Y)),Y[n(Y.length,1)],O.$push_include(q,L,D,U,T))}else if(_(P)){u=[[],o,0,[],a("::","Set").$new(),o],q=u[0],U=u[1],H=u[2],G=u[3],W=u[4],K=u[5],_(P["$key?"]("**"))?_(P["$key?"]("*"))?(X=V=P.$delete("**"),J=P.$delete("*")):X=V=J=P.$delete("**"):(X=V=P["$value?"](!0)["$!"](),J=P.$delete("*"));try{d(B,"call",[L,M],((k=function(r){var n,i,$,s,a=k.$$s||this;return null==r&&(r=o),$=(n=["::","[]"])[0],s=n[1],d(r,"each_line",[],((i=function(r){var n,a,c,u=i.$$s||this,f=o,m=o,y=o;return null==r&&(r=o),H=e(H,1),_(_(n=_(a=r["$include?"]($))?r["$include?"](s):a)?l(z,"TagDirectiveRx")["$=~"](r):n)?(f=(n=p["~"])===o?o:n["$[]"](2),_((n=p["~"])===o?o:n["$[]"](1))?f["$=="](K)?(G.$pop(),a=_(G["$empty?"]())?[o,V]:G["$[]"](-1),n=t.to_ary(a),K=null==n[0]?o:n[0],X=null==n[1]?o:n[1],a):_(P["$key?"](f))?(m=u.$create_include_cursor(L,R,H),_(y=d(G,"rindex",[],((c=function(t,e){c.$$s;return null==t&&(t=o),null==e&&(e=o),t["$=="](f)}).$$s=u,c.$$arity=2,c)))?(y["$=="](0)?G.$shift():G.$delete_at(y),u.$logger().$warn(u.$message_with_context("mismatched end tag (expected '"+K+"' but found '"+f+"') at line "+H+" of include "+N+": "+L,h(["source_location","include_location"],{source_location:u.$cursor(),include_location:m})))):u.$logger().$warn(u.$message_with_context("unexpected end tag '"+f+"' at line "+H+" of include "+N+": "+L,h(["source_location","include_location"],{source_location:u.$cursor(),include_location:m})))):o:_(P["$key?"](f))?(W["$<<"](f),G["$<<"]([K=f,X=P["$[]"](f),H])):_(J["$nil?"]()["$!"]())?(X=!_(_(n=K)?X["$!"]():n)&&J,G["$<<"]([K=f,X,H])):o):_(X)?(U=_(n=U)?n:H,q["$<<"](r)):o}).$$s=a,i.$$arity=1,i))}).$$s=O,k.$$arity=1,k))}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+N+" not readable: "+L,h(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+c+"]")}finally{t.pop_exception()}}_(G["$empty?"]())||d(G,"each",[],((E=function(t,e,r){var n=E.$$s||this;return null==t&&(t=o),null==e&&(e=o),null==r&&(r=o),n.$logger().$warn(n.$message_with_context("detected unclosed tag '"+t+"' starting at line "+r+" of include "+N+": "+L,h(["source_location","include_location"],{source_location:n.$cursor(),include_location:n.$create_include_cursor(L,R,r)})))}).$$s=O,E.$$arity=3,E)),_((Z=n(P.$keys(),W.$to_a()))["$empty?"]())||O.$logger().$warn(O.$message_with_context("tag"+(_(r(Z.$size(),1))?"s":"")+" '"+Z.$join(", ")+"' not found in include "+N+": "+L,h(["source_location"],{source_location:O.$cursor()}))),O.$shift(),_(U)&&(_(_(u=_(m=V)?J:m)?P["$empty?"]():u)||(Y=["partial-option",""],d(T,"[]=",t.to_a(Y)),Y[n(Y.length,1)]),O.$push_include(q,L,D,U,T))}else try{Q=d(B,"call",[L,M],((A=function(t){A.$$s;return null==t&&(t=o),t.$read()}).$$s=O,A.$$arity=1,A)),O.$shift(),O.$push_include(Q,L,D,1,T)}catch(e){if(!t.rescue(e,[l(z,"StandardError")]))throw e;try{return O.$logger().$error(O.$message_with_context("include "+N+" not readable: "+L,h(["source_location"],{source_location:O.$cursor()}))),O.$replace_next_line("Unresolved directive in "+O.path+" - include::"+R+"["+c+"]")}finally{t.pop_exception()}}return!0}return o},T.$$arity=2),t.def(F,"$resolve_include_path",L=function(t,e,r){var n,i,$,s=this,c=o,u=o,p=o;return c=s.document,_(_(n=l(z,"Helpers")["$uriish?"](t))?n:_(a("::","String")["$==="](s.dir))?o:t=s.dir+"/"+t)?_(c["$attr?"]("allow-uri-read"))?(_(c["$attr?"]("cache-uri"))?_((i=a("::","OpenURI","skip_raise"))&&(n=a(i,"Cache","skip_raise"))?"constant":o)||l(z,"Helpers").$require_library("open-uri/cached","open-uri-cached"):_(l(z,"RUBY_ENGINE_OPAL")["$!"]())&&a("::","OpenURI"),[a("::","URI").$parse(t),"uri",t]):s.$replace_next_line("link:"+t+"["+e+"]"):(u=c.$normalize_system_path(t,s.dir,o,h(["target_name"],{target_name:"include file"})),_(a("::","File")["$file?"](u))?(p=c.$path_resolver().$relative_path(u,c.$base_dir()),[u,"file",p]):_(r["$[]"]("optional-option"))?(d(s.$logger(),"info",[],(($=function(){var t=$.$$s||this;return t.$message_with_context("optional include dropped because include file not found: "+u,h(["source_location"],{source_location:t.$cursor()}))}).$$s=s,$.$$arity=0,$)),s.$shift(),!0):(s.$logger().$error(s.$message_with_context("include file not found: "+u,h(["source_location"],{source_location:s.$cursor()}))),s.$replace_next_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]")))},L.$$arity=3),t.def(F,"$pop_include",N=function(){var e,n;return _(r(this.include_stack.$size(),0))?(n=this.include_stack.$pop(),e=t.to_ary(n),this.lines=null==e[0]?o:e[0],this.file=null==e[1]?o:e[1],this.dir=null==e[2]?o:e[2],this.path=null==e[3]?o:e[3],this.lineno=null==e[4]?o:e[4],this.maxdepth=null==e[5]?o:e[5],this.process_lines=null==e[6]?o:e[6],this.look_ahead=0,o):o},N.$$arity=0),t.def(F,"$split_delimited_value",D=function(t){return _(t["$include?"](","))?t.$split(","):t.$split(";")},D.$$arity=1),t.def(F,"$skip_front_matter!",B=function(r,n){var i,$=o,s=o;if(null==n&&(n=!0),$=o,r["$[]"](0)["$=="]("---")){for(s=r.$drop(0),r.$shift(),$=[],_(n)&&(this.lineno=e(this.lineno,1));_(_(i=r["$empty?"]()["$!"]())?r["$[]"](0)["$!="]("---"):i);)$["$<<"](r.$shift()),_(n)&&(this.lineno=e(this.lineno,1));_(r["$empty?"]())?(d(r,"unshift",t.to_a(s)),_(n)&&(this.lineno=0),$=o):(r.$shift(),_(n)&&(this.lineno=e(this.lineno,1)))}return $},B.$$arity=-2),t.def(F,"$resolve_expr_val",M=function(t){var e,r,i=o;return _(_(e=_(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:_(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(i=!0,t=t.$slice(1,n(t.$length(),1))):i=!1,_(t["$include?"](l(z,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,h(["attribute_missing"],{attribute_missing:"drop"}))),_(i)?t:_(t["$empty?"]())?o:!!t["$=="]("true")||!t["$=="]("false")&&(_(t.$rstrip()["$empty?"]())?" ":_(t["$include?"]("."))?t.$to_f():t.$to_i())},M.$$arity=1)}(y[0],l(y,"Reader"),y)}(s[0],s)},Opal.modules["asciidoctor/section"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,a=t.send,l=t.truthy;return t.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$==","$>","$sectnum","$reftext","$!","$empty?","$sub_placeholder","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),function(r,c){var u=[$(r,"Asciidoctor")].concat(c);!function(r,$,c){var u,h,_,d,p,f,m,y=s(r,$,"Section"),g=[y].concat(c);y.$$prototype.document=y.$$prototype.level=y.$$prototype.parent=y.$$prototype.numeral=y.$$prototype.numbered=y.$$prototype.sectname=y.$$prototype.title=y.$$prototype.blocks=n,y.$attr_accessor("index"),y.$attr_accessor("sectname"),y.$attr_accessor("special"),y.$attr_accessor("numbered"),y.$attr_reader("caption"),t.def(y,"$initialize",u=function(r,$,s,c){var h,_,d=u.$$p;return d&&(u.$$p=null),null==r&&(r=n),null==$&&($=n),null==s&&(s=!1),null==c&&(c=o([],{})),a(this,t.find_super_dispatcher(this,"initialize",u,!1),[r,"section",c],null),l(i(g,"Section")["$==="](r))?(h=[l(_=$)?_:e(r.$level(),1),r.$special()],this.level=h[0],this.special=h[1]):(h=[l(_=$)?_:1,!1],this.level=h[0],this.special=h[1]),this.numbered=s,this.index=0},u.$$arity=-1),t.alias(y,"name","title"),t.def(y,"$generate_id",h=function(){return i(g,"Section").$generate_id(this.$title(),this.document)},h.$$arity=0),t.def(y,"$sectnum",_=function(t,e){var r,$,s;return null==t&&(t="."),null==e&&(e=n),e=l(r=e)?r:e["$=="](!1)?"":t,l(l(($=this.level,s=1,r="number"==typeof $&&"number"==typeof s?$>s:$["$>"](s)))?i(g,"Section")["$==="](this.parent):r)?""+this.parent.$sectnum(t,t)+this.numeral+e:""+this.numeral+e},_.$$arity=-1),t.def(y,"$xreftext",d=function(t){var e,r=this,i=n,$=n,s=n,o=n,a=n;return null==t&&(t=n),l(l(e=i=r.$reftext())?i["$empty?"]()["$!"]():e)?i:l(t)?l(r.numbered)?"full"["$==="]($=t)?(o=l(l(e=(s=r.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?r.$sub_placeholder(r.$sub_quotes("_%s_"),r.$title()):r.$sub_placeholder(r.$sub_quotes(l(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),l(a=r.document.$attributes()["$[]"](s+"-refsig"))?a+" "+r.$sectnum(".",",")+" "+o:r.$sectnum(".",",")+" "+o):"short"["$==="]($)?l(a=r.document.$attributes()["$[]"](r.sectname+"-refsig"))?a+" "+r.$sectnum(".",""):r.$sectnum(".",""):l(l(e=(s=r.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?r.$sub_placeholder(r.$sub_quotes("_%s_"),r.$title()):r.$title():l(l(e=(s=r.sectname)["$=="]("chapter"))?e:s["$=="]("appendix"))?r.$sub_placeholder(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title()},d.$$arity=-1),t.def(y,"$<<",p=function(e){var r,i=p.$$p,$=n,s=n;for(i&&(p.$$p=null),s=0,r=arguments.length,$=new Array(r);s<r;s++)$[s]=arguments[s];return e.$context()["$=="]("section")&&this.$assign_numeral(e),a(this,t.find_super_dispatcher(this,"<<",p,!1),$,i)},p.$$arity=1),t.def(y,"$to_s",f=function(){var e,r=f.$$p,i=this,$=n,s=n,o=n;for(r&&(f.$$p=null),o=0,e=arguments.length,s=new Array(e);o<e;o++)s[o]=arguments[o];return l(i.title)?($=l(i.numbered)?i.$sectnum()+" "+i.title:i.title,"#<"+i.$class()+"@"+i.$object_id()+" {level: "+i.level+", title: "+$.$inspect()+", blocks: "+i.blocks.$size()+"}>"):a(i,t.find_super_dispatcher(i,"to_s",f,!1),s,r)},f.$$arity=0),t.defs(y,"$generate_id",m=function(r,$){var s,o,c,u,h=n,_=n,d=n,p=n,f=n,m=n,y=n,b=n,v=n,x=n;if(h=$.$attributes(),_=l(s=h["$[]"]("idprefix"))?s:"_",l(d=h["$[]"]("idseparator"))?l(l(s=d.$length()["$=="](1))?s:l(o=(p=d["$empty?"]())["$!"]())?(f=["idseparator",d.$chr()],a(h,"[]=",t.to_a(f)),d=f[(c=f.length,u=1,"number"==typeof c&&"number"==typeof u?c-u:c["$-"](u))]):o)&&(m=l(l(s=d["$=="]("-"))?s:d["$=="]("."))?" .-":" "+d+".-"):(d=(s=["_"," _.-"])[0],m=s[1]),y=""+_+r.$downcase().$gsub(i(g,"InvalidSectionIdCharsRx"),""),l(p)?y=y.$delete(" "):(y=y.$tr_s(m,d),l(y["$end_with?"](d))&&(y=y.$chop()),l(l(s=_["$empty?"]())?y["$start_with?"](d):s)&&(y=y.$slice(1,y.$length()))),l($.$catalog()["$[]"]("refs")["$key?"](y))){for(b=$.$catalog()["$[]"]("refs"),v=i(g,"Compliance").$unique_id_start_index();l(b["$[]"](x=""+y+d+v));)v=e(v,1);return x}return y},m.$$arity=2)}(u[0],i(u,"AbstractBlock"),u)}(r[0],r)},Opal.modules["asciidoctor/stylesheets"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.module),s=t.klass,o=t.truthy,a=t.hash2;return t.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$stylesheet_basename","$for","$read_stylesheet","$coderay_stylesheet_data","$coderay_stylesheet_name","$pygments_stylesheet_data","$pygments_stylesheet_name"]),function(e,l){var c=[$(e,"Asciidoctor")].concat(l);!function(e,$,l){var c,u,h,_,d,p,f,m,y,g,b,v,x,w=s(e,null,"Stylesheets"),k=[w].concat(l);w.$$prototype.primary_stylesheet_data=r,t.const_set(k[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(k[0],"STYLESHEETS_DIR",n("::","File").$join(i(k,"DATA_DIR"),"stylesheets")),w.__instance__=w.$new(),t.defs(w,"$instance",c=function(){return null==this.__instance__&&(this.__instance__=r),this.__instance__},c.$$arity=0),t.def(w,"$primary_stylesheet_name",u=function(){return i(k,"DEFAULT_STYLESHEET_NAME")},u.$$arity=0),t.def(w,"$primary_stylesheet_data",h=function(){var t;return this.primary_stylesheet_data=o(t=this.primary_stylesheet_data)?t:n("::","File").$read(n("::","File").$join(i(k,"STYLESHEETS_DIR"),"asciidoctor-default.css"),a(["mode"],{mode:i(k,"FILE_READ_MODE")})).$rstrip()},h.$$arity=0),t.def(w,"$embed_primary_stylesheet",_=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},_.$$arity=0),t.def(w,"$write_primary_stylesheet",d=function(t){return null==t&&(t="."),n("::","File").$write(n("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data(),a(["mode"],{mode:i(k,"FILE_WRITE_MODE")}))},d.$$arity=-1),t.def(w,"$coderay_stylesheet_name",p=function(){return i(k,"SyntaxHighlighter").$for("coderay").$stylesheet_basename()},p.$$arity=0),t.def(w,"$coderay_stylesheet_data",f=function(){return i(k,"SyntaxHighlighter").$for("coderay").$read_stylesheet()},f.$$arity=0),t.def(w,"$embed_coderay_stylesheet",m=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},m.$$arity=0),t.def(w,"$write_coderay_stylesheet",y=function(t){return null==t&&(t="."),n("::","File").$write(n("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data(),a(["mode"],{mode:i(k,"FILE_WRITE_MODE")}))},y.$$arity=-1),t.def(w,"$pygments_stylesheet_name",g=function(t){return null==t&&(t=r),i(k,"SyntaxHighlighter").$for("pygments").$stylesheet_basename(t)},g.$$arity=-1),t.def(w,"$pygments_stylesheet_data",b=function(t){return null==t&&(t=r),i(k,"SyntaxHighlighter").$for("pygments").$read_stylesheet(t)},b.$$arity=-1),t.def(w,"$embed_pygments_stylesheet",v=function(t){return null==t&&(t=r),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},v.$$arity=-1),t.def(w,"$write_pygments_stylesheet",x=function(t,e){return null==t&&(t="."),null==e&&(e=r),n("::","File").$write(n("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e),a(["mode"],{mode:i(k,"FILE_WRITE_MODE")}))},x.$$arity=-1)}(c[0],0,c)}(e[0],e)},Opal.modules["asciidoctor/table"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}t.top;var o=[],a=t.nil,l=t.const_get_qualified,c=t.const_get_relative,u=(t.breaker,t.slice,t.module),h=t.klass,_=t.hash2,d=t.send,p=t.truthy,f=t.gvars;return t.add_stubs(["$attr_accessor","$attr_reader","$new","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$truncate","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$round","$shift","$style=","$head=","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$delete","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$unshift","$nil?","$=~","$catalog_inline_anchor","$apply_subs","$convert","$map","$text","$!=","$file","$lineno","$to_s","$include","$to_set","$mark","$key?","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$!","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$private","$rows","$effective_column_visits"]),function(o,m){var y=[u(o,"Asciidoctor")].concat(m);!function(o,l,u){var f,m,y,g,b,v=h(o,l,"Table"),x=[v].concat(u);v.$$prototype.attributes=v.$$prototype.document=v.$$prototype.has_header_option=v.$$prototype.rows=v.$$prototype.columns=a,t.const_set(x[0],"DEFAULT_PRECISION",4),function(e,r,n){var i,$,s,o=h(e,null,"Rows");[o].concat(n);o.$$prototype.head=o.$$prototype.body=o.$$prototype.foot=a,o.$attr_accessor("head","foot","body"),t.def(o,"$initialize",i=function(t,e,r){return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),this.head=t,this.foot=e,this.body=r},i.$$arity=-1),t.alias(o,"[]","send"),t.def(o,"$by_section",$=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},$.$$arity=0),t.def(o,"$to_h",s=function(){return _(["head","body","foot"],{head:this.head,body:this.body,foot:this.foot})},s.$$arity=0)}(x[0],0,x),v.$attr_accessor("columns"),v.$attr_accessor("rows"),v.$attr_accessor("has_header_option"),v.$attr_reader("caption"),t.def(v,"$initialize",f=function(s,o){var l,u,h=f.$$p,_=this,m=a,y=a,g=a,b=a;return h&&(f.$$p=null),d(_,t.find_super_dispatcher(_,"initialize",f,!1),[s,"table"],null),_.rows=c(x,"Rows").$new(),_.columns=[],_.has_header_option=!!p(o["$[]"]("header-option")),p(m=o["$[]"]("width"))?p(p(l=e(y=m.$to_i(),100))?l:r(y,1))&&(p((l=y["$=="](0))?p(u=m["$=="]("0"))?u:m["$=="]("0%"):y["$=="](0))||(y=100)):y=100,g=["tablepcwidth",y],d(_.attributes,"[]=",t.to_a(g)),g[n(g.length,1)],p(_.document.$attributes()["$[]"]("pagewidth"))&&(g=["tableabswidth",(b=i($(y,100),_.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(c(x,"DEFAULT_PRECISION")))["$=="](b.$to_i())?b.$to_i():b],d(_.attributes,"[]=",t.to_a(g)),g[n(g.length,1)]),p(o["$[]"]("rotate-option"))?(g=["orientation","landscape"],d(_.attributes,"[]=",t.to_a(g)),g[n(g.length,1)]):a},f.$$arity=2),t.def(v,"$header_row?",m=function(){var t;return p(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},m.$$arity=0),t.def(v,"$create_columns",y=function(i){var $,o,l,u=a,h=a,_=a,f=a;return u=[],h=a,_=0,d(i,"each",[],(($=function(t){var e,n,i=$.$$s||this;return null==t&&(t=a),n=t["$[]"]("width"),u["$<<"](c(x,"Column").$new(i,u.$size(),t)),p(r(n,0))?(h=p(e=h)?e:[])["$<<"](u["$[]"](-1)):_=s(_,n)}).$$s=this,$.$$arity=1,$)),p(e(l=(this.columns=u).$size(),0))&&(f=["colcount",l],d(this.attributes,"[]=",t.to_a(f)),f[n(f.length,1)],p(p(o=e(_,0))?o:h)||(_=a),this.$assign_column_widths(_,h)),a},y.$$arity=1),t.def(v,"$assign_column_widths",g=function(t,r){var i,o,l,u,h=a,f=a,m=a,y=a;return null==t&&(t=a),null==r&&(r=a),u=c(x,"DEFAULT_PRECISION"),h=f=0,p(t)?(p(r)&&(p(e(t,100))?(m=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+t+"%")):((m=$(n(100,t),r.$size()).$truncate(u)).$to_i()["$=="](m)&&(m=m.$to_i()),t=100),y=_(["width","autowidth-option"],{width:m,"autowidth-option":""}),d(r,"each",[],((i=function(t){i.$$s;return null==t&&(t=a),t.$update_attributes(y)}).$$s=this,i.$$arity=1,i))),d(this.columns,"each",[],((o=function(e){o.$$s;return null==e&&(e=a),h=s(h,f=e.$assign_width(a,t,u))}).$$s=this,o.$$arity=1,o))):((f=$(100,this.columns.$size()).$truncate(u)).$to_i()["$=="](f)&&(f=f.$to_i()),d(this.columns,"each",[],((l=function(t){l.$$s;return null==t&&(t=a),h=s(h,t.$assign_width(f,a,u))}).$$s=this,l.$$arity=1,l))),h["$=="](100)||this.columns["$[]"](-1).$assign_width(s(n(100,h),f).$round(u),a,u),a},g.$$arity=-1),t.def(v,"$partition_header_footer",b=function(r){var i,$,s=a,o=a,l=a;return s=["rowcount",this.rows.$body().$size()],d(this.attributes,"[]=",t.to_a(s)),s[n(s.length,1)],o=this.rows.$body().$size(),p(p(i=e(o,0))?this.has_header_option:i)&&(l=this.rows.$body().$shift(),o=n(o,1),d(l,"each",[],(($=function(e){$.$$s;return null==e&&(e=a),s=[a],d(e,"style=",t.to_a(s)),s[n(s.length,1)]}).$$s=this,$.$$arity=1,$)),s=[[l]],d(this.rows,"head=",t.to_a(s)),s[n(s.length,1)]),p(p(i=e(o,0))?r["$[]"]("footer-option"):i)&&(s=[[this.rows.$body().$pop()]],d(this.rows,"foot=",t.to_a(s)),s[n(s.length,1)]),a},b.$$arity=1)}(y[0],c(y,"AbstractBlock"),y),function(e,r,o){var l,c,u,f,m=h(e,r,"Column");[m].concat(o);m.$$prototype.attributes=a,m.$attr_accessor("style"),t.def(m,"$initialize",l=function(e,r,i){var $=l.$$p,o=a;return $&&(l.$$p=null),null==i&&(i=_([],{})),d(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"table_column"],null),this.style=i["$[]"]("style"),o=["colnumber",s(r,1)],d(i,"[]=",t.to_a(o)),o[n(o.length,1)],p(i["$[]"]("width"))||(o=["width",1],d(i,"[]=",t.to_a(o)),o[n(o.length,1)]),p(i["$[]"]("halign"))||(o=["halign","left"],d(i,"[]=",t.to_a(o)),o[n(o.length,1)]),p(i["$[]"]("valign"))||(o=["valign","top"],d(i,"[]=",t.to_a(o)),o[n(o.length,1)]),this.$update_attributes(i)},l.$$arity=-3),t.alias(m,"table","parent"),t.def(m,"$assign_width",c=function(e,r,s){var o=this,l=a,c=a;return p(r)&&(e=$(i(o.attributes["$[]"]("width").$to_f(),100),r).$truncate(s)).$to_i()["$=="](e)&&(e=e.$to_i()),p(o.$parent().$attributes()["$[]"]("tableabswidth"))&&(l=["colabswidth",(c=i($(e,100),o.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(s))["$=="](c.$to_i())?c.$to_i():c],d(o.attributes,"[]=",t.to_a(l)),l[n(l.length,1)]),l=["colpcwidth",e],d(o.attributes,"[]=",t.to_a(l)),l[n(l.length,1)]},c.$$arity=3),t.def(m,"$block?",u=function(){return!1},u.$$arity=0),t.def(m,"$inline?",f=function(){return!1},f.$$arity=0)}(c(y,"Table"),c(y,"AbstractNode"),y),function(e,$,o){var l,u,m,y,g,b,v,x,w,k=h(e,$,"Cell"),E=[k].concat(o);k.$$prototype.document=k.$$prototype.text=k.$$prototype.subs=k.$$prototype.style=k.$$prototype.inner_document=k.$$prototype.source_location=k.$$prototype.colspan=k.$$prototype.rowspan=k.$$prototype.attributes=a,t.const_set(E[0],"DOUBLE_LF",i(c(E,"LF"),2)),k.$attr_accessor("colspan"),k.$attr_accessor("rowspan"),t.alias(k,"column","parent"),k.$attr_reader("inner_document"),t.def(k,"$initialize",l=function(e,i,$,o){var u,h,m=l.$$p,y=a,g=a,b=a,v=a,x=a,w=a,k=a,A=a,O=a,S=a,R=a,C=a;if(m&&(l.$$p=null),null==$&&($=_([],{})),null==o&&(o=_([],{})),d(this,t.find_super_dispatcher(this,"initialize",l,!1),[e,"table_cell"],null),p(this.document.$sourcemap())&&(this.source_location=o["$[]"]("cursor").$dup()),p(e)&&(p(y=e.$table()["$header_row?"]())||(g=e.$attributes()["$[]"]("style")),this.$update_attributes(e.$attributes())),p($))if(p($["$empty?"]())?this.colspan=this.rowspan=a:(u=[$.$delete("colspan"),$.$delete("rowspan")],this.colspan=u[0],this.rowspan=u[1],p(y)||(g=p(u=$["$[]"]("style"))?u:g),this.$update_attributes($)),g["$=="]("asciidoc"))if(b=!0,v=o["$[]"]("cursor"),p((i=i.$rstrip())["$start_with?"](c(E,"LF")))){for(x=1;p((i=i.$slice(1,i.$length()))["$start_with?"](c(E,"LF")));)x=s(x,1);v.$advance(x)}else i=i.$lstrip();else if(g["$=="]("literal"))for(w=!0,i=i.$rstrip();p(i["$start_with?"](c(E,"LF")));)i=i.$slice(1,i.$length());else k=!0,i=p(i)?i.$strip():"";else this.colspan=this.rowspan=a,g["$=="]("asciidoc")&&(b=!0,v=o["$[]"]("cursor"));return p(b)?(A=this.document.$attributes().$delete("doctitle"),O=i.$split(c(E,"LF"),-1),p(O["$empty?"]())||p((S=O["$[]"](0))["$include?"]("::"))&&(R=c(E,"PreprocessorReader").$new(this.document,[S]).$readlines(),p((u=S["$=="](R["$[]"](0)))?r(R.$size(),2):S["$=="](R["$[]"](0)))||(O.$shift(),p(R["$empty?"]())||d(O,"unshift",t.to_a(R)))),this.inner_document=c(E,"Document").$new(O,_(["standalone","parent","cursor"],{standalone:!1,parent:this.document,cursor:v})),p(A["$nil?"]())||(C=["doctitle",A],d(this.document.$attributes(),"[]=",t.to_a(C)),C[n(C.length,1)]),this.subs=a):p(w)?(this.content_model="verbatim",this.subs=c(E,"BASIC_SUBS")):(p(p(u=p(h=k)?i["$start_with?"]("[["):h)?c(E,"LeadingInlineAnchorRx")["$=~"](i):u)&&c(E,"Parser").$catalog_inline_anchor((u=f["~"])===a?a:u["$[]"](1),(u=f["~"])===a?a:u["$[]"](2),this,o["$[]"]("cursor"),this.document),this.content_model="simple",this.subs=c(E,"NORMAL_SUBS")),this.text=i,this.style=g},l.$$arity=-3),t.def(k,"$text",u=function(){return this.$apply_subs(this.text,this.subs)},u.$$arity=0),t.def(k,"$text=",m=function(t){return this.text=t},m.$$arity=1),t.def(k,"$content",y=function(){var t,e,r=a,n=a;return(r=this.style)["$=="]("asciidoc")?this.inner_document.$convert():p(this.text["$include?"](c(E,"DOUBLE_LF")))?d(this.$text().$split(c(E,"BlankLineRx")),"map",[],((t=function(e){var n,i=t.$$s||this;return null==e&&(e=a),p(p(n=r)?r["$!="]("header"):n)?c(E,"Inline").$new(i.$parent(),"quoted",e,_(["type"],{type:r})).$convert():e}).$$s=this,t.$$arity=1,t)):p((n=this.$text())["$empty?"]())?[]:p(p(e=r)?r["$!="]("header"):e)?[c(E,"Inline").$new(this.$parent(),"quoted",n,_(["type"],{type:r})).$convert()]:[n]},y.$$arity=0),t.def(k,"$lines",g=function(){return this.text.$split(c(E,"LF"))},g.$$arity=0),t.def(k,"$source",b=function(){return this.text},b.$$arity=0),t.def(k,"$file",v=function(){var t;return p(t=this.source_location)?this.source_location.$file():t},v.$$arity=0),t.def(k,"$lineno",x=function(){var t;return p(t=this.source_location)?this.source_location.$lineno():t},x.$$arity=0),t.def(k,"$to_s",w=function(){var e,r,n=w.$$p,i=a,$=a;for(n&&(w.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return d(this,t.find_super_dispatcher(this,"to_s",w,!1),i,n).$to_s()+" - [text: "+this.text+", colspan: "+(p(e=this.colspan)?e:1)+", rowspan: "+(p(e=this.rowspan)?e:1)+", attributes: "+this.attributes+"]"},w.$$arity=0)}(c(y,"Table"),c(y,"AbstractBlock"),y),function(r,i,$){var o,u,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L=h(r,null,"ParserContext"),N=[L].concat($);L.$$prototype.delimiter=L.$$prototype.delimiter_rx=L.$$prototype.buffer=L.$$prototype.cellspecs=L.$$prototype.cell_open=L.$$prototype.format=L.$$prototype.start_cursor_data=L.$$prototype.reader=L.$$prototype.table=L.$$prototype.current_row=L.$$prototype.colcount=L.$$prototype.column_visits=L.$$prototype.active_rowspans=L.$$prototype.linenum=a,L.$include(c(N,"Logging")),t.const_set(N[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),t.const_set(N[0],"DELIMITERS",_(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),L.$attr_accessor("table"),L.$attr_accessor("format"),L.$attr_reader("colcount"),L.$attr_accessor("buffer"),L.$attr_reader("delimiter"),L.$attr_reader("delimiter_re"),t.def(L,"$initialize",o=function(e,r,n){var i,$,s=a,o=a;return null==n&&(n=_([],{})),this.start_cursor_data=(this.reader=e).$mark(),this.table=r,p(n["$key?"]("format"))?p(c(N,"FORMATS")["$include?"](s=n["$[]"]("format")))?s["$=="]("tsv")?this.format="csv":p((i=(this.format=s)["$=="]("psv"))?r.$document()["$nested?"]():(this.format=s)["$=="]("psv"))&&(s="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+s,_(["source_location"],{source_location:e.$cursor_at_prev_line()}))),i=["psv",p(r.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],s=i[1]):(i=["psv",p(r.$document()["$nested?"]())?"!sv":"psv"],this.format=i[0],s=i[1]),p(n["$key?"]("separator"))?p((o=n["$[]"]("separator"))["$nil_or_empty?"]())?($=c(N,"DELIMITERS")["$[]"](s),i=t.to_ary($),this.delimiter=null==i[0]?a:i[0],this.delimiter_rx=null==i[1]?a:i[1]):o["$=="]("\\t")?($=c(N,"DELIMITERS")["$[]"]("tsv"),i=t.to_ary($),this.delimiter=null==i[0]?a:i[0],this.delimiter_rx=null==i[1]?a:i[1]):(i=[o,new RegExp(l("::","Regexp").$escape(o))],this.delimiter=i[0],this.delimiter_rx=i[1]):($=c(N,"DELIMITERS")["$[]"](s),i=t.to_ary($),this.delimiter=null==i[0]?a:i[0],this.delimiter_rx=null==i[1]?a:i[1]),this.colcount=p(r.$columns()["$empty?"]())?-1:r.$columns().$size(),this.buffer="",this.cellspecs=[],this.cell_open=!1,this.active_rowspans=[0],this.column_visits=0,this.current_row=[],this.linenum=-1},o.$$arity=-3),t.def(L,"$starts_with_delimiter?",u=function(t){return t["$start_with?"](this.delimiter)},u.$$arity=1),t.def(L,"$match_delimiter",f=function(t){return this.delimiter_rx.$match(t)},f.$$arity=1),t.def(L,"$skip_past_delimiter",m=function(t){return this.buffer=""+this.buffer+t+this.delimiter,a},m.$$arity=1),t.def(L,"$skip_past_escaped_delimiter",y=function(t){return this.buffer=""+this.buffer+t.$chop()+this.delimiter,a},y.$$arity=1),t.def(L,"$buffer_has_unclosed_quotes?",g=function(t){var e,r,n=this,i=a,$=a;return null==t&&(t=a),!!(i=p(t)?s(n.buffer,t).$strip():n.buffer.$strip())["$=="]('"')||!!p(i["$start_with?"]('"'))&&(p(p(e=p(r=$=i["$end_with?"]('"'))?i["$end_with?"]('""'):r)?e:i["$start_with?"]('""'))?p(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:$["$!"]())},g.$$arity=-1),t.def(L,"$take_cellspec",b=function(){return this.cellspecs.$shift()},b.$$arity=0),t.def(L,"$push_cellspec",v=function(t){var e;return null==t&&(t=_([],{})),this.cellspecs["$<<"](p(e=t)?e:_([],{})),a},v.$$arity=-1),t.def(L,"$keep_cell_open",x=function(){return this.cell_open=!0,a},x.$$arity=0),t.def(L,"$mark_cell_closed",w=function(){return this.cell_open=!1,a},w.$$arity=0),t.def(L,"$cell_open?",k=function(){return this.cell_open},k.$$arity=0),t.def(L,"$cell_closed?",E=function(){return this.cell_open["$!"]()},E.$$arity=0),t.def(L,"$close_open_cell",A=function(t){return null==t&&(t=_([],{})),this.$push_cellspec(t),p(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),a},A.$$arity=-1),t.def(L,"$close_cell",O=function(r){try{var i,$,o=a,u=a,h=a;return null==r&&(r=!1),this.format["$=="]("psv")?(o=this.buffer,this.buffer="",p(u=this.$take_cellspec())?h=p(i=u.$delete("repeatcol"))?i:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",_(["source_location"],{source_location:d(l(c(N,"Reader"),"Cursor"),"new",t.to_a(this.start_cursor_data))}))),u=_([],{}),h=1)):(o=this.buffer.$strip(),this.buffer="",u=a,h=1,p(p(i=this.format["$=="]("csv")?o["$empty?"]()["$!"]():this.format["$=="]("csv"))?o["$include?"]('"'):i)&&(p(p(i=o["$start_with?"]('"'))?o["$end_with?"]('"'):i)?p(o=o.$slice(1,n(o.$length(),2)))?o=o.$strip().$squeeze('"'):(this.$logger().$error(this.$message_with_context("unclosed quote in CSV data; setting cell to empty",_(["source_location"],{source_location:this.reader.$cursor_at_prev_line()}))),o=""):o=o.$squeeze('"'))),d(1,"upto",[h],(($=function(i){var f,m,y,g,b=$.$$s||this,v=a,x=a,w=a,k=a;return null==b.colcount&&(b.colcount=a),null==b.table&&(b.table=a),null==b.current_row&&(b.current_row=a),null==b.reader&&(b.reader=a),null==b.column_visits&&(b.column_visits=a),null==b.linenum&&(b.linenum=a),null==i&&(i=a),b.colcount["$=="](-1)?(b.table.$columns()["$<<"](v=l(c(N,"Table"),"Column").$new(b.table,n(s(b.table.$columns().$size(),i),1))),p(p(f=p(m=u)?u["$key?"]("colspan"):m)?e(x=n(u["$[]"]("colspan").$to_i(),1),0):f)&&(w=b.table.$columns().$size(),d(x,"times",[],((y=function(t){var e=y.$$s||this;return null==e.table&&(e.table=a),null==t&&(t=a),e.table.$columns()["$<<"](l(c(N,"Table"),"Column").$new(e.table,s(w,t)))}).$$s=b,y.$$arity=1,y)))):p(v=b.table.$columns()["$[]"](b.current_row.$size()))||(b.$logger().$error(b.$message_with_context("dropping cell because it exceeds specified number of columns",_(["source_location"],{source_location:b.reader.$cursor_before_mark()}))),t.ret(a)),k=l(c(N,"Table"),"Cell").$new(v,o,u,_(["cursor"],{cursor:b.reader.$cursor_before_mark()})),b.reader.$mark(),p(p(f=k.$rowspan()["$!"]())?f:k.$rowspan()["$=="](1))||b.$activate_rowspan(k.$rowspan(),p(f=k.$colspan())?f:1),b.column_visits=s(b.column_visits,p(f=k.$colspan())?f:1),b.current_row["$<<"](k),p(p(f=b["$end_of_row?"]())?p(m=p(g=b.colcount["$!="](-1))?g:e(b.linenum,0))?m:p(g=r)?i["$=="](h):g:f)?b.$close_row():a}).$$s=this,$.$$arity=1,$)),this.cell_open=!1,a}catch(e){if(e===t.returner)return e.$v;throw e}},O.$$arity=-1),L.$private(),t.def(L,"$close_row",S=function(){var e=a;return this.table.$rows().$body()["$<<"](this.current_row),this.colcount["$=="](-1)&&(this.colcount=this.column_visits),this.column_visits=0,this.current_row=[],this.active_rowspans.$shift(),p(this.active_rowspans["$[]"](0))||(e=[0,0],d(this.active_rowspans,"[]=",t.to_a(e)),e[n(e.length,1)]),a},S.$$arity=0),t.def(L,"$activate_rowspan",R=function(e,r){var i;return d(1,"upto",[n(e,1)],((i=function(e){var $,o,l=i.$$s||this;return null==l.active_rowspans&&(l.active_rowspans=a),null==e&&(e=a),o=[e,s(p($=l.active_rowspans["$[]"](e))?$:0,r)],d(l.active_rowspans,"[]=",t.to_a(o)),o[n(o.length,1)]}).$$s=this,i.$$arity=1,i)),a},R.$$arity=2),t.def(L,"$end_of_row?",C=function(){var t;return p(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},C.$$arity=0),t.def(L,"$effective_column_visits",I=function(){return s(this.column_visits,this.active_rowspans["$[]"](0))},I.$$arity=0),t.def(L,"$advance",T=function(){return this.linenum=s(this.linenum,1)},T.$$arity=0)}(c(y,"Table"),0,y)}(o[0],o)},Opal.modules["asciidoctor/writer"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.module),s=t.truthy,o=t.hash2;return t.add_stubs(["$respond_to?","$write","$+","$chomp","$include"]),function(e,a){var l=[$(e,"Asciidoctor")].concat(a);!function(e,a){var l,c=$(e,"Writer"),u=[c].concat(a);t.def(c,"$write",l=function(t,e){var $,a;return s(e["$respond_to?"]("write"))?e.$write(($=t.$chomp(),a=i(u,"LF"),"number"==typeof $&&"number"==typeof a?$+a:$["$+"](a))):n("::","File").$write(e,t,o(["mode"],{mode:i(u,"FILE_WRITE_MODE")})),r},l.$$arity=2)}(l[0],l),function(e,n){var s,o=$(e,"VoidWriter"),a=[o].concat(n);o.$include(i(a,"Writer")),t.def(o,"$write",s=function(t,e){return r},s.$$arity=2)}(l[0],l)}(e[0],e)},Opal.modules["asciidoctor/load"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.hash2,a=t.truthy,l=t.send;return t.add_stubs(["$module_function","$merge","$[]","$start","$!=","$logger","$logger=","$-","$!","$===","$dup","$tap","$each","$partition","$[]=","$split","$gsub","$+","$respond_to?","$keys","$raise","$join","$ancestors","$class","$mtime","$absolute_path","$path","$dirname","$basename","$extname","$read","$rewind","$drop","$record","$==","$new","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load"]),function(r,c){var u,h,_=s(r,"Asciidoctor"),d=[_].concat(c);_.$module_function(),t.def(_,"$load",u=function(r,s){var c,u,h,_,p,f,m=n,y=n,g=n,b=n,v=n,x=n,w=n,k=n,E=n,A=n;null==s&&(s=o([],{}));try{if(s=s.$merge(),a(m=s["$[]"]("timings"))&&m.$start("read"),a(a(c=y=s["$[]"]("logger"))?y["$!="]($(d,"LoggerManager").$logger()):c)&&(g=[y],l($(d,"LoggerManager"),"logger=",t.to_a(g)),g[e(g.length,1)]),a((b=s["$[]"]("attributes"))["$!"]())?b=o([],{}):a(i("::","Hash")["$==="](b))?b=b.$merge():a(a(c=(h=i("::","Java","skip_raise"))&&(u=i(h,"JavaUtil","skip_raise"))&&i(u,"Map","skip_raise")?"constant":n)?i(i(i("::","Java"),"JavaUtil"),"Map")["$==="](b):c)?b=b.$dup():a(i("::","Array")["$==="](b))?b=l(o([],{}),"tap",[],((_=function(r){var i,$=_.$$s||this;return null==r&&(r=n),l(b,"each",[],((i=function($){var s,o,a,c;i.$$s;return null==$&&($=n),o=$.$partition("="),a=null==(s=t.to_ary(o))[0]?n:s[0],null==s[1]?n:s[1],c=null==s[2]?n:s[2],g=[a,c],l(r,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=$,i.$$arity=1,i))}).$$s=this,_.$$arity=1,_)):a(i("::","String")["$==="](b))?b=l(o([],{}),"tap",[],((p=function(r){var i,s,o,a=p.$$s||this;return null==r&&(r=n),l(b.$gsub($(d,"SpaceDelimiterRx"),(s="\\1",o=$(d,"NULL"),"number"==typeof s&&"number"==typeof o?s+o:s["$+"](o))).$gsub($(d,"EscapedSpaceRx"),"\\1").$split($(d,"NULL")),"each",[],((i=function($){var s,o,a,c;i.$$s;return null==$&&($=n),o=$.$partition("="),a=null==(s=t.to_ary(o))[0]?n:s[0],null==s[1]?n:s[1],c=null==s[2]?n:s[2],g=[a,c],l(r,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=a,i.$$arity=1,i))}).$$s=this,p.$$arity=1,p)):a(a(c=b["$respond_to?"]("keys"))?b["$respond_to?"]("[]"):c)?b=l(o([],{}),"tap",[],((f=function(r){var i,$=f.$$s||this;return null==r&&(r=n),l(b.$keys(),"each",[],((i=function($){i.$$s;return null==$&&($=n),g=[$,b["$[]"]($)],l(r,"[]=",t.to_a(g)),g[e(g.length,1)]}).$$s=$,i.$$arity=1,i))}).$$s=this,f.$$arity=1,f)):this.$raise(i("::","ArgumentError"),"illegal type for attributes option: "+b.$class().$ancestors().$join(" < ")),a(i("::","File")["$==="](r)))g=["input_mtime",r.$mtime()],l(s,"[]=",t.to_a(g)),g[e(g.length,1)],g=["docfile",v=i("::","File").$absolute_path(r.$path())],l(b,"[]=",t.to_a(g)),g[e(g.length,1)],g=["docdir",i("::","File").$dirname(v)],l(b,"[]=",t.to_a(g)),g[e(g.length,1)],g=["docname",$(d,"Helpers").$basename(v,(g=["docfilesuffix",$(d,"Helpers").$extname(v)],l(b,"[]=",t.to_a(g)),g[e(g.length,1)]))],l(b,"[]=",t.to_a(g)),g[e(g.length,1)],x=r.$read();else if(a(r["$respond_to?"]("read"))){try{r.$rewind()}catch(e){if(!t.rescue(e,[$(d,"StandardError")]))throw e;t.pop_exception()}x=r.$read()}else a(i("::","String")["$==="](r))?x=r:a(i("::","Array")["$==="](r))?x=r.$drop(0):a(r)&&this.$raise(i("::","ArgumentError"),"unsupported input type: "+r.$class());return a(m)&&(m.$record("read"),m.$start("parse")),g=["attributes",b],l(s,"[]=",t.to_a(g)),g[e(g.length,1)],w=s["$[]"]("parse")["$=="](!1)?$(d,"Document").$new(x,s):$(d,"Document").$new(x,s).$parse(),a(m)&&m.$record("parse"),w}catch(r){if(!t.rescue(r,[$(d,"StandardError")]))throw r;k=r;try{try{E="asciidoctor: FAILED: "+(a(c=b["$[]"]("docfile"))?c:"<stdin>")+": Failed to load AsciiDoc document",a(k["$respond_to?"]("exception"))?((A=k.$exception(E+" - "+k.$message())).$set_backtrace(k.$backtrace()),A.stack=k.stack):(A=k.$class().$new(E,k),g=[k.$stack_trace()],l(A,"stack_trace=",t.to_a(g)),g[e(g.length,1)])}catch(e){if(!t.rescue(e,[$(d,"StandardError")]))throw e;try{A=k}finally{t.pop_exception()}}return this.$raise(A)}finally{t.pop_exception()}}},u.$$arity=-2),t.def(_,"$load_file",h=function(t,e){var r;return null==e&&(e=o([],{})),l(i("::","File"),"open",[t,$(d,"FILE_READ_MODE")],((r=function(t){var i=r.$$s||this;return null==t&&(t=n),i.$load(t,e)}).$$s=this,r.$$arity=1,r))},h.$$arity=-2)}(r[0],r)},Opal.modules["asciidoctor/convert"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>=e:t["$>="](e)}t.top;var n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.hash2,l=t.truthy,c=t.send;return t.add_stubs(["$module_function","$delete","$merge","$===","$absolute_path","$path","$load","$respond_to?","$[]=","$-","$key?","$[]","$dirname","$expand_path","$join","$attributes","$outfilesuffix","$==","$raise","$pwd","$>=","$safe","$normalize_system_path","$mkdir_p","$directory?","$!","$convert","$write","$<","$attr?","$basebackend?","$attr","$uriish?","$include?","$syntax_highlighter","$write_stylesheet?","$write_primary_stylesheet","$instance","$empty?","$!=","$read_asset","$file?","$write_stylesheet","$open"]),function(n,u){var h,_,d=o(n,"Asciidoctor"),p=[d].concat(u);d.$module_function(),t.def(d,"$convert",h=function(n,o){var u,h,_,d,f,m,y,g,b,v,x=i,w=i,k=i,E=i,A=i,O=i,S=i,R=i,C=i,I=i,T=i,L=i,N=i,D=i,B=i,M=i,F=i,z=i,P=i,j=i,q=i;if(null==o&&(o=a([],{})),(o=o.$merge()).$delete("parse"),m=o.$delete("to_dir"),y=o.$delete("mkdirs"),g=x=o.$delete("to_file"),(!0)["$==="](g)||i["$==="](g))l(w=m)||l($("::","File")["$==="](n))&&(k=$("::","File").$absolute_path(n.$path())),x=i;else if((!1)["$==="](g))x=i;else{if("/dev/null"["$==="](g))return this.$load(n,o);l(E=x["$respond_to?"]("write"))||(A=["to_file",w=x],c(o,"[]=",t.to_a(A)),A[e(A.length,1)])}return l(o["$key?"]("standalone"))||(l(l(u=k)?u:w)?(A=["standalone",!0],c(o,"[]=",t.to_a(A)),A[e(A.length,1)]):l(o["$key?"]("header_footer"))&&(A=["standalone",o["$[]"]("header_footer")],c(o,"[]=",t.to_a(A)),A[e(A.length,1)])),l(k)?(A=["to_dir",O=$("::","File").$dirname(k)],c(o,"[]=",t.to_a(A)),A[e(A.length,1)]):l(w)&&(l(m)?l(x)?(A=["to_dir",$("::","File").$dirname($("::","File").$expand_path($("::","File").$join(m,x)))],c(o,"[]=",t.to_a(A)),A[e(A.length,1)]):(A=["to_dir",$("::","File").$expand_path(m)],c(o,"[]=",t.to_a(A)),A[e(A.length,1)]):l(x)&&(A=["to_dir",$("::","File").$dirname($("::","File").$expand_path(x))],c(o,"[]=",t.to_a(A)),A[e(A.length,1)])),S=this.$load(n,o),l(k)?(R=$("::","File").$join(O,""+S.$attributes()["$[]"]("docname")+S.$outfilesuffix()))["$=="](k)&&this.$raise($("::","IOError"),"input file and output file cannot be the same: "+R):l(w)?(C=l(o["$key?"]("base_dir"))?$("::","File").$expand_path(o["$[]"]("base_dir")):$("::","Dir").$pwd(),I=l(r(S.$safe(),$(s(p,"SafeMode"),"SAFE")))?C:i,l(m)?(O=S.$normalize_system_path(m,C,I,a(["target_name","recover"],{target_name:"to_dir",recover:!1})),l(x)?(R=S.$normalize_system_path(x,O,i,a(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=$("::","File").$dirname(R)):R=$("::","File").$join(O,""+S.$attributes()["$[]"]("docname")+S.$outfilesuffix())):l(x)&&(R=S.$normalize_system_path(x,C,I,a(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=$("::","File").$dirname(R)),l(l(u=$("::","File")["$==="](n))?R["$=="]($("::","File").$absolute_path(n.$path())):u)&&this.$raise($("::","IOError"),"input file and output file cannot be the same: "+R),l(y)?s(p,"Helpers").$mkdir_p(O):l($("::","File")["$directory?"](O))||this.$raise($("::","IOError"),"target directory does not exist: "+m+" (hint: set :mkdirs option)")):(R=x,O=i),T=l(l(u=R)?E["$!"]():u)?S.$convert(a(["outfile","outdir"],{outfile:R,outdir:O})):S.$convert(),l(R)?(S.$write(T,R),l(l(u=l(h=l(_=l(d=l(f=E["$!"]())?(b=S.$safe(),v=$(s(p,"SafeMode"),"SECURE"),"number"==typeof b&&"number"==typeof v?b<v:b["$<"](v)):f)?S["$attr?"]("linkcss"):d)?S["$attr?"]("copycss"):_)?S["$basebackend?"]("html"):h)?(l(h=L=S.$attr("stylesdir"))?s(p,"Helpers")["$uriish?"](L):h)["$!"]():u)&&(l(N=S.$attr("stylesheet"))&&(l(s(p,"DEFAULT_STYLESHEET_KEYS")["$include?"](N))?D=!0:l(s(p,"Helpers")["$uriish?"](N)["$!"]())&&(B=!0)),M=l(u=F=S.$syntax_highlighter())?F["$write_stylesheet?"](S):u,l(l(u=l(h=D)?h:B)?u:M)&&(z=S.$normalize_system_path(L,O,l(r(S.$safe(),$(s(p,"SafeMode"),"SAFE")))?O:i),l(y)?s(p,"Helpers").$mkdir_p(z):l($("::","File")["$directory?"](z))||this.$raise($("::","IOError"),"target stylesheet directory does not exist: "+z+" (hint: set :mkdirs option)"),l(D)?s(p,"Stylesheets").$instance().$write_primary_stylesheet(z):l(B)&&(P=l((P=S.$attr("copycss"))["$empty?"]())?S.$normalize_system_path(N):S.$normalize_system_path(P),j=S.$normalize_system_path(N,z,l(r(S.$safe(),$(s(p,"SafeMode"),"SAFE")))?O:i),l(l(u=P["$!="](j))?q=S.$read_asset(P,a(["warn_on_failure","label"],{warn_on_failure:$("::","File")["$file?"](j)["$!"](),label:"stylesheet"})):u)&&$("::","File").$write(j,q,a(["mode"],{mode:s(p,"FILE_WRITE_MODE")}))),l(M)&&F.$write_stylesheet(S,z))),S):T},h.$$arity=-2),t.def(d,"$convert_file",_=function(t,e){var r;return null==e&&(e=a([],{})),c($("::","File"),"open",[t,s(p,"FILE_READ_MODE")],((r=function(t){var n=r.$$s||this;return null==t&&(t=i),n.$convert(t,e)}).$$s=this,r.$$arity=1,r))},_.$$arity=-2),t.alias(d,"render","convert"),d.$module_function("render"),t.alias(d,"render_file","convert_file"),d.$module_function("render_file")}(n[0],n)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.module),s=t.klass,o=t.send,a=t.hash2,l=t.truthy;return t.add_stubs(["$register_for","$merge","$proc","$[]=","$-","$==","$attr","$[]","$attr?","$join","$map","$split","$lstrip"]),function(e,c){var u=[$(e,"Asciidoctor")].concat(c);!function(e,n,$){var c,u,h,_,d=s(e,n,"HighlightJsAdapter"),p=[d].concat($);d.$register_for("highlightjs","highlight.js"),t.def(d,"$initialize",c=function(e){var n,i=c.$$p,$=r,s=r;for(i&&(c.$$p=null),s=0,n=arguments.length,$=new Array(n);s<n;s++)$[s]=arguments[s];return t.slice.call(arguments,0,arguments.length),o(this,t.find_super_dispatcher(this,"initialize",c,!1),$,i),this.name=this.pre_class="highlightjs"},c.$$arity=-1),t.def(d,"$format",u=function(e,n,i){var $,s=u.$$p;return s&&(u.$$p=null),o(this,t.find_super_dispatcher(this,"format",u,!1),[e,n,i.$merge(a(["transform"],{transform:o(this,"proc",[],($=function(e,i){var s,a,c,u;$.$$s;return null==e&&(e=r),null==i&&(i=r),a=["class","language-"+(l(s=n)?s:"none")+" hljs"],o(i,"[]=",t.to_a(a)),a[(c=a.length,u=1,"number"==typeof c&&"number"==typeof u?c-u:c["$-"](u))]},$.$$s=this,$.$$arity=2,$))}))],null)},u.$$arity=3),t.def(d,"$docinfo?",h=function(t){return t["$=="]("footer")},h.$$arity=1),t.def(d,"$docinfo",_=function(t,e,n){var $,s,a=this;return'<link rel="stylesheet" href="'+(s=e.$attr("highlightjsdir",n["$[]"]("cdn_base_url")+"/highlight.js/"+i(p,"HIGHLIGHT_JS_VERSION")))+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+n["$[]"]("self_closing_tag_slash")+'>\n<script src="'+s+'/highlight.min.js"><\/script>\n'+(l(e["$attr?"]("highlightjs-languages"))?o(e.$attr("highlightjs-languages").$split(","),"map",[],($=function(t){return $.$$s,null==t&&(t=r),'<script src="'+s+"/languages/"+t.$lstrip()+'.min.js"><\/script>\n'},$.$$s=a,$.$$arity=1,$)).$join():"")+"<script>hljs.initHighlighting()<\/script>"},_.$$arity=3)}(i(u,"SyntaxHighlighter"),n(i(u,"SyntaxHighlighter"),"Base"),u)}(e[0],e)},Opal.modules["asciidoctor/syntax_highlighter"]=function(t){var e=t.top,r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.hash2,a=t.truthy,l=t.send,c=t.klass;return t.add_stubs(["$attr_reader","$raise","$class","$private_class_method","$extend","$register","$map","$to_s","$each","$[]=","$registry","$-","$[]","$for","$===","$new","$name","$private","$include","$==","$join","$content"]),function(e,r){var u=[s(e,"Asciidoctor")].concat(r);!function(e,r){var u,h,_,d,p,f,m,y,g,b,v=s(e,"SyntaxHighlighter"),x=[v].concat(r);v.$attr_reader("name"),t.def(v,"$initialize",u=function(t,e,r){return null==e&&(e="html5"),null==r&&(r=o([],{})),this.name=this.pre_class=t},u.$$arity=-2),t.def(v,"$docinfo?",h=function(t){return n},h.$$arity=1),t.def(v,"$docinfo",_=function(t){return this.$raise(i("::","NotImplementedError"),$(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #docinfo method since #docinfo? returns true")},_.$$arity=1),t.def(v,"$highlight?",d=function(){return n},d.$$arity=0),t.def(v,"$highlight",p=function(t,e,r,n){return this.$raise(i("::","NotImplementedError"),$(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #highlight method since #highlight? returns true")},p.$$arity=4),t.def(v,"$format",f=function(t,e,r){return this.$raise(i("::","NotImplementedError"),$(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #format method")},f.$$arity=3),t.def(v,"$write_stylesheet?",m=function(t){return n},m.$$arity=1),t.def(v,"$write_stylesheet",y=function(t,e){return this.$raise(i("::","NotImplementedError"),$(x,"SyntaxHighlighter")+" subclass "+this.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")},y.$$arity=2),v.$private_class_method(a((t.defs(v,"$included",b=function(t){return t.$extend($(x,"Config"))},b.$$arity=1),g=n&&"included"))?g:"included"),function(e,r){var i,o=s(e,"Config"),a=[o].concat(r);t.def(o,"$register_for",i=function(e){var r,i,s=this;return r=t.slice.call(arguments,0,arguments.length),l($(a,"SyntaxHighlighter"),"register",[s].concat(t.to_a(l(r,"map",[],((i=function(t){i.$$s;return null==t&&(t=n),t.$to_s()}).$$s=s,i.$$arity=1,i)))))},i.$$arity=-1)}(x[0],x),function(e,r){var c,u,h,_,d=s(e,"Factory"),p=[d].concat(r);t.def(d,"$register",c=function(e,r){var i,$;return i=t.slice.call(arguments,1,arguments.length),l(i,"each",[],(($=function(r){var i,s,o,a=$.$$s||this;return null==r&&(r=n),i=[r,e],l(a.$registry(),"[]=",t.to_a(i)),i[(s=i.length,o=1,"number"==typeof s&&"number"==typeof o?s-o:s["$-"](o))]}).$$s=this,$.$$arity=1,$))},c.$$arity=-2),t.def(d,"$for",u=function(t){return this.$registry()["$[]"](t)},u.$$arity=1),t.def(d,"$create",h=function(t,e,r){var $=n;return null==e&&(e="html5"),null==r&&(r=o([],{})),a($=this.$for(t))?(a(i("::","Class")["$==="]($))&&($=$.$new(t,e,r)),a($.$name())||this.$raise(i("::","NameError"),$.$class()+" must specify a value for `name'"),$):n},h.$$arity=-2),d.$private(),t.def(d,"$registry",_=function(){return this.$raise(i("::","NotImplementedError"),$(p,"Factory")+" subclass "+this.$class()+" must implement the #registry method")},_.$$arity=0)}(x[0],x),function(e,r,i){var s,l,u=c(e,null,"CustomFactory"),h=[u].concat(i);u.$$prototype.registry=n,u.$include($(h,"Factory")),t.def(u,"$initialize",s=function(t){var e;return null==t&&(t=n),this.registry=a(e=t)?e:o([],{})},s.$$arity=-1),u.$private(),t.def(u,"$registry",l=function(){return this.registry},l.$$arity=0)}(x[0],0,x),function(e,r){var i,a=s(e,"DefaultFactory"),l=[a].concat(r);a.$include($(l,"Factory")),a.$private(),t.class_variable_set(l[0],"@@registry",o([],{})),t.def(a,"$registry",i=function(){var t;return null==(t=l[0].$$cvars["@@registry"])?n:t},i.$$arity=0),$(l,"RUBY_ENGINE")["$=="]("opal")}(x[0],x),function(t,e,r){var n=c(t,e,"DefaultFactoryProxy"),i=[n].concat(r);n.$include($(i,"DefaultFactory")),$(i,"RUBY_ENGINE")["$=="]("opal")}(x[0],$(x,"CustomFactory"),x),function(e,r,i){var s,u=c(e,null,"Base"),h=[u].concat(i);u.$$prototype.pre_class=n,u.$include($(h,"SyntaxHighlighter")),t.def(u,"$format",s=function(t,e,r){var i,$,s,c=this,u=n,h=n,_=n;return s=a(r["$[]"]("nowrap"))?c.pre_class+" highlight nowrap":c.pre_class+" highlight",a(u=r["$[]"]("transform"))?(h=o(["class"],{class:s}),_=a(e)?o(["data-lang"],{"data-lang":e}):o([],{}),u["$[]"](h,_),"<pre"+l(h,"map",[],(i=function(t,e){i.$$s;return null==t&&(t=n),null==e&&(e=n)," "+t+'="'+e+'"'},i.$$s=c,i.$$arity=2,i)).$join()+"><code"+l(_,"map",[],($=function(t,e){$.$$s;return null==t&&(t=n),null==e&&(e=n)," "+t+'="'+e+'"'},$.$$s=c,$.$$arity=2,$)).$join()+">"+t.$content()+"</code></pre>"):'<pre class="'+s+'"><code'+(a(e)?' data-lang="'+e+'"':"")+">"+t.$content()+"</code></pre>"},s.$$arity=3)}(x[0],0,x),v.$extend($(x,"DefaultFactory"))}(u[0],u)}(r[0],r),e.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),$(r,"RUBY_ENGINE")["$=="]("opal"),n},Opal.modules["asciidoctor/timings"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=[],n=t.nil,i=t.const_get_qualified,$=t.const_get_relative,s=(t.breaker,t.slice,t.module),o=t.klass,a=t.hash2,l=t.send,c=t.truthy,u=t.gvars;return t.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert","$private","$const_defined?","$==","$clock_gettime"]),function(r,h){var _=[s(r,"Asciidoctor")].concat(h);!function(r,s,h){var _,d,p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T=o(r,null,"Timings"),L=[T].concat(h);T.$$prototype.timers=T.$$prototype.log=n,t.def(T,"$initialize",_=function(){return this.log=a([],{}),this.timers=a([],{})},_.$$arity=0),t.def(T,"$start",d=function(r){var n;return n=[r,this.$now()],l(this.timers,"[]=",t.to_a(n)),n[e(n.length,1)]},d.$$arity=1),t.def(T,"$record",p=function(r){var n;return n=[r,e(this.$now(),this.timers.$delete(r))],l(this.log,"[]=",t.to_a(n)),n[e(n.length,1)]},p.$$arity=1),t.def(T,"$time",f=function(e){var r,i,$,s,o;return r=t.slice.call(arguments,0,arguments.length),$=l(r,"reduce",[0],((i=function(t,e){var r,$,s,o=i.$$s||this;return null==o.log&&(o.log=n),null==t&&(t=n),null==e&&(e=n),$=t,s=c(r=o.log["$[]"](e))?r:0,"number"==typeof $&&"number"==typeof s?$+s:$["$+"](s)}).$$s=this,i.$$arity=2,i)),c((o=0,"number"==typeof(s=$)&&"number"==typeof o?s>o:s["$>"](o)))?$:n},f.$$arity=-1),t.def(T,"$read",m=function(){return this.$time("read")},m.$$arity=0),t.def(T,"$parse",y=function(){return this.$time("parse")},y.$$arity=0),t.def(T,"$read_parse",g=function(){return this.$time("read","parse")},g.$$arity=0),t.def(T,"$convert",b=function(){return this.$time("convert")},b.$$arity=0),t.def(T,"$read_parse_convert",v=function(){return this.$time("read","parse","convert")},v.$$arity=0),t.def(T,"$write",x=function(){return this.$time("write")},x.$$arity=0),t.def(T,"$total",w=function(){return this.$time("read","parse","convert","write")},w.$$arity=0),t.def(T,"$print_report",k=function(t,e){return null==u.stdout&&(u.stdout=n),null==t&&(t=u.stdout),null==e&&(e=n),c(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},k.$$arity=-1),T.$private(),c(c(E=i("::","Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))?((A=i("::","Process","skip_raise"))&&(O=A,O)&&(S=O)&&((R=S.$clock_gettime)&&!R.$$stub||S["$respond_to_missing?"]("clock_gettime"))?"method":n)["$=="]("method"):E)?(t.const_set(L[0],"CLOCK_ID",i(i("::","Process"),"CLOCK_MONOTONIC")),t.def(T,"$now",C=function(){return i("::","Process").$clock_gettime($(L,"CLOCK_ID"))},C.$$arity=0)):t.def(T,"$now",I=function(){return i("::","Time").$now()},I.$$arity=0)}(_[0],0,_)}(r[0],r)},Opal.modules["asciidoctor/converter/composite"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=t.const_get_relative,$=(t.breaker,t.slice,t.module),s=t.klass,o=t.hash2,a=t.send,l=t.truthy;return t.add_stubs(["$attr_reader","$each","$respond_to?","$composed","$init_backend_traits","$backend_traits","$new","$find_converter","$[]=","$-","$convert","$converter_for","$node_name","$[]","$handles?","$raise"]),function(e,c){var u=[$(e,"Asciidoctor")].concat(c);!function(e,i,$){var c,u,h,_,d=s(e,i,"CompositeConverter");[d].concat($);d.$$prototype.converter_cache=d.$$prototype.converters=r,d.$attr_reader("converters"),t.def(d,"$initialize",c=function(e,i,$){var s,c,u,h,_,d;if(s=t.slice.call(arguments,1,arguments.length),null==(c=t.extract_kwargs(s)))c=o([],{});else if(!c.$$is_hash)throw t.ArgumentError.$new("expected kwargs");return u=s,null==(h=c.$$smap.backend_traits_source)&&(h=r),this.backend=e,a(this.converters=u,"each",[],((_=function(t){var e=_.$$s||this;return null==t&&(t=r),l(t["$respond_to?"]("composed"))?t.$composed(e):r}).$$s=this,_.$$arity=1,_)),l(h)&&this.$init_backend_traits(h.$backend_traits()),this.converter_cache=a(n("::","Hash"),"new",[],((d=function(e,n){var i,$,s,o=d.$$s||this;return null==e&&(e=r),null==n&&(n=r),i=[n,o.$find_converter(n)],a(e,"[]=",t.to_a(i)),i[($=i.length,s=1,"number"==typeof $&&"number"==typeof s?$-s:$["$-"](s))]}).$$s=this,d.$$arity=2,d))},c.$$arity=-2),t.def(d,"$convert",u=function(t,e,n){var i;return null==e&&(e=r),null==n&&(n=r),this.$converter_for(e=l(i=e)?i:t.$node_name()).$convert(t,e,n)},u.$$arity=-2),t.def(d,"$converter_for",h=function(t){return this.converter_cache["$[]"](t)},h.$$arity=1),t.def(d,"$find_converter",_=function(e){try{var n;return a(this.converters,"each",[],((n=function(i){n.$$s;if(null==i&&(i=r),!l(i["$handles?"](e)))return r;t.ret(i)}).$$s=this,n.$$arity=1,n)),this.$raise("Could not find a converter to handle transform: "+e)}catch(e){if(e===t.returner)return e.$v;throw e}},_.$$arity=1)}(i(u,"Converter"),n(i(u,"Converter"),"Base"),u)}(e[0],e)},Opal.modules["asciidoctor/converter/html5"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var s=[],o=t.nil,a=t.const_get_qualified,l=t.const_get_relative,c=(t.breaker,t.slice,t.module),u=t.klass,h=t.send,_=t.hash2,d=t.truthy,p=t.gvars;return t.add_stubs(["$register_for","$default=","$-","$==","$[]","$init_backend_traits","$node_name","$convert_inline_quoted","$convert_paragraph","$convert_inline_anchor","$convert_section","$convert_listing","$convert_literal","$convert_ulist","$convert_olist","$convert_dlist","$convert_admonition","$convert_colist","$convert_embedded","$convert_example","$convert_floating_title","$convert_image","$convert_inline_break","$convert_inline_button","$convert_inline_callout","$convert_inline_footnote","$convert_inline_image","$convert_inline_indexterm","$convert_inline_kbd","$convert_inline_menu","$convert_open","$convert_page_break","$convert_preamble","$convert_quote","$convert_sidebar","$convert_stem","$convert_table","$convert_thematic_break","$convert_verse","$convert_video","$convert_document","$convert_toc","$convert_pass","$convert_audio","$empty?","$attr","$attr?","$<<","$include?","$sub_replacements","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$primary_stylesheet_data","$instance","$read_asset","$normalize_system_path","$syntax_highlighter","$docinfo?","$docinfo","$id","$sections?","$doctype","$role?","$role","$join","$noheader","$convert_outline","$generate_manname_section","$header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$===","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_attribute_value","$append_link_constraint_attrs","$highlight?","$to_sym","$[]=","$format","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$size","$columns","$to_h","$rows","$colspan","$rowspan","$unshift","$shift","$pop","$split","$nil_or_empty?","$type","$catalog","$xreftext","$target","$reftext","$map","$chop","$read_contents","$sub","$match","$private","$upcase","$to_s","$handles?","$send"]),function(s,f){var m=[c(s,"Asciidoctor")].concat(f);!function(s,c,f){var m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V,J,Z,Q,tt,et,rt,nt,it,$t,st,ot,at,lt=u(s,c,"Html5Converter"),ct=[lt].concat(f);lt.$$prototype.void_element_slash=lt.$$prototype.xml_mode=lt.$$prototype.refs=o,lt.$register_for("html5"),at=[["",""]],h(t.const_set(ct[0],"QUOTE_TAGS",_(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),"default=",t.to_a(at)),e(at.length,1),t.const_set(ct[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/),t.const_set(ct[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),l(ct,"RUBY_ENGINE")["$=="]("opal")&&(t.const_set(ct[0],"SvgPreambleRx",new RegExp("^"+l(ct,"CC_ALL")+"*?(?=<svg\\b)")),t.const_set(ct[0],"SvgStartTagRx",/^<svg[^>]*>/)),t.const_set(ct[0],"DimensionAttributeRx",new RegExp("\\s(?:width|height|style)=([\"'])"+l(ct,"CC_ANY")+"*?\\1")),t.def(lt,"$initialize",m=function(t,e){var r=o;return null==e&&(e=_([],{})),this.backend=t,e["$[]"]("htmlsyntax")["$=="]("xml")?(r="xml",this.xml_mode=!0,this.void_element_slash="/"):(r="html",this.xml_mode=o,this.void_element_slash=""),this.$init_backend_traits(_(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:r,outfilesuffix:".html",supports_templates:!0}))},m.$$arity=-2),t.def(lt,"$convert",y=function(e,r,n){var i,$=y.$$p,s=o,a=o;for($&&(y.$$p=null),a=0,i=arguments.length,s=new Array(i);a<i;a++)s[a]=arguments[a];return null==r&&(r=e.$node_name()),null==n&&(n=o),r["$=="]("inline_quoted")?this.$convert_inline_quoted(e):r["$=="]("paragraph")?this.$convert_paragraph(e):r["$=="]("inline_anchor")?this.$convert_inline_anchor(e):r["$=="]("section")?this.$convert_section(e):r["$=="]("listing")?this.$convert_listing(e):r["$=="]("literal")?this.$convert_literal(e):r["$=="]("ulist")?this.$convert_ulist(e):r["$=="]("olist")?this.$convert_olist(e):r["$=="]("dlist")?this.$convert_dlist(e):r["$=="]("admonition")?this.$convert_admonition(e):r["$=="]("colist")?this.$convert_colist(e):r["$=="]("embedded")?this.$convert_embedded(e):r["$=="]("example")?this.$convert_example(e):r["$=="]("floating_title")?this.$convert_floating_title(e):r["$=="]("image")?this.$convert_image(e):r["$=="]("inline_break")?this.$convert_inline_break(e):r["$=="]("inline_button")?this.$convert_inline_button(e):r["$=="]("inline_callout")?this.$convert_inline_callout(e):r["$=="]("inline_footnote")?this.$convert_inline_footnote(e):r["$=="]("inline_image")?this.$convert_inline_image(e):r["$=="]("inline_indexterm")?this.$convert_inline_indexterm(e):r["$=="]("inline_kbd")?this.$convert_inline_kbd(e):r["$=="]("inline_menu")?this.$convert_inline_menu(e):r["$=="]("open")?this.$convert_open(e):r["$=="]("page_break")?this.$convert_page_break(e):r["$=="]("preamble")?this.$convert_preamble(e):r["$=="]("quote")?this.$convert_quote(e):r["$=="]("sidebar")?this.$convert_sidebar(e):r["$=="]("stem")?this.$convert_stem(e):r["$=="]("table")?this.$convert_table(e):r["$=="]("thematic_break")?this.$convert_thematic_break(e):r["$=="]("verse")?this.$convert_verse(e):r["$=="]("video")?this.$convert_video(e):r["$=="]("document")?this.$convert_document(e):r["$=="]("toc")?this.$convert_toc(e):r["$=="]("pass")?this.$convert_pass(e):r["$=="]("audio")?this.$convert_audio(e):h(this,t.find_super_dispatcher(this,"convert",y,!1),s,$)},y.$$arity=-2),t.def(lt,"$convert_document",g=function(t){var e,i,$,s,a,c,u,p,f,m,y,g=this,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,N=o,D=o;return c="<br"+(u=g.void_element_slash)+">",d((b=t.$attr("asset-uri-scheme","https"))["$empty?"]())||(b+=":"),p=b+"//cdnjs.cloudflare.com/ajax/libs",f=t["$attr?"]("linkcss"),v=["<!DOCTYPE html>"],m=d(t["$attr?"]("nolang"))?"":' lang="'+t.$attr("lang","en")+'"',v["$<<"]("<html"+(d(g.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+m+">"),v["$<<"]('<head>\n<meta charset="'+t.$attr("encoding","UTF-8")+'"'+u+'>\n<meta http-equiv="X-UA-Compatible" content="IE=edge"'+u+'>\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+u+'>\n<meta name="generator" content="Asciidoctor '+t.$attr("asciidoctor-version")+'"'+u+">"),d(t["$attr?"]("app-name"))&&v["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+u+">"),d(t["$attr?"]("description"))&&v["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+u+">"),d(t["$attr?"]("keywords"))&&v["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+u+">"),d(t["$attr?"]("authors"))&&v["$<<"]('<meta name="author" content="'+(d((x=t.$sub_replacements(t.$attr("authors")))["$include?"]("<"))?x.$gsub(l(ct,"XmlSanitizeRx"),""):x)+'"'+u+">"),d(t["$attr?"]("copyright"))&&v["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+u+">"),d(t["$attr?"]("favicon"))&&(d((w=t.$attr("favicon"))["$empty?"]())?(w="favicon.ico",k="image/x-icon"):k=d(E=l(ct,"Helpers").$extname(w,o))?E["$=="](".ico")?"image/x-icon":"image/"+E.$slice(1,E.$length()):"image/x-icon",v["$<<"]('<link rel="icon" type="'+k+'" href="'+w+'"'+u+">")),v["$<<"]("<title>"+t.$doctitle(_(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),d(l(ct,"DEFAULT_STYLESHEET_KEYS")["$include?"](t.$attr("stylesheet")))?(d(A=t.$attr("webfonts"))&&v["$<<"]('<link rel="stylesheet" href="'+b+"//fonts.googleapis.com/css?family="+(d(A["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":A)+'"'+u+">"),d(f)?v["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(l(ct,"DEFAULT_STYLESHEET_NAME"),t.$attr("stylesdir",""),!1)+'"'+u+">"):v["$<<"]("<style>\n"+l(ct,"Stylesheets").$instance().$primary_stylesheet_data()+"\n</style>")):d(t["$attr?"]("stylesheet"))&&(d(f)?v["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+u+">"):v["$<<"]("<style>\n"+t.$read_asset(t.$normalize_system_path(t.$attr("stylesheet"),t.$attr("stylesdir","")),_(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),d(t["$attr?"]("icons","font"))&&(d(t["$attr?"]("iconfont-remote"))?v["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",p+"/font-awesome/"+l(ct,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+u+">"):(O=t.$attr("iconfont-name","font-awesome")+".css",v["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(O,t.$attr("stylesdir",""),!1)+'"'+u+">"))),d(d(e=S=t.$syntax_highlighter())?S["$docinfo?"]("head"):e)&&v["$<<"](S.$docinfo("head",t,_(["linkcss"],{linkcss:f}))),d((R=t.$docinfo())["$empty?"]())||v["$<<"](R),v["$<<"]("</head>"),C=d(t.$id())?['id="'+t.$id()+'"']:[],I=d(d(e=d(i=d($=y=t["$sections?"]())?t["$attr?"]("toc-class"):$)?t["$attr?"]("toc"):i)?t["$attr?"]("toc-placement","auto"):e)?[t.$doctype(),t.$attr("toc-class"),"toc-"+t.$attr("toc-position","header")]:[t.$doctype()],d(t["$role?"]())&&I["$<<"](t.$role()),C["$<<"]('class="'+I.$join(" ")+'"'),d(t["$attr?"]("max-width"))&&C["$<<"]('style="max-width: '+t.$attr("max-width")+';"'),v["$<<"]("<body "+C.$join(" ")+">"),d((R=t.$docinfo("header"))["$empty?"]())||v["$<<"](R),d(t.$noheader())||(v["$<<"]('<div id="header">'),t.$doctype()["$=="]("manpage")?(v["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),d(d(e=d(i=y)?t["$attr?"]("toc"):i)?t["$attr?"]("toc-placement","auto"):e)&&v["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+g.$convert_outline(t)+"\n</div>"),d(t["$attr?"]("manpurpose"))&&v["$<<"](g.$generate_manname_section(t))):(d(t["$header?"]())&&(d(t.$notitle())||v["$<<"]("<h1>"+t.$header().$title()+"</h1>"),T=[],L=1,h(t.$authors(),"each",[],((s=function(e){s.$$s;return null==e&&(e=o),T["$<<"]('<span id="author'+(d(r(L,1))?L:"")+'" class="author">'+t.$sub_replacements(e.$name())+"</span>"+c),d(e.$email())&&T["$<<"]('<span id="email'+(d(r(L,1))?L:"")+'" class="email">'+t.$sub_macros(e.$email())+"</span>"+c),L=n(L,1)}).$$s=g,s.$$arity=1,s)),d(t["$attr?"]("revnumber"))&&T["$<<"]('<span id="revnumber">'+(d(e=t.$attr("version-label"))?e:"").$downcase()+" "+t.$attr("revnumber")+(d(t["$attr?"]("revdate"))?",":"")+"</span>"),d(t["$attr?"]("revdate"))&&T["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),d(t["$attr?"]("revremark"))&&T["$<<"](c+'<span id="revremark">'+t.$attr("revremark")+"</span>"),d(T["$empty?"]())||(v["$<<"]('<div class="details">'),v.$concat(T),v["$<<"]("</div>"))),d(d(e=d(i=y)?t["$attr?"]("toc"):i)?t["$attr?"]("toc-placement","auto"):e)&&v["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+g.$convert_outline(t)+"\n</div>")),v["$<<"]("</div>")),v["$<<"]('<div id="content">\n'+t.$content()+"\n</div>"),d(d(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&(v["$<<"]('<div id="footnotes">\n<hr'+u+">"),h(t.$footnotes(),"each",[],((a=function(t){a.$$s;return null==t&&(t=o),v["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=g,a.$$arity=1,a)),v["$<<"]("</div>")),d(t.$nofooter())||(v["$<<"]('<div id="footer">'),v["$<<"]('<div id="footer-text">'),d(t["$attr?"]("revnumber"))&&v["$<<"](t.$attr("version-label")+" "+t.$attr("revnumber")+c),d(d(e=t["$attr?"]("last-update-label"))?t["$attr?"]("reproducible")["$!"]():e)&&v["$<<"](t.$attr("last-update-label")+" "+t.$attr("docdatetime")),v["$<<"]("</div>"),v["$<<"]("</div>")),d(d(e=S)?S["$docinfo?"]("footer"):e)&&v["$<<"](S.$docinfo("footer",t,_(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:p,linkcss:f,self_closing_tag_slash:u}))),d(t["$attr?"]("stem"))&&(N=t.$attr("eqnums","none"),d(N["$empty?"]())&&(N="AMS"),D=' equationNumbers: { autoNumber: "'+N+'" } ',v["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+l(ct,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+l(ct,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+l(ct,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+D+'}\n})\nMathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {\n  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {\n    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains(\'stemblock\')) {\n      data.math.root.display = "block"\n    }\n    return data\n  })\n})\n<\/script>\n<script src="'+p+"/mathjax/"+l(ct,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),d((R=t.$docinfo("footer"))["$empty?"]())||v["$<<"](R),v["$<<"]("</body>"),v["$<<"]("</html>"),v.$join(l(ct,"LF"))},g.$$arity=1),t.def(lt,"$convert_embedded",b=function(t){var e,r,n,i,$=o,s=o,a=o;return $=[],t.$doctype()["$=="]("manpage")?(d(t.$notitle())||(s=d(t.$id())?' id="'+t.$id()+'"':"",$["$<<"]("<h1"+s+">"+t.$doctitle()+" Manual Page</h1>")),d(t["$attr?"]("manpurpose"))&&$["$<<"](this.$generate_manname_section(t))):d(d(e=t["$header?"]())?t.$notitle()["$!"]():e)&&(s=d(t.$id())?' id="'+t.$id()+'"':"",$["$<<"]("<h1"+s+">"+t.$header().$title()+"</h1>")),d(d(e=d(r=d(n=t["$sections?"]())?t["$attr?"]("toc"):n)?(a=t.$attr("toc-placement"))["$!="]("macro"):r)?a["$!="]("preamble"):e)&&$["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$convert_outline(t)+"\n</div>"),$["$<<"](t.$content()),d(d(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&($["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),h(t.$footnotes(),"each",[],((i=function(t){i.$$s;return null==t&&(t=o),$["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,i.$$arity=1,i)),$["$<<"]("</div>")),$.$join(l(ct,"LF"))},b.$$arity=1),t.def(lt,"$convert_outline",v=function(t,e){var r,n,s,a,c,u=o,p=o;return null==e&&(e=_([],{})),d(t["$sections?"]())?(a=d(r=e["$[]"]("sectnumlevels"))?r:(d(n=t.$document().$attributes()["$[]"]("sectnumlevels"))?n:3).$to_i(),c=d(r=e["$[]"]("toclevels"))?r:(d(n=t.$document().$attributes()["$[]"]("toclevels"))?n:2).$to_i(),u=t.$sections(),p=['<ul class="sectlevel'+u["$[]"](0).$level()+'">'],h(u,"each",[],((s=function(e){var r,n,u=s.$$s||this,h=o,f=o,m=o;return null==e&&(e=o),n=e.$level(),h=d(e.$caption())?e.$captioned_title():d(d(r=e.$numbered())?i(n,a):r)?d(d(r=$(n,2))?t.$document().$doctype()["$=="]("book"):r)?e.$sectname()["$=="]("chapter")?(d(f=t.$document().$attributes()["$[]"]("chapter-signifier"))?f+" ":"")+e.$sectnum()+" "+e.$title():e.$sectname()["$=="]("part")?(d(f=t.$document().$attributes()["$[]"]("part-signifier"))?f+" ":"")+e.$sectnum(o,":")+" "+e.$title():e.$sectnum()+" "+e.$title():e.$sectnum()+" "+e.$title():e.$title(),d(h["$include?"]("<a"))&&(h=h.$gsub(l(ct,"DropAnchorRx"),"")),d(d(r=$(n,c))?m=u.$convert_outline(e,_(["toclevels","sectnumlevels"],{toclevels:c,sectnumlevels:a})):r)?(p["$<<"]('<li><a href="#'+e.$id()+'">'+h+"</a>"),p["$<<"](m),p["$<<"]("</li>")):p["$<<"]('<li><a href="#'+e.$id()+'">'+h+"</a></li>")}).$$s=this,s.$$arity=1,s)),p["$<<"]("</ul>"),p.$join(l(ct,"LF"))):o},v.$$arity=-2),t.def(lt,"$convert_section",x=function(t){var e,r,s=o,a=o,l=o,c=o,u=o,h=o,_=o;return s=t.$document().$attributes(),a=t.$level(),l=d(t.$caption())?t.$captioned_title():d(d(e=t.$numbered())?i(a,(d(r=s["$[]"]("sectnumlevels"))?r:3).$to_i()):e)?d(d(e=$(a,2))?t.$document().$doctype()["$=="]("book"):e)?t.$sectname()["$=="]("chapter")?(d(c=s["$[]"]("chapter-signifier"))?c+" ":"")+t.$sectnum()+" "+t.$title():t.$sectname()["$=="]("part")?(d(c=s["$[]"]("part-signifier"))?c+" ":"")+t.$sectnum(o,":")+" "+t.$title():t.$sectnum()+" "+t.$title():t.$sectnum()+" "+t.$title():t.$title(),d(t.$id())?(u=' id="'+(h=t.$id())+'"',d(s["$[]"]("sectlinks"))&&(l='<a class="link" href="#'+h+'">'+l+"</a>"),d(s["$[]"]("sectanchors"))&&(l=s["$[]"]("sectanchors")["$=="]("after")?l+'<a class="anchor" href="#'+h+'"></a>':'<a class="anchor" href="#'+h+'"></a>'+l)):u="",a["$=="](0)?"<h1"+u+' class="sect0'+(d(_=t.$role())?" "+_:"")+'">'+l+"</h1>\n"+t.$content():'<div class="sect'+a+(d(_=t.$role())?" "+_:"")+'">\n<h'+n(a,1)+u+">"+l+"</h"+n(a,1)+">\n"+(a["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},x.$$arity=1),t.def(lt,"$convert_admonition",w=function(t){var e,r,n,i,$=o,s=o;return r=d(t.$id())?' id="'+t.$id()+'"':"",n=t.$attr("name"),i=d(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",$=d(t.$document()["$attr?"]("icons"))?d(d(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+r+' class="admonitionblock '+n+(d(s=t.$role())?" "+s:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},w.$$arity=1),t.def(lt,"$convert_audio",k=function(t){var e,r,n,i,$,s,o,a,l=this;return r=l.xml_mode,n=d(t.$id())?' id="'+t.$id()+'"':"",i=' class="'+["audioblock",t.$role()].$compact().$join(" ")+'"',$=d(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",s=t.$attr("start"),o=t.$attr("end"),a=d(d(e=s)?e:o)?"#t="+(d(e=s)?e:"")+(d(o)?","+o:""):"","<div"+n+i+">\n"+$+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+a+'"'+(d(t["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",r):"")+(d(t["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",r))+(d(t["$option?"]("loop"))?l.$append_boolean_attribute("loop",r):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},k.$$arity=1),t.def(lt,"$convert_colist",E=function(t){var e,r,i,$,s,a=o,c=o,u=o;return a=[],$=d(t.$id())?' id="'+t.$id()+'"':"",s=' class="'+["colist",t.$style(),t.$role()].$compact().$join(" ")+'"',a["$<<"]("<div"+$+s+">"),d(t["$title?"]())&&a["$<<"]('<div class="title">'+t.$title()+"</div>"),d(t.$document()["$attr?"]("icons"))?(a["$<<"]("<table>"),e=[t.$document()["$attr?"]("icons","font"),0],c=e[0],u=e[1],h(t.$items(),"each",[],((r=function(e){var i=r.$$s||this,$=o;return null==i.void_element_slash&&(i.void_element_slash=o),null==e&&(e=o),u=n(u,1),$=d(c)?'<i class="conum" data-value="'+u+'"></i><b>'+u+"</b>":'<img src="'+t.$icon_uri("callouts/"+u)+'" alt="'+u+'"'+i.void_element_slash+">",a["$<<"]("<tr>\n<td>"+$+"</td>\n<td>"+e.$text()+(d(e["$blocks?"]())?n(l(ct,"LF"),e.$content()):"")+"</td>\n</tr>")}).$$s=this,r.$$arity=1,r)),a["$<<"]("</table>")):(a["$<<"]("<ol>"),h(t.$items(),"each",[],((i=function(t){i.$$s;return null==t&&(t=o),a["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(d(t["$blocks?"]())?n(l(ct,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,i.$$arity=1,i)),a["$<<"]("</ol>")),a["$<<"]("</div>"),a.$join(l(ct,"LF"))},E.$$arity=1),t.def(lt,"$convert_dlist",A=function(t){var e,r,n,i,$,s,a=o,c=o,u=o,_=o,p=o;return a=[],$=d(t.$id())?' id="'+t.$id()+'"':"",s=' class="'+(c=t.$style(),"qanda"["$==="](c)?["qlist","qanda",t.$role()]:"horizontal"["$==="](c)?["hdlist",t.$role()]:["dlist",t.$style(),t.$role()]).$compact().$join(" ")+'"',a["$<<"]("<div"+$+s+">"),d(t["$title?"]())&&a["$<<"]('<div class="title">'+t.$title()+"</div>"),c=t.$style(),"qanda"["$==="](c)?(a["$<<"]("<ol>"),h(t.$items(),"each",[],((e=function(t,r){var n,i=e.$$s||this;return null==t&&(t=o),null==r&&(r=o),a["$<<"]("<li>"),h(t,"each",[],((n=function(t){n.$$s;return null==t&&(t=o),a["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=i,n.$$arity=1,n)),d(r)&&(d(r["$text?"]())&&a["$<<"]("<p>"+r.$text()+"</p>"),d(r["$blocks?"]())&&a["$<<"](r.$content())),a["$<<"]("</li>")}).$$s=this,e.$$arity=2,e)),a["$<<"]("</ol>")):"horizontal"["$==="](c)?(u=this.void_element_slash,a["$<<"]("<table>"),d(d(r=t["$attr?"]("labelwidth"))?r:t["$attr?"]("itemwidth"))&&(a["$<<"]("<colgroup>"),_=d(t["$attr?"]("labelwidth"))?' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"':"",a["$<<"]("<col"+_+u+">"),_=d(t["$attr?"]("itemwidth"))?' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"':"",a["$<<"]("<col"+_+u+">"),a["$<<"]("</colgroup>")),h(t.$items(),"each",[],((n=function(e,r){var i,$=n.$$s||this,s=o;return null==e&&(e=o),null==r&&(r=o),a["$<<"]("<tr>"),a["$<<"]('<td class="hdlist1'+(d(t["$option?"]("strong"))?" strong":"")+'">'),s=!0,h(e,"each",[],((i=function(t){i.$$s;return null==t&&(t=o),d(s)||a["$<<"]("<br"+u+">"),a["$<<"](t.$text()),s=o}).$$s=$,i.$$arity=1,i)),a["$<<"]("</td>"),a["$<<"]('<td class="hdlist2">'),d(r)&&(d(r["$text?"]())&&a["$<<"]("<p>"+r.$text()+"</p>"),d(r["$blocks?"]())&&a["$<<"](r.$content())),a["$<<"]("</td>"),a["$<<"]("</tr>")}).$$s=this,n.$$arity=2,n)),a["$<<"]("</table>")):(a["$<<"]("<dl>"),p=d(t.$style())?"":' class="hdlist1"',h(t.$items(),"each",[],((i=function(t,e){var r,n=i.$$s||this;return null==t&&(t=o),null==e&&(e=o),h(t,"each",[],((r=function(t){r.$$s;return null==t&&(t=o),a["$<<"]("<dt"+p+">"+t.$text()+"</dt>")}).$$s=n,r.$$arity=1,r)),d(e)?(a["$<<"]("<dd>"),d(e["$text?"]())&&a["$<<"]("<p>"+e.$text()+"</p>"),d(e["$blocks?"]())&&a["$<<"](e.$content()),a["$<<"]("</dd>")):o}).$$s=this,i.$$arity=2,i)),a["$<<"]("</dl>")),a["$<<"]("</div>"),a.$join(l(ct,"LF"))},A.$$arity=1),t.def(lt,"$convert_example",O=function(t){var e,r=o,n=o,i=o,$=o;return e=d(t.$id())?' id="'+t.$id()+'"':"",d(t["$option?"]("collapsible"))?(r=d(t.$role())?' class="'+t.$role()+'"':"",n=d(t["$title?"]())?'<summary class="title">'+t.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+e+r+(d(t["$option?"]("open"))?" open":"")+">\n"+n+'\n<div class="content">\n'+t.$content()+"\n</div>\n</details>"):(i=d(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+e+' class="exampleblock'+(d($=t.$role())?" "+$:"")+'">\n'+i+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},O.$$arity=1),t.def(lt,"$convert_floating_title",S=function(t){var e;return"<"+(e="h"+n(t.$level(),1))+(d(t.$id())?' id="'+t.$id()+'"':"")+' class="'+[t.$style(),t.$role()].$compact().$join(" ")+'">'+t.$title()+"</"+e+">"},S.$$arity=1),t.def(lt,"$convert_image",R=function(t){var e,r,n,i,s,c,u=this,h=o,_=o,p=o,f=o,m=o,y=o;return h=t.$attr("target"),i=d(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",s=d(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",d(d(e=d(r=d(n=t["$attr?"]("format","svg"))?n:h["$include?"](".svg"))?$(t.$document().$safe(),a(l(ct,"SafeMode"),"SECURE")):r)?d(r=_=t["$option?"]("inline"))?r:p=t["$option?"]("interactive"):e)&&(d(_)?f=d(e=u.$read_svg_contents(t,h))?e:'<span class="alt">'+t.$alt()+"</span>":d(p)&&(m=d(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+u.$encode_attribute_value(t.$alt())+'"'+i+s+u.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",f='<object type="image/svg+xml" data="'+t.$image_uri(h)+'"'+i+s+">"+m+"</object>")),f=d(e=f)?e:'<img src="'+t.$image_uri(h)+'" alt="'+u.$encode_attribute_value(t.$alt())+'"'+i+s+u.void_element_slash+">",d(t["$attr?"]("link"))&&(f='<a class="image" href="'+t.$attr("link")+'"'+u.$append_link_constraint_attrs(t).$join()+">"+f+"</a>"),c=d(t.$id())?' id="'+t.$id()+'"':"",y=["imageblock"],d(t["$attr?"]("float"))&&y["$<<"](t.$attr("float")),d(t["$attr?"]("align"))&&y["$<<"]("text-"+t.$attr("align")),d(t.$role())&&y["$<<"](t.$role()),"<div"+c+(' class="'+y.$join(" ")+'"')+'>\n<div class="content">\n'+f+"\n</div>"+(d(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":"")+"\n</div>"},R.$$arity=1),t.def(lt,"$convert_listing",C=function(r){var i,$,s,a,l=o,c=o,u=o,p=o,f=o,m=o,y=o,g=o;return $=d(i=r["$option?"]("nowrap"))?i:r.$document()["$attr?"]("prewrap")["$!"](),r.$style()["$=="]("source")?(l=r.$attr("language"),d(c=r.$document().$syntax_highlighter())?(u=d(c["$highlight?"]())?_(["css_mode","style"],{css_mode:(d(i=(p=r.$document().$attributes())["$[]"](c.$name()+"-css"))?i:"class").$to_sym(),style:p["$[]"](c.$name()+"-style")}):_([],{}),f=["nowrap",$],h(u,"[]=",t.to_a(f)),f[e(f.length,1)]):(m='<pre class="highlight'+(d($)?" nowrap":"")+'"><code'+(d(l)?' class="language-'+l+'" data-lang="'+l+'"':"")+">",y="</code></pre>")):(m="<pre"+(d($)?' class="nowrap"':"")+">",y="</pre>"),s=d(r.$id())?' id="'+r.$id()+'"':"",a=d(r["$title?"]())?'<div class="title">'+r.$captioned_title()+"</div>\n":"","<div"+s+' class="listingblock'+(d(g=r.$role())?" "+g:"")+'">\n'+a+'<div class="content">\n'+(d(c)?c.$format(r,l,u):n(n(m,d(i=r.$content())?i:""),y))+"\n</div>\n</div>"},C.$$arity=1),t.def(lt,"$convert_literal",I=function(t){var e,r,n,i,$=o;return r=d(t.$id())?' id="'+t.$id()+'"':"",n=d(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",i=d(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(d($=t.$role())?" "+$:"")+'">\n'+n+'<div class="content">\n<pre'+(d(i)?' class="nowrap"':"")+">"+t.$content()+"</pre>\n</div>\n</div>"},I.$$arity=1),t.def(lt,"$convert_stem",T=function(e){var r,n,i,$,s,a,c,u=o,_=o,f=o,m=o;return $=d(e.$id())?' id="'+e.$id()+'"':"",s=d(e["$title?"]())?'<div class="title">'+e.$title()+"</div>\n":"",n=l(ct,"BLOCK_MATH_DELIMITERS")["$[]"](u=e.$style().$to_sym()),r=t.to_ary(n),a=null==r[0]?o:r[0],c=null==r[1]?o:r[1],d(_=e.$content())?(d((r=u["$=="]("asciimath"))?_["$include?"](l(ct,"LF")):u["$=="]("asciimath"))&&(f="<br"+this.void_element_slash+">"+l(ct,"LF"),_=h(_,"gsub",[l(ct,"StemBreakRx")],((i=function(){var t,e,r;i.$$s;return""+c+(e=f,r=((t=p["~"])===o?o:t["$[]"](0)).$count(l(ct,"LF")),"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r))+a}).$$s=this,i.$$arity=0,i))),d(d(r=_["$start_with?"](a))?_["$end_with?"](c):r)||(_=""+a+_+c)):_="","<div"+$+' class="stemblock'+(d(m=e.$role())?" "+m:"")+'">\n'+s+'<div class="content">\n'+_+"\n</div>\n</div>"},T.$$arity=1),t.def(lt,"$convert_olist",L=function(t){var e,r,n,i,$,s,a=this,c=o,u=o;return c=[],r=d(t.$id())?' id="'+t.$id()+'"':"",n=' class="'+["olist",t.$style(),t.$role()].$compact().$join(" ")+'"',c["$<<"]("<div"+r+n+">"),d(t["$title?"]())&&c["$<<"]('<div class="title">'+t.$title()+"</div>"),i=d(u=t.$list_marker_keyword())?' type="'+u+'"':"",$=d(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",s=d(t["$option?"]("reversed"))?a.$append_boolean_attribute("reversed",a.xml_mode):"",c["$<<"]('<ol class="'+t.$style()+'"'+i+$+s+">"),h(t.$items(),"each",[],((e=function(t){e.$$s;return null==t&&(t=o),d(t.$id())?c["$<<"]('<li id="'+t.$id()+'"'+(d(t.$role())?' class="'+t.$role()+'"':"")+">"):d(t.$role())?c["$<<"]('<li class="'+t.$role()+'">'):c["$<<"]("<li>"),c["$<<"]("<p>"+t.$text()+"</p>"),d(t["$blocks?"]())&&c["$<<"](t.$content()),c["$<<"]("</li>")}).$$s=a,e.$$arity=1,e)),c["$<<"]("</ol>"),c["$<<"]("</div>"),c.$join(l(ct,"LF"))},L.$$arity=1),t.def(lt,"$convert_open",N=function(t){var e,n,i,$=o,s=o,a=o,l=o;return($=t.$style())["$=="]("abstract")?d((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(s=d(t.$id())?' id="'+t.$id()+'"':"",a=d(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+s+' class="quoteblock abstract'+(d(l=t.$role())?" "+l:"")+'">\n'+a+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):d((e=$["$=="]("partintro"))?d(n=d(i=r(t.$level(),0))?i:t.$parent().$context()["$!="]("section"))?n:t.$document().$doctype()["$!="]("book"):$["$=="]("partintro"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(s=d(t.$id())?' id="'+t.$id()+'"':"",a=d(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+s+' class="openblock'+(d(d(e=$)?$["$!="]("open"):e)?" "+$:"")+(d(l=t.$role())?" "+l:"")+'">\n'+a+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},N.$$arity=1),t.def(lt,"$convert_page_break",D=function(t){return'<div style="page-break-after: always;"></div>'},D.$$arity=1),t.def(lt,"$convert_paragraph",B=function(t){var e=o;return e=d(t.$role())?(d(t.$id())?' id="'+t.$id()+'"':"")+' class="paragraph '+t.$role()+'"':d(t.$id())?' id="'+t.$id()+'" class="paragraph"':' class="paragraph"',d(t["$title?"]())?"<div"+e+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div"+e+">\n<p>"+t.$content()+"</p>\n</div>"},B.$$arity=1),t.alias(lt,"convert_pass","content_only"),t.def(lt,"$convert_preamble",M=function(t){var e,r,n=o,i=o;return i=d(d(e=d(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$convert_outline(n)+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},M.$$arity=1),t.def(lt,"$convert_quote",F=function(t){var e,r,n,i,$,s,a=this,l=o,c=o;return r=d(t.$id())?' id="'+t.$id()+'"':"",n=' class="'+["quoteblock",t.$role()].$compact().$join(" ")+'"',i=d(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",$=d(t["$attr?"]("attribution"))?t.$attr("attribution"):o,s=d(t["$attr?"]("citetitle"))?t.$attr("citetitle"):o,d(d(e=$)?e:s)?(l=d(s)?"<cite>"+s+"</cite>":"",c='\n<div class="attribution">\n'+(d($)?"&#8212; "+$+(d(s)?"<br"+a.void_element_slash+">\n":""):"")+l+"\n</div>"):c="","<div"+r+n+">"+i+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+c+"\n</div>"},F.$$arity=1),t.def(lt,"$convert_thematic_break",z=function(t){return"<hr"+this.void_element_slash+">"},z.$$arity=1),t.def(lt,"$convert_sidebar",P=function(t){var e,r,n=o;return e=d(t.$id())?' id="'+t.$id()+'"':"",r=d(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+e+' class="sidebarblock'+(d(n=t.$role())?" "+n:"")+'">\n<div class="content">\n'+r+t.$content()+"\n</div>\n</div>"},P.$$arity=1),t.def(lt,"$convert_table",j=function(t){var e,i,$,s,a,c,u,_,p,f=o,m=o,y=o,g=o,b=o;return f=[],s=d(t.$id())?' id="'+t.$id()+'"':"",m=["tableblock","frame-"+t.$attr("frame","all","table-frame"),"grid-"+t.$attr("grid","all","table-grid")],d(a=t.$attr("stripes",o,"table-stripes"))&&m["$<<"]("stripes-"+a),y=[],d(d(e=c=t["$option?"]("autowidth"))?t["$attr?"]("width")["$!"]():e)?m["$<<"]("fit-content"):(g=t.$attr("tablepcwidth"))["$=="](100)?m["$<<"]("stretch"):y["$<<"]("width: "+g+"%;"),d(t["$attr?"]("float"))&&m["$<<"](t.$attr("float")),d(u=t.$role())&&m["$<<"](u),_=' class="'+m.$join(" ")+'"',p=d(y["$empty?"]())?"":' style="'+y.$join(" ")+'"',f["$<<"]("<table"+s+_+p+">"),d(t["$title?"]())&&f["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),d(r(t.$attr("rowcount"),0))&&(b=this.void_element_slash,f["$<<"]("<colgroup>"),d(c)?f=n(f,l(ct,"Array").$new(t.$columns().$size(),"<col"+b+">")):h(t.$columns(),"each",[],((i=function(t){i.$$s;return null==t&&(t=o),f["$<<"](d(t["$option?"]("autowidth"))?"<col"+b+">":'<col style="width: '+t.$attr("colpcwidth")+'%;"'+b+">")}).$$s=this,i.$$arity=1,i)),f["$<<"]("</colgroup>"),h(t.$rows().$to_h(),"each",[],(($=function(e,r){var n,i=$.$$s||this;return null==e&&(e=o),null==r&&(r=o),d(r["$empty?"]())?o:(f["$<<"]("<t"+e+">"),h(r,"each",[],((n=function(r){var i,$=n.$$s||this;return null==r&&(r=o),f["$<<"]("<tr>"),h(r,"each",[],((i=function(r){i.$$s;var n,$,s,a,l,c,u=o,h=o;return null==r&&(r=o),e["$=="]("head")?u=r.$text():(h=r.$style(),u="asciidoc"["$==="](h)?'<div class="content">'+r.$content()+"</div>":"literal"["$==="](h)?'<div class="literal"><pre>'+r.$text()+"</pre></div>":d((u=r.$content())["$empty?"]())?"":'<p class="tableblock">'+u.$join('</p>\n<p class="tableblock">')+"</p>"),$=d(d(n=e["$=="]("head"))?n:r.$style()["$=="]("header"))?"th":"td",s=' class="tableblock halign-'+r.$attr("halign")+" valign-"+r.$attr("valign")+'"',a=d(r.$colspan())?' colspan="'+r.$colspan()+'"':"",l=d(r.$rowspan())?' rowspan="'+r.$rowspan()+'"':"",c=d(t.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+t.$document().$attr("cellbgcolor")+';"':"",f["$<<"]("<"+$+s+a+l+c+">"+u+"</"+$+">")}).$$s=$,i.$$arity=1,i)),f["$<<"]("</tr>")}).$$s=i,n.$$arity=1,n)),f["$<<"]("</t"+e+">"))}).$$s=this,$.$$arity=2,$))),f["$<<"]("</table>"),f.$join(l(ct,"LF"))},j.$$arity=1),t.def(lt,"$convert_toc",q=function(t){var e,r,n,i,$=o,s=o,a=o;return d(d(e=d(r=($=t.$document())["$attr?"]("toc-placement","macro"))?$["$sections?"]():r)?$["$attr?"]("toc"):e)?(d(t.$id())?(s=' id="'+t.$id()+'"',a=' id="'+t.$id()+'title"'):(s=' id="toc"',a=' id="toctitle"'),n=d(t["$title?"]())?t.$title():$.$attr("toc-title"),i=d(t["$attr?"]("levels"))?t.$attr("levels").$to_i():o,"<div"+s+' class="'+(d(t["$role?"]())?t.$role():$.$attr("toc-class","toc"))+'">\n<div'+a+' class="title">'+n+"</div>\n"+this.$convert_outline($,_(["toclevels"],{toclevels:i}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},q.$$arity=1),t.def(lt,"$convert_ulist",U=function(t){var e,r,n,i=o,$=o,s=o,a=o,c=o;return i=[],r=d(t.$id())?' id="'+t.$id()+'"':"",$=["ulist",t.$style(),t.$role()].$compact(),s=a="",d(n=t["$option?"]("checklist"))?($.$unshift($.$shift(),"checklist"),c=' class="checklist"',d(t["$option?"]("interactive"))?d(this.xml_mode)?(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',a='<input type="checkbox" data-item-complete="0"/> '):(s='<input type="checkbox" data-item-complete="1" checked> ',a='<input type="checkbox" data-item-complete="0"> '):d(t.$document()["$attr?"]("icons","font"))?(s='<i class="fa fa-check-square-o"></i> ',a='<i class="fa fa-square-o"></i> '):(s="&#10003; ",a="&#10063; ")):c=d(t.$style())?' class="'+t.$style()+'"':"",i["$<<"]("<div"+r+' class="'+$.$join(" ")+'">'),d(t["$title?"]())&&i["$<<"]('<div class="title">'+t.$title()+"</div>"),i["$<<"]("<ul"+c+">"),h(t.$items(),"each",[],((e=function(t){var r;e.$$s;return null==t&&(t=o),d(t.$id())?i["$<<"]('<li id="'+t.$id()+'"'+(d(t.$role())?' class="'+t.$role()+'"':"")+">"):d(t.$role())?i["$<<"]('<li class="'+t.$role()+'">'):i["$<<"]("<li>"),d(d(r=n)?t["$attr?"]("checkbox"):r)?i["$<<"]("<p>"+(d(t["$attr?"]("checked"))?s:a)+t.$text()+"</p>"):i["$<<"]("<p>"+t.$text()+"</p>"),d(t["$blocks?"]())&&i["$<<"](t.$content()),i["$<<"]("</li>")}).$$s=this,e.$$arity=1,e)),i["$<<"]("</ul>"),i["$<<"]("</div>"),i.$join(l(ct,"LF"))},U.$$arity=1),t.def(lt,"$convert_verse",H=function(t){var e,r,n,i,$,s,a=this,l=o,c=o;return r=d(t.$id())?' id="'+t.$id()+'"':"",n=' class="'+["verseblock",t.$role()].$compact().$join(" ")+'"',i=d(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",$=d(t["$attr?"]("attribution"))?t.$attr("attribution"):o,s=d(t["$attr?"]("citetitle"))?t.$attr("citetitle"):o,d(d(e=$)?e:s)?(l=d(s)?"<cite>"+s+"</cite>":"",c='\n<div class="attribution">\n'+(d($)?"&#8212; "+$+(d(s)?"<br"+a.void_element_slash+">\n":""):"")+l+"\n</div>"):c="","<div"+r+n+">"+i+'\n<pre class="content">'+t.$content()+"</pre>"+c+"\n</div>"},H.$$arity=1),t.def(lt,"$convert_video",Y=function(e){var r,n,i,$,s,a,l,c,u=this,h=o,_=o,p=o,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o,E=o,A=o,O=o,S=o,R=o,C=o,I=o,T=o,L=o,N=o,D=o,B=o,M=o,F=o,z=o,P=o,j=o;return i=u.xml_mode,$=d(e.$id())?' id="'+e.$id()+'"':"",h=["videoblock"],d(e["$attr?"]("float"))&&h["$<<"](e.$attr("float")),d(e["$attr?"]("align"))&&h["$<<"]("text-"+e.$attr("align")),d(e.$role())&&h["$<<"](e.$role()),s=' class="'+h.$join(" ")+'"',a=d(e["$title?"]())?'\n<div class="title">'+e.$title()+"</div>":"",l=d(e["$attr?"]("width"))?' width="'+e.$attr("width")+'"':"",c=d(e["$attr?"]("height"))?' height="'+e.$attr("height")+'"':"",_=e.$attr("poster"),"vimeo"["$==="](_)?(d((p=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(p+=":"),f=d(e["$attr?"]("start"))?"#at="+e.$attr("start"):"",m=["?"],y=d(e["$option?"]("autoplay"))?(d(r=m.$pop())?r:"&amp;")+"autoplay=1":"",g=d(e["$option?"]("loop"))?(d(r=m.$pop())?r:"&amp;")+"loop=1":"",b=d(e["$option?"]("muted"))?(d(r=m.$pop())?r:"&amp;")+"muted=1":"","<div"+$+s+">"+a+'\n<div class="content">\n<iframe'+l+c+' src="'+p+"//player.vimeo.com/video/"+e.$attr("target")+y+g+b+f+'" frameborder="0"'+(d(e["$option?"]("nofullscreen"))?"":u.$append_boolean_attribute("allowfullscreen",i))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](_)?(d((p=e.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(p+=":"),v=d(e["$option?"]("related"))?1:0,x=d(e["$attr?"]("start"))?"&amp;start="+e.$attr("start"):"",w=d(e["$attr?"]("end"))?"&amp;end="+e.$attr("end"):"",y=d(e["$option?"]("autoplay"))?"&amp;autoplay=1":"",g=d(k=e["$option?"]("loop"))?"&amp;loop=1":"",E=d(e["$option?"]("muted"))?"&amp;mute=1":"",A=d(e["$option?"]("nocontrols"))?"&amp;controls=0":"",d(e["$option?"]("nofullscreen"))?(O="&amp;fs=0",S=""):(O="",S=u.$append_boolean_attribute("allowfullscreen",i)),R=d(e["$option?"]("modest"))?"&amp;modestbranding=1":"",C=d(e["$attr?"]("theme"))?"&amp;theme="+e.$attr("theme"):"",I=d(e["$attr?"]("lang"))?"&amp;hl="+e.$attr("lang"):"",n=e.$attr("target").$split("/",2),r=t.to_ary(n),T=null==r[0]?o:r[0],L=null==r[1]?o:r[1],d(L=d(r=L)?r:e.$attr("list"))?N="&amp;list="+L:(n=T.$split(",",2),r=t.to_ary(n),T=null==r[0]?o:r[0],D=null==r[1]?o:r[1],N=d(D=d(r=D)?r:e.$attr("playlist"))?"&amp;playlist="+D:d(k)?"&amp;playlist="+T:""),"<div"+$+s+">"+a+'\n<div class="content">\n<iframe'+l+c+' src="'+p+"//www.youtube.com/embed/"+T+"?rel="+v+x+w+y+g+E+A+N+O+R+C+I+'" frameborder="0"'+S+"></iframe>\n</div>\n</div>"):(B=d((M=e.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+e.$media_uri(M)+'"',F=d((M=e.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+M+'"',z=e.$attr("start"),P=e.$attr("end"),j=d(d(r=z)?r:P)?"#t="+(d(r=z)?r:"")+(d(P)?","+P:""):"","<div"+$+s+">"+a+'\n<div class="content">\n<video src="'+e.$media_uri(e.$attr("target"))+j+'"'+l+c+B+(d(e["$option?"]("autoplay"))?u.$append_boolean_attribute("autoplay",i):"")+(d(e["$option?"]("nocontrols"))?"":u.$append_boolean_attribute("controls",i))+(d(e["$option?"]("loop"))?u.$append_boolean_attribute("loop",i):"")+F+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},Y.$$arity=1),t.def(lt,"$convert_inline_anchor",G=function(t){var e,r=this,n=o,i=o,$=o,s=o,a=o,c=o;return n=t.$type(),"xref"["$==="](n)?(d(i=t.$attributes()["$[]"]("path"))?($=r.$append_link_constraint_attrs(t,d(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),s=d(e=t.$text())?e:i):($=d(t.$role())?' class="'+t.$role()+'"':"",d(s=t.$text())||(a=t.$attributes()["$[]"]("refid"),s=d(l(ct,"AbstractNode")["$==="](c=(r.refs=d(e=r.refs)?e:t.$document().$catalog()["$[]"]("refs"))["$[]"](a)))&&d(e=c.$xreftext(t.$attr("xrefstyle",o,!0)))?e:"["+a+"]")),'<a href="'+t.$target()+'"'+$+">"+s+"</a>"):"ref"["$==="](n)?'<a id="'+t.$id()+'"></a>':"link"["$==="](n)?($=d(t.$id())?[' id="'+t.$id()+'"']:[],d(t.$role())&&$["$<<"](' class="'+t.$role()+'"'),d(t["$attr?"]("title"))&&$["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+r.$append_link_constraint_attrs(t,$).$join()+">"+t.$text()+"</a>"):"bibref"["$==="](n)?'<a id="'+t.$id()+'"></a>['+(d(e=t.$reftext())?e:t.$id())+"]":(r.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),o)},G.$$arity=1),t.def(lt,"$convert_inline_break",W=function(t){return t.$text()+"<br"+this.void_element_slash+">"},W.$$arity=1),t.def(lt,"$convert_inline_button",K=function(t){return'<b class="button">'+t.$text()+"</b>"},K.$$arity=1),t.def(lt,"$convert_inline_callout",X=function(t){return d(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":d(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":t.$attributes()["$[]"]("guard")+'<b class="conum">('+t.$text()+")</b>"},X.$$arity=1),t.def(lt,"$convert_inline_footnote",V=function(t){var e;return d(e=t.$attr("index"))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(d(t.$id())?' id="_footnote_'+t.$id()+'"':"")+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":o},V.$$arity=1),t.def(lt,"$convert_inline_image",J=function(t){var e,r,n,i,s,c,u,p=this,f=o,m=o,y=o,g=o,b=o,v=o,x=o,w=o,k=o;return d((e=(f=d(r=t.$type())?r:"image")["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(f=d(r=t.$type())?r:"image")["$=="]("icon"))?(m="fa fa-"+t.$target(),h(_(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((n=function(e,r){n.$$s;return null==e&&(e=o),null==r&&(r=o),d(t["$attr?"](e))?m=m+" "+r+t.$attr(e):o}).$$s=p,n.$$arity=2,n)),y=d(t["$attr?"]("title"))?' title="'+t.$attr("title")+'"':"",g='<i class="'+m+'"'+y+"></i>"):d((e=f["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():f["$=="]("icon"))?g="["+t.$alt()+"]":(b=t.$target(),v=h(["width","height","title"],"map",[],(i=function(e){i.$$s;return null==e&&(e=o),d(t["$attr?"](e))?" "+e+'="'+t.$attr(e)+'"':""},i.$$s=p,i.$$arity=1,i)).$join(),d(d(e=d(r=d(s=f["$!="]("icon"))?d(c=t["$attr?"]("format","svg"))?c:b["$include?"](".svg"):s)?$(t.$document().$safe(),a(l(ct,"SafeMode"),"SECURE")):r)?d(r=x=t["$option?"]("inline"))?r:w=t["$option?"]("interactive"):e)&&(d(x)?g=d(e=p.$read_svg_contents(t,b))?e:'<span class="alt">'+t.$alt()+"</span>":d(w)&&(k=d(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+p.$encode_attribute_value(t.$alt())+'"'+v+p.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",g='<object type="image/svg+xml" data="'+t.$image_uri(b)+'"'+v+">"+k+"</object>")),g=d(e=g)?e:'<img src="'+(f["$=="]("icon")?t.$icon_uri(b):t.$image_uri(b))+'" alt="'+p.$encode_attribute_value(t.$alt())+'"'+v+p.void_element_slash+">"),d(t["$attr?"]("link"))&&(g='<a class="image" href="'+t.$attr("link")+'"'+p.$append_link_constraint_attrs(t).$join()+">"+g+"</a>"),'<span class="'+(m=d(u=t.$role())?d(t["$attr?"]("float"))?f+" "+t.$attr("float")+" "+u:f+" "+u:d(t["$attr?"]("float"))?f+" "+t.$attr("float"):f)+'">'+g+"</span>"},J.$$arity=1),t.def(lt,"$convert_inline_indexterm",Z=function(t){return t.$type()["$=="]("visible")?t.$text():""},Z.$$arity=1),t.def(lt,"$convert_inline_kbd",Q=function(t){var e=o;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e.$join("</kbd>+<kbd>")+"</kbd></span>"},Q.$$arity=1),t.def(lt,"$convert_inline_menu",tt=function(t){var e,r,n,i=o,$=o;return r="</b>"+(e=d(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ')+'<b class="submenu">',n=t.$attr("menu"),d((i=t.$attr("submenus"))["$empty?"]())?d($=t.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="menuitem">'+$+"</b></span>":'<b class="menuref">'+n+"</b>":'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="submenu">'+i.$join(r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},tt.$$arity=1),t.def(lt,"$convert_inline_quoted",et=function(e){var r,n,i,$,s=o,a=o;return n=l(ct,"QUOTE_TAGS")["$[]"](e.$type()),s=null==(r=t.to_ary(n))[0]?o:r[0],i=null==r[1]?o:r[1],$=null==r[2]?o:r[2],d(e.$id())?(a=d(e.$role())?' class="'+e.$role()+'"':"",d($)?s.$chop()+' id="'+e.$id()+'"'+a+">"+e.$text()+i:'<span id="'+e.$id()+'"'+a+">"+s+e.$text()+i+"</span>"):d(e.$role())?d($)?s.$chop()+' class="'+e.$role()+'">'+e.$text()+i:'<span class="'+e.$role()+'">'+s+e.$text()+i+"</span>":""+s+e.$text()+i},et.$$arity=1),t.def(lt,"$read_svg_contents",rt=function(e,r){var n,i=o,$=o,s=o;return d(i=e.$read_contents(r,_(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(d(i["$start_with?"]("<svg"))||(i=i.$sub(l(ct,"SvgPreambleRx"),"")),$=s=o,h(["width","height"],"each",[],((n=function(t){n.$$s;return null==t&&(t=o),d(e["$attr?"](t))?(d(s)||(s=($=i.$match(l(ct,"SvgStartTagRx"))["$[]"](0)).$gsub(l(ct,"DimensionAttributeRx"),"")),s=s.$chop()+" "+t+'="'+e.$attr(t)+'px">'):o}).$$s=this,n.$$arity=1,n)),d(s)&&(i=""+s+i["$[]"](t.Range.$new($.$length(),-1,!1)))),i},rt.$$arity=2),lt.$private(),t.def(lt,"$append_boolean_attribute",nt=function(t,e){return d(e)?" "+t+'="'+t+'"':" "+t},nt.$$arity=2),t.def(lt,"$append_link_constraint_attrs",it=function(t,e){var r,n=o,i=o;return null==e&&(e=[]),d(t["$option?"]("nofollow"))&&(n="nofollow"),d(i=t.$attributes()["$[]"]("window"))?(e["$<<"](' target="'+i+'"'),d(d(r=i["$=="]("_blank"))?r:t["$option?"]("noopener"))&&e["$<<"](d(n)?' rel="'+n+' noopener"':' rel="noopener"')):d(n)&&e["$<<"](' rel="'+n+'"'),e},it.$$arity=-2),t.def(lt,"$encode_attribute_value",$t=function(t){return d(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},$t.$$arity=1),t.def(lt,"$generate_manname_section",st=function(t){var e,r=o,n=o,i=o,$=o;return r=t.$attr("manname-title","Name"),d(d(e=n=t.$sections()["$[]"](0))?(i=n.$title())["$=="](i.$upcase()):e)&&(r=r.$upcase()),"<h2"+(d($=t.$attr("manname-id"))?' id="'+$+'"':"")+">"+r+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>"},st.$$arity=1),t.def(lt,"$method_missing",ot=function(e,r){var n,i,$,s=ot.$$p,a=o,l=o,c=o;for(s&&(ot.$$p=null),c=0,$=arguments.length,l=new Array($);c<$;c++)l[c]=arguments[c];return n=t.slice.call(arguments,1,arguments.length),d(d(i=(a=e.$to_s())["$start_with?"]("convert_")["$!"]())?this["$handles?"](a):i)?h(this,"send",["convert_"+a].concat(t.to_a(n))):h(this,t.find_super_dispatcher(this,"method_missing",ot,!1),l,s)},ot.$$arity=-2)}(l(m,"Converter"),a(l(m,"Converter"),"Base"),m)}(s[0],s)},Opal.modules["asciidoctor/extensions"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function r(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function n(t,e){return"number"==typeof t&&"number"==typeof e?t>e:t["$>"](e)}function i(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}t.top;var $=[],s=t.nil,o=t.const_get_qualified,a=t.const_get_relative,l=(t.breaker,t.slice,t.module),c=t.klass,u=t.truthy,h=t.hash2,_=t.send,d=t.hash;return t.add_stubs(["$==","$[]=","$config","$-","$const_defined?","$singleton_class?","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$parse_blocks","$empty?","$include?","$sub_attributes","$parse","$each","$define_method","$unshift","$shift","$send","$size","$binding","$receiver","$define_singleton_method","$instance_exec","$to_proc","$call","$option","$flatten","$respond_to?","$to_s","$partition","$to_i","$<<","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$split","$capitalize","$instance_variable_set","$resolve_args","$enable_dsl","$singleton_class","$process_block_given?","$source_location","$freeze","$resolve_class","$<","$update_config","$as_symbol","$name","$name=","$pop","$-@","$next_auto_id","$generate_name"]),a($,"RUBY_ENGINE")["$=="]("opal"),function($,p){var f=[l($,"Asciidoctor")].concat(p);!function($,p){var f=l($,"Extensions"),m=[f].concat(p);!function(i,$,l){var d,p,f,m,y,g,b,v,x,w,k,E,A=c(i,null,"Processor"),O=[A].concat(l);A.$$prototype.config=s,function(r,n){var i,$,o;[r].concat(n);t.def(r,"$config",i=function(){var t;return null==this.config&&(this.config=s),this.config=u(t=this.config)?t:h([],{})},i.$$arity=0),t.def(r,"$option",$=function(r,n){var i;return i=[r,n],_(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},$.$$arity=2),t.def(r,"$enable_dsl",o=function(){return u(this["$const_defined?"]("DSL"))?u(this["$singleton_class?"]())?this.$include(this.$const_get("DSL")):this.$extend(this.$const_get("DSL")):s},o.$$arity=0),t.alias(r,"use_dsl","enable_dsl")}(t.get_singleton_class(A),O),A.$attr_reader("config"),t.def(A,"$initialize",d=function(t){return null==t&&(t=h([],{})),this.config=this.$class().$config().$merge(t)},d.$$arity=-1),t.def(A,"$update_config",p=function(t){return this.config.$update(t)},p.$$arity=1),t.def(A,"$process",f=function(e){return t.slice.call(arguments,0,arguments.length),this.$raise(o("::","NotImplementedError"),a(O,"Processor")+" subclass "+this.$class()+" must implement the #process method")},f.$$arity=-1),t.def(A,"$create_section",m=function(i,$,o,l){var c,d,p=s,f=s,m=s,y=s,g=s,b=s,v=s,x=s,w=s;return null==l&&(l=h([],{})),p=i.$document(),d=(f=p.$doctype())["$=="]("book"),m=u(c=l["$[]"]("level"))?c:r(i.$level(),1),u(y=o.$delete("style"))?u(u(c=d)?y["$=="]("abstract"):c)?(g=(c=["chapter",1])[0],m=c[1]):(g=(c=[y,!0])[0],b=c[1],m["$=="](0)&&(m=1)):u(d)?g=m["$=="](0)?"part":u(n(m,1))?"section":"chapter":u((c=f["$=="]("manpage"))?$.$casecmp("synopsis")["$=="](0):f["$=="]("manpage"))?(g=(c=["synopsis",!0])[0],b=c[1]):g="section",v=a(O,"Section").$new(i,m),c=[$,g],v["$title="](c[0]),v["$sectname="](c[1]),u(b)?(x=[!0],_(v,"special=",t.to_a(x)),x[e(x.length,1)],u(l.$fetch("numbered",y["$=="]("appendix")))?(x=[!0],_(v,"numbered=",t.to_a(x)),x[e(x.length,1)]):u(u(c=l["$key?"]("numbered")["$!"]())?p["$attr?"]("sectnums","all"):c)&&(x=[!u(u(c=d)?m["$=="](1):c)||"chapter"],_(v,"numbered=",t.to_a(x)),x[e(x.length,1)])):u(n(m,0))?u(l.$fetch("numbered",p["$attr?"]("sectnums")))&&(x=[!u(v.$special())||!!u(c=i.$numbered())||c],_(v,"numbered=",t.to_a(x)),x[e(x.length,1)]):u(l.$fetch("numbered",u(c=d)?p["$attr?"]("partnums"):c))&&(x=[!0],_(v,"numbered=",t.to_a(x)),x[e(x.length,1)]),(w=o["$[]"]("id"))["$=="](!1)?o.$delete("id"):(x=[(x=["id",u(c=w)?c:u(p["$attr?"]("sectids"))?a(O,"Section").$generate_id(v.$title(),p):s],_(o,"[]=",t.to_a(x)),x[e(x.length,1)])],_(v,"id=",t.to_a(x)),x[e(x.length,1)]),v.$update_attributes(o),v},m.$$arity=-4),t.def(A,"$create_block",y=function(t,e,r,n,i){return null==i&&(i=h([],{})),a(O,"Block").$new(t,e,h(["source","attributes"],{source:r,attributes:n}).$merge(i))},y.$$arity=-5),t.def(A,"$create_list",g=function(t,e,r){var n=s;return null==r&&(r=s),n=a(O,"List").$new(t,e),u(r)&&n.$update_attributes(r),n},g.$$arity=-3),t.def(A,"$create_list_item",b=function(t,e){return null==e&&(e=s),a(O,"ListItem").$new(t,e)},b.$$arity=-2),t.def(A,"$create_image_block",v=function(r,n,i){var $,l,c=s,d=s;return null==i&&(i=h([],{})),u($=n["$[]"]("target"))||this.$raise(o("::","ArgumentError"),"Unable to create an image block, target attribute is required"),u(n["$[]"]("alt"))||(c=["alt",(c=["default-alt",a(O,"Helpers").$basename($,!0).$tr("_-"," ")],_(n,"[]=",t.to_a(c)),c[e(c.length,1)])],_(n,"[]=",t.to_a(c)),c[e(c.length,1)]),l=u(n["$key?"]("title"))?n.$delete("title"):s,d=this.$create_block(r,"image",s,n,i),u(l)&&(c=[l],_(d,"title=",t.to_a(c)),c[e(c.length,1)],d.$assign_caption(n.$delete("caption"),"figure")),d},v.$$arity=-3),t.def(A,"$create_inline",x=function(t,e,r,n){return null==n&&(n=h([],{})),a(O,"Inline").$new(t,e,r,e["$=="]("quoted")?h(["type"],{type:"unquoted"}).$merge(n):n)},x.$$arity=-4),t.def(A,"$parse_content",w=function(t,e,r){var n;return null==r&&(r=s),n=u(a(O,"Reader")["$==="](e))?e:a(O,"Reader").$new(e),a(O,"Parser").$parse_blocks(n,t,r),t},w.$$arity=-3),t.def(A,"$parse_attributes",k=function(t,e,r){var n;return null==r&&(r=h([],{})),u(!u(e)||e["$empty?"]())?h([],{}):(u(u(n=r["$[]"]("sub_attributes"))?e["$include?"](a(O,"ATTR_REF_HEAD")):n)&&(e=t.$sub_attributes(e)),a(O,"AttributeList").$new(e).$parse(u(n=r["$[]"]("positional_attributes"))?n:[]))},k.$$arity=-3),_([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],((E=function(e,r,n){var i,$=E.$$s||this;return null==e&&(e=s),null==r&&(r=s),null==n&&(n=s),_($,"define_method",[e],((i=function(e){var $,s=i.$$s||this;return($=t.slice.call(arguments,0,arguments.length)).$unshift($.$shift(),n),_(s,"send",[r].concat(t.to_a($)))}).$$s=$,i.$$arity=-1,i))}).$$s=A,E.$$arity=3,E))}(m[0],0,m),function(r,n){var i,$,a,c=l(r,"ProcessorDsl");[c].concat(n);t.def(c,"$option",i=function(r,n){var i;return i=[r,n],_(this.$config(),"[]=",t.to_a(i)),i[e(i.length,1)]},i.$$arity=2),t.def(c,"$process",$=function(e){var r,n,i,a=$.$$p,l=a||s,c=s;return null==this.process_block&&(this.process_block=s),a&&($.$$p=null),a&&($.$$p=null),r=t.slice.call(arguments,0,arguments.length),l!==s?(u(r["$empty?"]())||this.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),u(u(n=l.$binding())?this["$=="](l.$binding().$receiver()):n)||(c=this,_(l,"define_singleton_method",["call"],((i=function(e){var r;i.$$s;return r=t.slice.call(arguments,0,arguments.length),_(c,"instance_exec",t.to_a(r),l.$to_proc())}).$$s=this,i.$$arity=-1,i))),this.process_block=l):u(null!=(n=this.process_block)&&n!==s?"instance-variable":s)?_(this.process_block,"call",t.to_a(r)):this.$raise(o("::","NotImplementedError"),this.$class()+" #process method called before being registered")},$.$$arity=-1),t.def(c,"$process_block_given?",a=function(){var t;return null!=(t=this.process_block)&&t!==s?"instance-variable":s},a.$$arity=0)}(m[0],m),function(e,r){var n,i=l(e,"DocumentProcessorDsl"),$=[i].concat(r);i.$include(a($,"ProcessorDsl")),t.def(i,"$prefer",n=function(){return this.$option("position",">>")},n.$$arity=0)}(m[0],m),function(r,i){var $,c,d,p,f,m=l(r,"SyntaxProcessorDsl"),y=[m].concat(i);m.$include(a(y,"ProcessorDsl")),t.def(m,"$named",$=function(t){return u(a(y,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},$.$$arity=1),t.def(m,"$content_model",c=function(t){return this.$option("content_model",t)},c.$$arity=1),t.alias(m,"parse_content_as","content_model"),t.def(m,"$positional_attributes",d=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),this.$option("positional_attrs",r.$flatten())},d.$$arity=-1),t.alias(m,"name_positional_attributes","positional_attributes"),t.alias(m,"positional_attrs","positional_attributes"),t.def(m,"$default_attributes",p=function(t){return this.$option("default_attrs",t)},p.$$arity=1),t.alias(m,"default_attrs","default_attributes"),t.def(m,"$resolve_attributes",f=function(r){var i,$,a,l,c,d=this,p=s,f=s,m=s;return i=t.slice.call(arguments,0,arguments.length),u(n(($=i).$size(),1))||u(($=$.$fetch(0,!0))["$respond_to?"]("to_sym"))&&($=[$]),(!0)["$==="](p=$)?(d.$option("positional_attrs",[]),d.$option("default_attrs",h([],{}))):o("::","Array")["$==="](p)?(a=[[],h([],{})],f=a[0],m=a[1],_($,"each",[],((l=function(r){l.$$s;var n,i,$=s,o=s,a=s,c=s;return null==r&&(r=s),u((r=r.$to_s())["$include?"]("="))?(i=r.$partition("="),$=null==(n=t.to_ary(i))[0]?s:n[0],null==n[1]||n[1],o=null==n[2]?s:n[2],u($["$include?"](":"))&&(i=$.$partition(":"),n=t.to_ary(i),a=null==n[0]?s:n[0],null==n[1]||n[1],$=null==n[2]?s:n[2],c=[a=a["$=="]("@")?f.$size():a.$to_i(),$],_(f,"[]=",t.to_a(c)),c[e(c.length,1)]),c=[$,o],_(m,"[]=",t.to_a(c)),c[e(c.length,1)]):u(r["$include?"](":"))?(i=r.$partition(":"),n=t.to_ary(i),a=null==n[0]?s:n[0],null==n[1]||n[1],$=null==n[2]?s:n[2],c=[a=a["$=="]("@")?f.$size():a.$to_i(),$],_(f,"[]=",t.to_a(c)),c[e(c.length,1)]):f["$<<"](r)}).$$s=d,l.$$arity=1,l)),d.$option("positional_attrs",f.$compact()),d.$option("default_attrs",m)):o("::","Hash")["$==="](p)?(a=[[],h([],{})],f=a[0],m=a[1],_($,"each",[],((c=function(r,n){c.$$s;var i,$,o=s,a=s,l=s;return null==r&&(r=s),null==n&&(n=s),u((o=r.$to_s())["$include?"](":"))&&($=o.$partition(":"),i=t.to_ary($),a=null==i[0]?s:i[0],null==i[1]||i[1],o=null==i[2]?s:i[2],l=[a=a["$=="]("@")?f.$size():a.$to_i(),o],_(f,"[]=",t.to_a(l)),l[e(l.length,1)]),u(n)?(l=[o,n],_(m,"[]=",t.to_a(l)),l[e(l.length,1)]):s}).$$s=d,c.$$arity=2,c)),d.$option("positional_attrs",f.$compact()),d.$option("default_attrs",m)):d.$raise(o("::","ArgumentError"),"unsupported attributes specification for macro: "+$.$inspect())},f.$$arity=-1),t.alias(m,"resolves_attributes","resolve_attributes")}(m[0],m),function(e,r,n){var i,$=c(e,r,"Preprocessor"),s=[$].concat(n);t.def($,"$process",i=function(t,e){return this.$raise(o("::","NotImplementedError"),a(s,"Preprocessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=2)}(m[0],a(m,"Processor"),m),t.const_set(a(m,"Preprocessor"),"DSL",a(m,"DocumentProcessorDsl")),function(e,r,n){var i,$=c(e,r,"TreeProcessor"),s=[$].concat(n);t.def($,"$process",i=function(t){return this.$raise(o("::","NotImplementedError"),a(s,"TreeProcessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=1)}(m[0],a(m,"Processor"),m),t.const_set(a(m,"TreeProcessor"),"DSL",a(m,"DocumentProcessorDsl")),t.const_set(m[0],"Treeprocessor",a(m,"TreeProcessor")),function(e,r,n){var i,$=c(e,r,"Postprocessor"),s=[$].concat(n);t.def($,"$process",i=function(t,e){return this.$raise(o("::","NotImplementedError"),a(s,"Postprocessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=2)}(m[0],a(m,"Processor"),m),t.const_set(a(m,"Postprocessor"),"DSL",a(m,"DocumentProcessorDsl")),function(e,r,n){var i,$,s=c(e,r,"IncludeProcessor"),l=[s].concat(n);t.def(s,"$process",i=function(t,e,r,n){return this.$raise(o("::","NotImplementedError"),a(l,"IncludeProcessor")+" subclass "+this.$class()+" must implement the #process method")},i.$$arity=4),t.def(s,"$handles?",$=function(t){return!0},$.$$arity=1)}(m[0],a(m,"Processor"),m),function(e,r){var n,i=l(e,"IncludeProcessorDsl"),$=[i].concat(r);i.$include(a($,"DocumentProcessorDsl")),t.def(i,"$handles?",n=function(e){var r,i,$=n.$$p,a=$||s;return null==this.handles_block&&(this.handles_block=s),$&&(n.$$p=null),$&&(n.$$p=null),r=t.slice.call(arguments,0,arguments.length),a!==s?(u(r["$empty?"]())||this.$raise(o("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.handles_block=a):!u((i=this.handles_block,null!=i&&i!==s?"instance-variable":s))||this.handles_block.$call(r["$[]"](0))},n.$$arity=-1)}(m[0],m),t.const_set(a(m,"IncludeProcessor"),"DSL",a(m,"IncludeProcessorDsl")),function(r,n,i){var $,l,d=c(r,n,"DocinfoProcessor"),p=[d].concat(i);d.$$prototype.config=s,t.def(d,"$initialize",$=function(r){var n,i=$.$$p,o=s;return i&&($.$$p=null),null==r&&(r=h([],{})),_(this,t.find_super_dispatcher(this,"initialize",$,!1),[r],null),u(n=this.config["$[]"]("location"))?n:(o=["location","head"],_(this.config,"[]=",t.to_a(o)),o[e(o.length,1)])},$.$$arity=-1),t.def(d,"$process",l=function(t){return this.$raise(o("::","NotImplementedError"),a(p,"DocinfoProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=1)}(m[0],a(m,"Processor"),m),function(e,r){var n,i=l(e,"DocinfoProcessorDsl"),$=[i].concat(r);i.$include(a($,"DocumentProcessorDsl")),t.def(i,"$at_location",n=function(t){return this.$option("location",t)},n.$$arity=1)}(m[0],m),t.const_set(a(m,"DocinfoProcessor"),"DSL",a(m,"DocinfoProcessorDsl")),function(r,n,i){var $,l,d=c(r,n,"BlockProcessor"),p=[d].concat(i);d.$$prototype.config=s,d.$attr_accessor("name"),t.def(d,"$initialize",$=function(r,n){var i,a,l=$.$$p,c=s;return l&&($.$$p=null),null==r&&(r=s),null==n&&(n=h([],{})),_(this,t.find_super_dispatcher(this,"initialize",$,!1),[n],null),this.name=u(i=r)?i:this.config["$[]"]("name"),a=this.config["$[]"]("contexts"),o("::","NilClass")["$==="](a)?u(i=this.config["$[]"]("contexts"))||(c=["contexts",["open","paragraph"].$to_set()],_(this.config,"[]=",t.to_a(c)),c[e(c.length,1)]):o("::","Symbol")["$==="](a)?(c=["contexts",[this.config["$[]"]("contexts")].$to_set()],_(this.config,"[]=",t.to_a(c)),c[e(c.length,1)]):(c=["contexts",this.config["$[]"]("contexts").$to_set()],_(this.config,"[]=",t.to_a(c)),c[e(c.length,1)]),u(i=this.config["$[]"]("content_model"))?i:(c=["content_model","compound"],_(this.config,"[]=",t.to_a(c)),c[e(c.length,1)])},$.$$arity=-1),t.def(d,"$process",l=function(t,e,r){return this.$raise(o("::","NotImplementedError"),a(p,"BlockProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3)}(m[0],a(m,"Processor"),m),function(e,r){var n,i=l(e,"BlockProcessorDsl"),$=[i].concat(r);i.$include(a($,"SyntaxProcessorDsl")),t.def(i,"$contexts",n=function(e){var r;return r=t.slice.call(arguments,0,arguments.length),this.$option("contexts",r.$flatten().$to_set())},n.$$arity=-1),t.alias(i,"on_contexts","contexts"),t.alias(i,"on_context","contexts"),t.alias(i,"bind_to","contexts")}(m[0],m),t.const_set(a(m,"BlockProcessor"),"DSL",a(m,"BlockProcessorDsl")),function(r,n,i){var $,l,d=c(r,n,"MacroProcessor"),p=[d].concat(i);d.$$prototype.config=s,d.$attr_accessor("name"),t.def(d,"$initialize",$=function(r,n){var i,o=$.$$p,a=s;return o&&($.$$p=null),null==r&&(r=s),null==n&&(n=h([],{})),_(this,t.find_super_dispatcher(this,"initialize",$,!1),[n],null),this.name=u(i=r)?i:this.config["$[]"]("name"),u(i=this.config["$[]"]("content_model"))?i:(a=["content_model","attributes"],_(this.config,"[]=",t.to_a(a)),a[e(a.length,1)])},$.$$arity=-1),t.def(d,"$process",l=function(t,e,r){return this.$raise(o("::","NotImplementedError"),a(p,"MacroProcessor")+" subclass "+this.$class()+" must implement the #process method")},l.$$arity=3)}(m[0],a(m,"Processor"),m),function(e,r){var n,i=l(e,"MacroProcessorDsl"),$=[i].concat(r);i.$include(a($,"SyntaxProcessorDsl")),t.def(i,"$resolve_attributes",n=function(e){var r,i,$,o=n.$$p,a=s,l=s;for(o&&(n.$$p=null),l=0,$=arguments.length,a=new Array($);l<$;l++)a[l]=arguments[l];return r=t.slice.call(arguments,0,arguments.length),u((i=r).$size()["$=="](1)?i["$[]"](0)["$!"]():i.$size()["$=="](1))?this.$option("content_model","text"):(_(this,t.find_super_dispatcher(this,"resolve_attributes",n,!1),a,o),this.$option("content_model","attributes"))},n.$$arity=-1),t.alias(i,"resolves_attributes","resolve_attributes")}(m[0],m),function(e,r,n){var i,$=c(e,r,"BlockMacroProcessor"),l=[$].concat(n);$.$$prototype.name=s,t.def($,"$name",i=function(){return u(a(l,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(o("::","ArgumentError"),"invalid name for block macro: "+this.name),this.name},i.$$arity=0)}(m[0],a(m,"MacroProcessor"),m),t.const_set(a(m,"BlockMacroProcessor"),"DSL",a(m,"MacroProcessorDsl")),function(r,n,i){var $,l,d=c(r,n,"InlineMacroProcessor"),p=[d].concat(i);d.$$prototype.config=d.$$prototype.name=s,t.class_variable_set(p[0],"@@rx_cache",h([],{})),t.def(d,"$regexp",$=function(){var r,n=s;return u(r=this.config["$[]"]("regexp"))?r:(n=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],_(this.config,"[]=",t.to_a(n)),n[e(n.length,1)])},$.$$arity=0),t.def(d,"$resolve_regexp",l=function(r,n){var i,$,l=s;return u(a(p,"MacroNameRx")["$match?"](r))||this.$raise(o("::","ArgumentError"),"invalid name for inline macro: "+r),u(i=(null==($=p[0].$$cvars["@@rx_cache"])?s:$)["$[]"]([r,n]))?i:(l=[[r,n],new RegExp("\\\\?"+r+":"+(n["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|"+a(p,"CC_ANY")+"*?[^\\\\])\\]")],_(null==($=p[0].$$cvars["@@rx_cache"])?s:$,"[]=",t.to_a(l)),l[e(l.length,1)])},l.$$arity=2)}(m[0],a(m,"MacroProcessor"),m),function(e,r){var n,i,$=l(e,"InlineMacroProcessorDsl"),s=[$].concat(r);$.$include(a(s,"MacroProcessorDsl")),t.def($,"$format",n=function(t){return this.$option("format",t)},n.$$arity=1),t.alias($,"match_format","format"),t.alias($,"using_format","format"),t.def($,"$match",i=function(t){return this.$option("regexp",t)},i.$$arity=1)}(m[0],m),t.const_set(a(m,"InlineMacroProcessor"),"DSL",a(m,"InlineMacroProcessorDsl")),function(e,r,n){var i,$=c(e,null,"Extension");[$].concat(n);$.$attr_reader("kind"),$.$attr_reader("config"),$.$attr_reader("instance"),t.def($,"$initialize",i=function(t,e,r){return this.kind=t,this.instance=e,this.config=r},i.$$arity=3)}(m[0],0,m),function(e,r,n){var i,$=c(e,r,"ProcessorExtension");[$].concat(n);$.$attr_reader("process_method"),t.def($,"$initialize",i=function(e,r,n){var $,o=i.$$p;return o&&(i.$$p=null),null==n&&(n=s),_(this,t.find_super_dispatcher(this,"initialize",i,!1),[e,r,r.$config()],null),this.process_method=u($=n)?$:r.$method("process")},i.$$arity=-3)}(m[0],a(m,"Extension"),m),function(e,r,n){var i,$=c(e,null,"Group"),l=[$].concat(n);(function(e,r){var n,i=[e].concat(r);t.def(e,"$register",n=function(t){return null==t&&(t=s),a(i,"Extensions").$register(t,this)},n.$$arity=-1)})(t.get_singleton_class($),l),t.def($,"$activate",i=function(t){return this.$raise(o("::","NotImplementedError"))},i.$$arity=1)}(m[0],0,m),function($,l,d){var p,f,m,y,g,b,v,x,w,k,E,A,O,S,R,C,I,T,L,N,D,B,M,F,z,P,j,q,U,H,Y,G,W,K,X,V=c($,null,"Registry"),J=[V].concat(d);V.$$prototype.groups=V.$$prototype.preprocessor_extensions=V.$$prototype.tree_processor_extensions=V.$$prototype.postprocessor_extensions=V.$$prototype.include_processor_extensions=V.$$prototype.docinfo_processor_extensions=V.$$prototype.block_extensions=V.$$prototype.block_macro_extensions=V.$$prototype.inline_macro_extensions=s,V.$attr_reader("document"),V.$attr_reader("groups"),t.def(V,"$initialize",p=function(t){return null==t&&(t=h([],{})),this.groups=t,this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=s,this.document=s},p.$$arity=-1),t.def(V,"$activate",f=function(t){var e,n=s;return this.document=t,u((n=r(a(J,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||_(n,"each",[],((e=function(t){var r=e.$$s||this,n=s;return null==t&&(t=s),n=t,o("::","Proc")["$==="](n)?(n=t.$arity(),(0)["$==="](n)||(-1)["$==="](n)?_(r,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(r):s):o("::","Class")["$==="](n)?t.$new().$activate(r):t.$activate(r)}).$$s=this,e.$$arity=1,e)),this},f.$$arity=1),t.def(V,"$preprocessor",m=function(e){var r,n=m.$$p,i=n||s;return n&&(m.$$p=null),n&&(m.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_document_processor",["preprocessor",r],i.$to_proc())},m.$$arity=-1),t.def(V,"$preprocessors?",y=function(){return this.preprocessor_extensions["$!"]()["$!"]()},y.$$arity=0),t.def(V,"$preprocessors",g=function(){return this.preprocessor_extensions},g.$$arity=0),t.def(V,"$tree_processor",b=function(e){var r,n=b.$$p,i=n||s;return n&&(b.$$p=null),n&&(b.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_document_processor",["tree_processor",r],i.$to_proc())},b.$$arity=-1),t.def(V,"$tree_processors?",v=function(){return this.tree_processor_extensions["$!"]()["$!"]()},v.$$arity=0),t.def(V,"$tree_processors",x=function(){return this.tree_processor_extensions},x.$$arity=0),t.alias(V,"treeprocessor","tree_processor"),t.alias(V,"treeprocessors?","tree_processors?"),t.alias(V,"treeprocessors","tree_processors"),t.def(V,"$postprocessor",w=function(e){var r,n=w.$$p,i=n||s;return n&&(w.$$p=null),n&&(w.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_document_processor",["postprocessor",r],i.$to_proc())},w.$$arity=-1),t.def(V,"$postprocessors?",k=function(){return this.postprocessor_extensions["$!"]()["$!"]()},k.$$arity=0),t.def(V,"$postprocessors",E=function(){return this.postprocessor_extensions},E.$$arity=0),t.def(V,"$include_processor",A=function(e){var r,n=A.$$p,i=n||s;return n&&(A.$$p=null),n&&(A.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_document_processor",["include_processor",r],i.$to_proc())},A.$$arity=-1),t.def(V,"$include_processors?",O=function(){return this.include_processor_extensions["$!"]()["$!"]()},O.$$arity=0),t.def(V,"$include_processors",S=function(){return this.include_processor_extensions},S.$$arity=0),t.def(V,"$docinfo_processor",R=function(e){var r,n=R.$$p,i=n||s;return n&&(R.$$p=null),n&&(R.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_document_processor",["docinfo_processor",r],i.$to_proc())},R.$$arity=-1),t.def(V,"$docinfo_processors?",C=function(t){var e;return null==t&&(t=s),!!u(this.docinfo_processor_extensions)&&(!u(t)||_(this.docinfo_processor_extensions,"any?",[],((e=function(r){e.$$s;return null==r&&(r=s),r.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)))},C.$$arity=-1),t.def(V,"$docinfo_processors",I=function(t){var e;return null==t&&(t=s),u(this.docinfo_processor_extensions)?u(t)?_(this.docinfo_processor_extensions,"select",[],((e=function(r){e.$$s;return null==r&&(r=s),r.$config()["$[]"]("location")["$=="](t)}).$$s=this,e.$$arity=1,e)):this.docinfo_processor_extensions:s},I.$$arity=-1),t.def(V,"$block",T=function(e){var r,n=T.$$p,i=n||s;return n&&(T.$$p=null),n&&(T.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_syntax_processor",["block",r],i.$to_proc())},T.$$arity=-1),t.def(V,"$blocks?",L=function(){return this.block_extensions["$!"]()["$!"]()},L.$$arity=0),t.def(V,"$registered_for_block?",N=function(t,e){var r=s;return!!u(r=this.block_extensions["$[]"](t.$to_sym()))&&(!!u(r.$config()["$[]"]("contexts")["$include?"](e))&&r)},N.$$arity=2),t.def(V,"$find_block_extension",D=function(t){return this.block_extensions["$[]"](t.$to_sym())},D.$$arity=1),t.def(V,"$block_macro",B=function(e){var r,n=B.$$p,i=n||s;return n&&(B.$$p=null),n&&(B.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_syntax_processor",["block_macro",r],i.$to_proc())},B.$$arity=-1),t.def(V,"$block_macros?",M=function(){return this.block_macro_extensions["$!"]()["$!"]()},M.$$arity=0),t.def(V,"$registered_for_block_macro?",F=function(t){var e;return!!u(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},F.$$arity=1),t.def(V,"$find_block_macro_extension",z=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},z.$$arity=1),t.def(V,"$inline_macro",P=function(e){var r,n=P.$$p,i=n||s;return n&&(P.$$p=null),n&&(P.$$p=null),r=t.slice.call(arguments,0,arguments.length),_(this,"add_syntax_processor",["inline_macro",r],i.$to_proc())},P.$$arity=-1),t.def(V,"$inline_macros?",j=function(){return this.inline_macro_extensions["$!"]()["$!"]()},j.$$arity=0),t.def(V,"$registered_for_inline_macro?",q=function(t){var e;return!!u(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},q.$$arity=1),t.def(V,"$find_inline_macro_extension",U=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},U.$$arity=1),t.def(V,"$inline_macros",H=function(){return this.inline_macro_extensions.$values()},H.$$arity=0),t.def(V,"$prefer",Y=function(e){var r,n,i=Y.$$p,$=i||s,o=this,l=s,c=s,h=s;return i&&(Y.$$p=null),i&&(Y.$$p=null),r=t.slice.call(arguments,0,arguments.length),n=r,l=u(a(J,"ProcessorExtension")["$==="](c=n.$shift()))?c:_(o,"send",[c].concat(t.to_a(n)),$.$to_proc()),(h=o.$instance_variable_get(("@"+l.$kind()+"_extensions").$to_sym())).$unshift(h.$delete(l)),l},Y.$$arity=-1),V.$private(),t.def(V,"$add_document_processor",G=function(e,r){var n,$,l,c,h=G.$$p,d=h||s,p=this,f=s,m=s,y=s,g=s,b=s,v=s,x=s,w=s,k=s;return h&&(G.$$p=null),h&&(G.$$p=null),f=e.$to_s().$tr("_"," "),c=_(f.$split(),"map",[],(n=function(t){n.$$s;return null==t&&(t=s),t.$capitalize()},n.$$s=p,n.$$arity=1,n)).$join().$to_sym(),m=a(J,"Extensions").$const_get(c,!1),y=u(o("::","AsciidoctorJ","skip_raise")?"constant":s)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(c,!1):s,g=u($=p.$instance_variable_get(("@"+e+"_extensions").$to_sym()))?$:p.$instance_variable_set(("@"+e+"_extensions").$to_sym(),[]),(b=d!==s?(v=p.$resolve_args(r,1),(x=m.$new(v)).$singleton_class().$enable_dsl(),d.$arity()["$=="](0)?_(x,"instance_exec",[],d.$to_proc()):t.yield1(d,x),u(x["$process_block_given?"]())||p.$raise(o("::","ArgumentError"),"No block specified to process "+f+" extension at "+d.$source_location()),x.$freeze(),a(J,"ProcessorExtension").$new(e,x)):(l=p.$resolve_args(r,2),$=t.to_ary(l),x=null==$[0]?s:$[0],v=null==$[1]?s:$[1],u(w=a(J,"Helpers").$resolve_class(x))?(u(u($=i(w,m))?$:u(l=y)?i(w,y):l)||p.$raise(o("::","ArgumentError"),"Invalid type for "+f+" extension: "+x),(k=w.$new(v)).$freeze(),a(J,"ProcessorExtension").$new(e,k)):u(u($=m["$==="](x))?$:u(l=y)?y["$==="](x):l)?(x.$update_config(v),x.$freeze(),a(J,"ProcessorExtension").$new(e,x)):p.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+f+" extension: "+r))).$config()["$[]"]("position")["$=="](">>")?g.$unshift(b):g["$<<"](b),b},G.$$arity=2),t.def(V,"$add_syntax_processor",W=function(r,n){var $,l,c,d,p,f=W.$$p,m=f||s,y=this,g=s,b=s,v=s,x=s,w=s,k=s,E=s,A=s,O=s;return f&&(W.$$p=null),f&&(W.$$p=null),g=r.$to_s().$tr("_"," "),d=_(g.$split(),"map",[],($=function(t){$.$$s;return null==t&&(t=s),t.$capitalize()},$.$$s=y,$.$$arity=1,$))["$<<"]("Processor").$join().$to_sym(),b=a(J,"Extensions").$const_get(d,!1),v=u(o("::","AsciidoctorJ","skip_raise")?"constant":s)?o(o("::","AsciidoctorJ"),"Extensions").$const_get(d,!1):s,p=u(l=y.$instance_variable_get(("@"+r+"_extensions").$to_sym()))?l:y.$instance_variable_set(("@"+r+"_extensions").$to_sym(),h([],{})),m!==s?(c=y.$resolve_args(n,2),l=t.to_ary(c),x=null==l[0]?s:l[0],w=null==l[1]?s:l[1],(k=b.$new(y.$as_symbol(x),w)).$singleton_class().$enable_dsl(),m.$arity()["$=="](0)?_(k,"instance_exec",[],m.$to_proc()):t.yield1(m,k),u(x=y.$as_symbol(k.$name()))||y.$raise(o("::","ArgumentError"),"No name specified for "+g+" extension at "+m.$source_location()),u(k["$process_block_given?"]())||y.$raise(o("::","NoMethodError"),"No block specified to process "+g+" extension at "+m.$source_location()),k.$freeze(),E=[x,a(J,"ProcessorExtension").$new(r,k)],_(p,"[]=",t.to_a(E)),E[e(E.length,1)]):(c=y.$resolve_args(n,3),l=t.to_ary(c),k=null==l[0]?s:l[0],x=null==l[1]?s:l[1],w=null==l[2]?s:l[2],u(A=a(J,"Helpers").$resolve_class(k))?(u(u(l=i(A,b))?l:u(c=v)?i(A,v):c)||y.$raise(o("::","ArgumentError"),"Class specified for "+g+" extension does not inherit from "+b+": "+k),O=A.$new(y.$as_symbol(x),w),u(x=y.$as_symbol(O.$name()))||y.$raise(o("::","ArgumentError"),"No name specified for "+g+" extension: "+k),O.$freeze(),E=[x,a(J,"ProcessorExtension").$new(r,O)],_(p,"[]=",t.to_a(E)),E[e(E.length,1)]):u(u(l=b["$==="](k))?l:u(c=v)?v["$==="](k):c)?(k.$update_config(w),u(x=u(x)?(E=[y.$as_symbol(x)],_(k,"name=",t.to_a(E)),E[e(E.length,1)]):y.$as_symbol(k.$name()))||y.$raise(o("::","ArgumentError"),"No name specified for "+g+" extension: "+k),k.$freeze(),E=[x,a(J,"ProcessorExtension").$new(r,k)],_(p,"[]=",t.to_a(E)),E[e(E.length,1)]):y.$raise(o("::","ArgumentError"),"Invalid arguments specified for registering "+g+" extension: "+n))},W.$$arity=2),t.def(V,"$resolve_args",K=function(t,$){var a,l=s;return a=u(o("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():h([],{}),$["$=="](1)?a:(u(n(l=e(e($,1),t.$size()),0))?t=r(t,o("::","Array").$new(l)):u(i(l,0))&&t.$pop(l["$-@"]()),t["$<<"](a),t)},K.$$arity=2),t.def(V,"$as_symbol",X=function(t){return u(t)?t.$to_sym():s},X.$$arity=1)}(m[0],0,m),function(n,i){var $,l,c,p,f,m,y,g=[n].concat(i);t.def(n,"$generate_name",$=function(){return"extgrp"+this.$next_auto_id()},$.$$arity=0),t.def(n,"$next_auto_id",l=function(){var t;return null==this.auto_id&&(this.auto_id=s),this.auto_id=u(t=this.auto_id)?t:-1,this.auto_id=r(this.auto_id,1)},l.$$arity=0),t.def(n,"$groups",c=function(){var t;return null==this.groups&&(this.groups=s),this.groups=u(t=this.groups)?t:h([],{})},c.$$arity=0),t.def(n,"$create",p=function(t){var e,r=p.$$p,n=r||s;return r&&(p.$$p=null),r&&(p.$$p=null),null==t&&(t=s),n!==s?a(g,"Registry").$new(d(u(e=t)?e:this.$generate_name(),n)):a(g,"Registry").$new()},p.$$arity=-1),t.def(n,"$register",f=function(r){var n,i,$,l,c=f.$$p,h=c||s,d=s,p=s,m=s;return c&&(f.$$p=null),c&&(f.$$p=null),$=(n=t.slice.call(arguments,0,arguments.length)).$size(),h!==s?d=h:u(p=n.$pop())?d=u(i=a(g,"Helpers").$resolve_class(p))?i:p:this.$raise(o("::","ArgumentError"),"Extension group to register not specified"),m=u(i=n.$pop())?i:this.$generate_name(),u(n["$empty?"]())||this.$raise(o("::","ArgumentError"),"Wrong number of arguments ("+$+" for 1..2)"),l=[m.$to_sym(),d],_(this.$groups(),"[]=",t.to_a(l)),l[e(l.length,1)]},f.$$arity=-1),t.def(n,"$unregister_all",m=function(){return this.groups=h([],{}),s},m.$$arity=0),t.def(n,"$unregister",y=function(e){var r,n;return r=t.slice.call(arguments,0,arguments.length),_(r,"each",[],((n=function(t){var e=n.$$s||this;return null==e.groups&&(e.groups=s),null==t&&(t=s),e.groups.$delete(t.$to_sym())}).$$s=this,n.$$arity=1,n)),s},y.$$arity=-1)}(t.get_singleton_class(f),m)}(f[0],f)}($[0],$)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(t){t.top;var e=[],r=t.nil,n=t.const_get_qualified,i=(t.const_get_relative,t.breaker,t.slice,t.module),$=t.klass,s=t.truthy;return t.add_stubs(["$rstrip","$read","$join"]),function(e,o){var a=[i(e,"Asciidoctor")].concat(o);!function(e,i,o){var a,l=$(e,null,"Stylesheets");[l].concat(o);l.$$prototype.primary_stylesheet_data=r,t.def(l,"$primary_stylesheet_data",a=function(){var t;return this.primary_stylesheet_data=s(t=this.primary_stylesheet_data)?t:n("::","IO").$read(n("::","File").$join("css","asciidoctor.css")).$rstrip()},a.$$arity=0)}(a[0],0,a)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative),n=(t.breaker,t.slice,t.module),i=t.klass;return function(e,$){var s=[n(e,"Asciidoctor")].concat($);!function(e,r,n){var $,s=i(e,r,"Document");[s].concat(n);t.def(s,"$fill_datetime_attributes",$=function(e,r){var n,i,$=t.truthy,s=t.falsy,o=t.nil,a=function(t,e){return 0===e?t.getUTCFullYear():t.getFullYear()},l=function(t,e){return 0===e?t.getUTCMonth():t.getMonth()},c=function(t,e){return 0===e?t.getUTCDate():t.getDate()},u=function(t,e){return 0===e?t.getUTCHours():t.getHours()},h=new Date;if(t.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(h.setTime(1e3*parseInt(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))),i=h,n=0):n=-h.getTimezoneOffset()/60,$(localdate=e["$[]"]("localdate")))s(localyear=e["$[]"]("localyear"))&&(localyear=4===localdate.indexOf("-")?localdate.substring(0,4):o,e["$[]="]("localyear",localyear));else{var _=a(h,n).toString(),d=("0"+(l(h,n)+1)).slice(-2),p=("0"+c(h,n)).slice(-2);localdate=_+"-"+d+"-"+p,e["$[]="]("localdate",localdate),localyear=_,e["$[]="]("localyear",_)}if(s(localtime=e["$[]"]("localtime"))){var f,m=("0"+u(h,n)).slice(-2),y=("0"+h.getMinutes()).slice(-2),g=("0"+h.getSeconds()).slice(-2);f=0===n?"UTC":n>0?("+0"+100*n).slice(-5):("-0"+100*-n).slice(-5),localtime=m+":"+y+":"+g+" "+f,e["$[]="]("localtime",localtime)}if(s(localdatetime=e["$[]"]("localdatetime"))&&(localdatetime=localdate+" "+localtime,e["$[]="]("localdatetime",localdatetime)),$(i)?r=i:$(r)?n=-r.getTimezoneOffset()/60:r=h,$(docdate=e["$[]"]("docdate")))e["$[]="]("docyear",4===docdate.indexOf("-")?docdate.substring(0,4):o);else{var b=a(r,n).toString(),v=("0"+(l(r,n)+1)).slice(-2),x=("0"+c(r,n)).slice(-2);docdate=b+"-"+v+"-"+x,e["$[]="]("docdate",docdate),s(e["$[]"]("docyear"))&&e["$[]="]("docyear",b)}if(s(doctime=e["$[]"]("doctime"))){var w=("0"+u(r,n)).slice(-2),k=("0"+r.getMinutes()).slice(-2),E=("0"+r.getSeconds()).slice(-2);f=0===n?"UTC":n>0?("+0"+100*n).slice(-5):("-0"+100*-n).slice(-5),doctime=w+":"+k+":"+E+" "+f,e["$[]="]("doctime",doctime)}return s(e["$[]"]("docdatetime"))&&e["$[]="]("docdatetime",docdate+" "+doctime),o},$.$$arity=2)}(s[0],r(s,"AbstractBlock"),s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module);return function(e,n){var i=[r(e,"Asciidoctor")].concat(n);!function(e,n){var i,$=r(e,"Substitutors");[$].concat(n);t.def($,"$sub_placeholder",i=function(t,e){return t.replace("%s",e)},i.$$arity=2)}(i[0],i)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.module),n=t.klass,i=t.truthy;return function(e,$){var s=[r(e,"Asciidoctor")].concat($);!function(e,r,$){var s,o,a=n(e,null,"Parser");[a].concat($);i(String.prototype.repeat)?t.defs(a,"$uniform?",s=function(t,e,r){return e.repeat(r)===t},s.$$arity=3):t.defs(a,"$uniform?",o=function(t,e,r){return Array.apply(null,{length:r}).map(function(){return e}).join("")===t},o.$$arity=3)}(s[0],0,s)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.module),$=t.truthy;return t.add_stubs(["$key?","$registry","$[]","$include?","$include","$empty?","$debug","$logger","$join","$keys"]),function(e,s){var o=[i(e,"Asciidoctor")].concat(s);!function(e,s){var o=[i(e,"SyntaxHighlighter")].concat(s);!function(e,s){var o,a=i(e,"Factory"),l=[a].concat(s);t.def(a,"$for",o=function(t){return $(this.$registry()["$key?"](t))?this.$registry()["$[]"](t):($(this["$include?"](n(l,"Logging")))||this.$include(n(l,"Logging")),$(this.$registry()["$empty?"]())?this.$logger().$debug("no syntax highlighter available, functionality disabled."):this.$logger().$debug("syntax highlighter named '"+t+"' is not available, must be one of: '"+this.$registry().$keys().$join("', '")+"'."),r)},o.$$arity=1)}(o[0],o)}(o[0],o)}(e[0],e)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),e.$require("asciidoctor/js/asciidoctor_ext/document"),e.$require("asciidoctor/js/asciidoctor_ext/substitutors"),e.$require("asciidoctor/js/asciidoctor_ext/parser"),e.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),e.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.klass),$=t.truthy;return t.add_stubs(["$chr","$rjust","$message_as_string","$<","$write","$call","$[]"]),function(e,s,o){var a,l=i(e,null,"Logger"),c=[l].concat(o);return l.$$prototype.level=l.$$prototype.progname=l.$$prototype.pipe=l.$$prototype.formatter=r,function(e,r,n){var $,s=i(e,null,"Formatter");[s].concat(n);t.def(s,"$call",$=function(t,e,r,n){var i;return i=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)+"."+("00"+1e3*(new Date).getMilliseconds()).slice(-6),t.$chr()+", ["+i+"] "+t.$rjust(5)+" -- "+r+": "+this.$message_as_string(n)},$.$$arity=4)}(c[0],0,c),t.def(l,"$add",a=function(e,i,s){var o,l,u,h=a.$$p,_=h||r;return h&&(a.$$p=null),h&&(a.$$p=null),null==i&&(i=r),null==s&&(s=r),!!$((l=e=$(o=e)?o:n(c,"UNKNOWN"),u=this.level,"number"==typeof l&&"number"==typeof u?l<u:l["$<"](u)))||(s=$(o=s)?o:this.progname,$(i)||(_!==r?i=t.yieldX(_,[]):(i=s,s=this.progname)),this.pipe.$write(this.formatter.$call($(o=n(c,"SEVERITY_LABELS")["$[]"](e))?o:"ANY",new Date,s,i)),!0)},a.$$arity=-2),r&&"add"}(e[0],0,e)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),e.$require("asciidoctor/js/asciidoctor_ext"),e.$require("asciidoctor/js/opal_ext/logger")},function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var r=t.top,n=[],i=t.nil,$=t.const_get_qualified,s=t.const_get_relative,o=(t.breaker,t.slice,t.module),a=t.send,l=t.hash2,c=t.truthy;t.add_stubs(["$require","$==","$tap","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$singleton_class","$<<","$define","$dirname","$absolute_path","$__dir__","$join","$home","$pwd","$to_set","$chr","$each_key","$slice","$length","$merge","$default=","$drop","$insert"]),r.$require("set"),s(n,"RUBY_ENGINE")["$=="]("opal")&&r.$require("asciidoctor/js"),function(r,n){var u,h,_,d,p,f=o(r,"Asciidoctor"),m=[f].concat(n),y=i;t.const_set(m[0],"RUBY_ENGINE_OPAL",t.const_set(m[0],"RUBY_ENGINE",$("::","RUBY_ENGINE"))["$=="]("opal")),function(r,n){var $,s,c,u,h=o(r,"SafeMode"),_=[h].concat(n);t.const_set(_[0],"UNSAFE",0),t.const_set(_[0],"SAFE",1),t.const_set(_[0],"SERVER",10),t.const_set(_[0],"SECURE",20),h.names_by_value=a(l([],{}),"tap",[],(($=function(r){var n,s=$.$$s||this;return null==r&&(r=i),a(s.$constants(!1),"each",[],((n=function($){var s,o=n.$$s||this;return null==$&&($=i),s=[o.$const_get($,!1),$.$to_s().$downcase()],a(r,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=s,n.$$arity=1,n))}).$$s=h,$.$$arity=1,$)),t.defs(h,"$value_for_name",s=function(t){return this.$const_get(t.$upcase(),!1)},s.$$arity=1),t.defs(h,"$name_for_value",c=function(t){return null==this.names_by_value&&(this.names_by_value=i),this.names_by_value["$[]"](t)},c.$$arity=1),t.defs(h,"$names",u=function(){return null==this.names_by_value&&(this.names_by_value=i),this.names_by_value.$values()},u.$$arity=0)}(m[0],m),function(e,r){var n=o(e,"Compliance"),s=[n].concat(r);n.keys=$("::","Set").$new(),function(e,r){var n;[e].concat(r);e.$attr_reader("keys"),t.def(e,"$define",n=function(t,e){return null==this.keys&&(this.keys=i),this.$instance_variable_set("@"+t,e),this.$singleton_class().$send("attr_accessor",t),this.keys["$<<"](t),i},n.$$arity=2)}(t.get_singleton_class(n),s),n.$define("block_terminates_paragraph",!0),n.$define("strict_verbatim_paragraphs",!0),n.$define("underline_style_section_titles",!0),n.$define("unwrap_standalone_preamble",!0),n.$define("attribute_missing","skip"),n.$define("attribute_undefined","drop-line"),n.$define("shorthand_property_syntax",!0),n.$define("natural_xrefs",!0),n.$define("unique_id_start_index",2),n.$define("markdown_syntax",!0)}(m[0],m),c(s(m,"ROOT_DIR","skip_raise")?"constant":i)||t.const_set(m[0],"ROOT_DIR",$("::","File").$dirname($("::","File").$absolute_path(f.$__dir__()))),t.const_set(m[0],"LIB_DIR",$("::","File").$join(s(m,"ROOT_DIR"),"lib")),t.const_set(m[0],"DATA_DIR",$("::","File").$join(s(m,"ROOT_DIR"),"data")),t.const_set(m[0],"USER_HOME",function(){try{return $("::","Dir").$home()}catch(e){if(!t.rescue(e,[s(m,"StandardError")]))throw e;try{return c(u=$("::","ENV")["$[]"]("HOME"))?u:$("::","Dir").$pwd()}finally{t.pop_exception()}}}()),t.const_set(m[0],"LF","\n"),t.const_set(m[0],"NULL","\0"),t.const_set(m[0],"TAB","\t"),t.const_set(m[0],"MAX_INT",9007199254740991),t.const_set(m[0],"UTF_8",$($("::","Encoding"),"UTF_8")),t.const_set(m[0],"BOM_BYTES_UTF_8",[239,187,191]),t.const_set(m[0],"BOM_BYTES_UTF_16LE",[255,254]),t.const_set(m[0],"BOM_BYTES_UTF_16BE",[254,255]),t.const_set(m[0],"FILE_READ_MODE",c(s(m,"RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),t.const_set(m[0],"URI_READ_MODE",s(m,"FILE_READ_MODE")),t.const_set(m[0],"FILE_WRITE_MODE",c(s(m,"RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),t.const_set(m[0],"DEFAULT_DOCTYPE","article"),t.const_set(m[0],"DEFAULT_BACKEND","html5"),t.const_set(m[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),t.const_set(m[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),t.const_set(m[0],"BACKEND_ALIASES",l(["html","docbook"],{html:"html5",docbook:"docbook5"})),t.const_set(m[0],"DEFAULT_PAGE_WIDTHS",l(["docbook"],{docbook:425})),t.const_set(m[0],"DEFAULT_EXTENSIONS",l(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),t.const_set(m[0],"ASCIIDOC_EXTENSIONS",l([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),t.const_set(m[0],"SETEXT_SECTION_LEVELS",l(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),t.const_set(m[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),t.const_set(m[0],"ADMONITION_STYLE_HEADS",a($("::","Set").$new(),"tap",[],((h=function(t){var e,r=h.$$s||this;return null==t&&(t=i),a(s(m,"ADMONITION_STYLES"),"each",[],((e=function(r){e.$$s;return null==r&&(r=i),t["$<<"](r.$chr())}).$$s=r,e.$$arity=1,e))}).$$s=f,h.$$arity=1,h))),t.const_set(m[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),t.const_set(m[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),t.const_set(m[0],"DELIMITED_BLOCKS",l(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",$("::","Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",$("::","Set").$new()],",===":["table",$("::","Set").$new()],":===":["table",$("::","Set").$new()],"!===":["table",$("::","Set").$new()],"////":["comment",$("::","Set").$new()],"```":["fenced_code",$("::","Set").$new()]})),t.const_set(m[0],"DELIMITED_BLOCK_HEADS",a(l([],{}),"tap",[],((_=function(r){var n,$=_.$$s||this;return null==r&&(r=i),a(s(m,"DELIMITED_BLOCKS"),"each_key",[],((n=function($){var s;n.$$s;return null==$&&($=i),s=[$.$slice(0,2),!0],a(r,"[]=",t.to_a(s)),s[e(s.length,1)]}).$$s=$,n.$$arity=1,n))}).$$s=f,_.$$arity=1,_))),t.const_set(m[0],"DELIMITED_BLOCK_TAILS",a(l([],{}),"tap",[],((d=function(r){var n,$=d.$$s||this;return null==r&&(r=i),a(s(m,"DELIMITED_BLOCKS"),"each_key",[],((n=function($){n.$$s;var s=i;return null==$&&($=i),$.$length()["$=="](4)?(s=[$,$["$[]"](e($.$length(),1))],a(r,"[]=",t.to_a(s)),s[e(s.length,1)]):i}).$$s=$,n.$$arity=1,n))}).$$s=f,d.$$arity=1,d))),t.const_set(m[0],"CAPTION_ATTR_NAMES",l(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),t.const_set(m[0],"LAYOUT_BREAK_CHARS",l(["'","<"],{"'":"thematic_break","<":"page_break"})),t.const_set(m[0],"MARKDOWN_THEMATIC_BREAK_CHARS",l(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),t.const_set(m[0],"HYBRID_LAYOUT_BREAK_CHARS",s(m,"LAYOUT_BREAK_CHARS").$merge(s(m,"MARKDOWN_THEMATIC_BREAK_CHARS"))),t.const_set(m[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),t.const_set(m[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),t.const_set(m[0],"ORDERED_LIST_KEYWORDS",l(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),t.const_set(m[0],"ATTR_REF_HEAD","{"),t.const_set(m[0],"LIST_CONTINUATION","+"),t.const_set(m[0],"HARD_LINE_BREAK"," +"),t.const_set(m[0],"LINE_CONTINUATION"," \\"),t.const_set(m[0],"LINE_CONTINUATION_LEGACY"," +"),t.const_set(m[0],"BLOCK_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),t.const_set(m[0],"INLINE_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),y=["asciimath"],a(t.const_set(m[0],"STEM_TYPE_ALIASES",l(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",t.to_a(y)),y[e(y.length,1)],t.const_set(m[0],"FONT_AWESOME_VERSION","4.7.0"),t.const_set(m[0],"HIGHLIGHT_JS_VERSION","9.15.6"),t.const_set(m[0],"MATHJAX_VERSION","2.7.5"),t.const_set(m[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),t.const_set(m[0],"INTRINSIC_ATTRIBUTES",l(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),s(m,"RUBY_ENGINE")["$=="]("opal"),t.const_set(m[0],"QUOTE_SUBS",a(l([],{}),"tap",[],((p=function(r){p.$$s;var n=i,$=i;return null==r&&(r=i),y=[!1,n=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+s(m,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)\\*(?!"+s(m,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+s(m,"CC_ALL")+'*?\\S)`"(?!'+s(m,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)`'(?!"+s(m,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+s(m,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)`(?!["+s(m,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+s(m,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)_(?!"+s(m,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+s(m,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)#(?!"+s(m,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]],a(r,"[]=",t.to_a(y)),y[e(y.length,1)],y=[!0,$=n.$drop(0)],a(r,"[]=",t.to_a(y)),y[e(y.length,1)],y=[2,["double","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)''(?!"+s(m,"CG_WORD")+")","m")]],a($,"[]=",t.to_a(y)),y[e(y.length,1)],y=[3,["single","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)'(?!"+s(m,"CG_WORD")+")","m")]],a($,"[]=",t.to_a(y)),y[e(y.length,1)],y=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+s(m,"CC_ALL")+"+?)\\+\\+","m")]],a($,"[]=",t.to_a(y)),y[e(y.length,1)],y=[5,["monospaced","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)\\+(?!"+s(m,"CG_WORD")+")","m")]],a($,"[]=",t.to_a(y)),y[e(y.length,1)],$.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+s(m,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+s(m,"CC_ALL")+"*?\\S)'(?!"+s(m,"CG_WORD")+")","m")])}).$$s=f,p.$$arity=1,p))),t.const_set(m[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+s(m,"CG_WORD")+")\\\\?--(?="+s(m,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+s(m,"CG_ALNUM")+")\\\\?'(?="+s(m,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),s(m,"RUBY_ENGINE")["$=="]("opal"),s(m,"RUBY_ENGINE")["$=="]("opal")}(n[0],n),r.$require("asciidoctor.rb/../asciidoctor/core_ext"),r.$require("asciidoctor.rb/../asciidoctor/helpers"),r.$require("asciidoctor.rb/../asciidoctor/logging"),r.$require("asciidoctor.rb/../asciidoctor/rx"),r.$require("asciidoctor.rb/../asciidoctor/substitutors"),r.$require("asciidoctor.rb/../asciidoctor/version"),r.$require("asciidoctor.rb/../asciidoctor/abstract_node"),r.$require("asciidoctor.rb/../asciidoctor/abstract_block"),r.$require("asciidoctor.rb/../asciidoctor/attribute_list"),r.$require("asciidoctor.rb/../asciidoctor/block"),r.$require("asciidoctor.rb/../asciidoctor/callouts"),r.$require("asciidoctor.rb/../asciidoctor/converter"),r.$require("asciidoctor.rb/../asciidoctor/document"),r.$require("asciidoctor.rb/../asciidoctor/inline"),r.$require("asciidoctor.rb/../asciidoctor/list"),r.$require("asciidoctor.rb/../asciidoctor/parser"),r.$require("asciidoctor.rb/../asciidoctor/path_resolver"),r.$require("asciidoctor.rb/../asciidoctor/reader"),r.$require("asciidoctor.rb/../asciidoctor/section"),r.$require("asciidoctor.rb/../asciidoctor/stylesheets"),r.$require("asciidoctor.rb/../asciidoctor/table"),r.$require("asciidoctor.rb/../asciidoctor/writer"),r.$require("asciidoctor.rb/../asciidoctor/load"),r.$require("asciidoctor.rb/../asciidoctor/convert"),s(n,"RUBY_ENGINE")["$=="]("opal")&&(r.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),r.$require("asciidoctor.rb/../asciidoctor/timings"),r.$require("asciidoctor/js/postscript"))}(Opal);var e=function(t){return t&&!t.$$is_hash?Opal.hash2(Object.keys(t),t):t},r=function(t){var e={},r=t.$$smap;for(var n in r)e[n]=r[n];return e},n=function(t){var e={},r=t.$$keys;for(var n in r)e[n.toString()]=r[n].value;return e},i=function(t){if(t=e(t)){var r=t["$[]"]("attributes");r&&"object"===_typeof(r)&&"Object"===r.constructor.name&&(t=t.$dup())["$[]="]("attributes",e(r))}return t};function $(t,n,i,$,s){var o,a,l,c,u=Opal.klass(Opal.Object,t,n,function(){}),h={};for(var _ in i)i.hasOwnProperty(_)&&function(t){var e=i[t];"postConstruct"===t?o=e:"initialize"===t?a=e:"constructor"===t?l=e:($&&$.hasOwnProperty(t)&&(h[t]=!0),Opal.def(u,"$"+t,function(){var r;return r=s&&s.hasOwnProperty(t)?s[t](arguments):arguments,e.apply(this,r)}))}(_);if(c="function"==typeof l?function(){for(var t=Array.from(arguments),e=0;e<t.length;e++)"object"===_typeof(t[e])&&"$$smap"in t[e]&&(t[e]=r(t[e]));t.unshift(null);var n=new(Function.prototype.bind.apply(l,t));Object.assign(this,n),"function"==typeof o&&o.bind(this)()}:"function"==typeof a?function(){for(var t=Array.from(arguments),e=0;e<t.length;e++)"object"===_typeof(t[e])&&"$$smap"in t[e]&&(t[e]=r(t[e]));a.apply(this,t),"function"==typeof o&&o.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",c)),"function"==typeof o&&o.bind(this)()},Opal.def(u,"$initialize",c),Opal.def(u,"super",function(t){if("function"==typeof t)Opal.send(this,Opal.find_super_dispatcher(this,t.name,t));else{for(var r=Array.from(arguments),n=0;n<r.length;n++)"object"===_typeof(r[n])&&(r[n]=e(r[n]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",c),r)}}),$)for(var d in $)$.hasOwnProperty(d)&&!h.hasOwnProperty(d)&&function(t){var e=$[t];Opal.def(u,"$"+t,function(){return e.apply(this,arguments)})}(d);return u}var s=Opal.Asciidoctor.$$class;s.prototype.getCoreVersion=function(){return this.$$const.VERSION},s.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},s.prototype.convert=function(t,e){"object"===_typeof(t)&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,i(e));return r===Opal.nil?"":r},s.prototype.convertFile=function(t,e){return this.$convert_file(t,i(e))},s.prototype.load=function(t,e){return"object"===_typeof(t)&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,i(e))},s.prototype.loadFile=function(t,e){return this.$load_file(t,i(e))};var o=Opal.Asciidoctor.AbstractBlock;o.prototype.append=function(t){return this.$append(t),this},o.prototype.applySubstitutions=function(t,e){return this.$apply_subs(t,e)},o.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},o.prototype.getCaptionedTitle=function(){return this.$captioned_title()},o.prototype.getStyle=function(){return this.style},o.prototype.getCaption=function(){return this.$caption()},o.prototype.setCaption=function(t){this.caption=t},o.prototype.getLevel=function(){return this.level},o.prototype.getSubstitutions=function(){return this.subs},o.prototype.hasSubstitution=function(t){return this["$sub?"](t)},o.prototype.removeSubstitution=function(t){this.$remove_sub(t)},o.prototype.hasBlocks=function(){return this.blocks.length>0},o.prototype.getBlocks=function(){return this.blocks},o.prototype.getContent=function(){return this.$content()},o.prototype.convert=function(){return this.$convert()},o.prototype.findBy=function(t,r){return void 0===r&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof r?Opal.send(this,"find_by",[e(t)],r):this.$find_by(e(t))},o.prototype.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},o.prototype.hasSections=function(){return this["$sections?"]()},o.prototype.getSections=function(){return this.$sections()},o.prototype.getNumeral=function(){return this.$numeral()},o.prototype.setNumeral=function(t){return this["$numeral="](t)},o.prototype.hasTitle=function(){return this["$title?"]()};var a=Opal.Asciidoctor.Section;a.prototype.getIndex=function(){return this.index},a.prototype.setIndex=function(t){this.index=t},a.prototype.getSectionName=function(){return this.sectname},a.prototype.setSectionName=function(t){this.sectname=t},a.prototype.isSpecial=function(){return this.special},a.prototype.setSpecial=function(t){this.special=t},a.prototype.isNumbered=function(){return this.numbered},a.prototype.getCaption=function(){var t=this.caption;return t===Opal.nil?void 0:t},a.prototype.getName=function(){return this.getTitle()};var l=Opal.Asciidoctor.Block;l.prototype.getSource=function(){return this.$source()},l.prototype.getSourceLines=function(){return this.lines};var c=Opal.Asciidoctor.AbstractNode;c.prototype.getNodeName=function(){return this.node_name},c.prototype.getAttributes=function(){return r(this.attributes)},c.prototype.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===Opal.nil?void 0:n},c.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},c.prototype.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==Opal.nil&&n},c.prototype.setAttribute=function(t,e,r){return void 0===r&&(r=!0),this.$set_attr(t,e,r)},c.prototype.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},c.prototype.getDocument=function(){return this.document},c.prototype.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},c.prototype.isInline=function(){return this["$inline?"]()},c.prototype.isBlock=function(){return this["$block?"]()},c.prototype.isRole=function(t){return this["$role?"](t)},c.prototype.getRole=function(){return this.$role()},c.prototype.hasRole=function(t){return this["$has_role?"](t)},c.prototype.getRoles=function(){return this.$roles()},c.prototype.addRole=function(t){return this.$add_role(t)},c.prototype.removeRole=function(t){return this.$remove_role(t)},c.prototype.isReftext=function(){return this["$reftext?"]()},c.prototype.getReftext=function(){return this.$reftext()},c.prototype.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},c.prototype.getId=function(){var t=this.id;return t===Opal.nil?void 0:t},c.prototype.isOption=function(t){return this["$option?"](t)},c.prototype.setOption=function(t){return this.$set_option(t)},c.prototype.getIconUri=function(t){return this.$icon_uri(t)},c.prototype.getMediaUri=function(t,e){return this.$media_uri(t,e)},c.prototype.getImageUri=function(t,e){return this.$image_uri(t,e)},c.prototype.getConverter=function(){return this.$converter()},c.prototype.readContents=function(t,r){return this.$read_contents(t,e(r))},c.prototype.readAsset=function(t,r){var n=this.$read_asset(t,e(r));return n===Opal.nil?void 0:n},c.prototype.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},c.prototype.normalizeSystemPath=function(t,r,n,i){return this.$normalize_system_path(t,r,n,e(i))},c.prototype.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var u=Opal.Asciidoctor.Document;u.prototype.getRefs=function(){return r(this.catalog.$$smap.refs)},u.prototype.getImages=function(){return this.catalog.$$smap.images},u.prototype.getLinks=function(){return this.catalog.$$smap.links},u.prototype.hasFootnotes=function(){return this["$footnotes?"]()},u.prototype.getFootnotes=function(){return this.$footnotes()},u.prototype.getHeader=function(){return this.header},u.prototype.setAttribute=function(t,e){return this.$set_attribute(t,e)},u.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},u.prototype.convert=function(t){var r=this.$convert(e(t));return r===Opal.nil?"":r},u.prototype.write=function(t,e){return this.$write(t,e)},u.prototype.getAuthor=function(){return this.$author()},u.prototype.getSource=function(){return this.$source()},u.prototype.getSourceLines=function(){return this.$source_lines()},u.prototype.isNested=function(){return this["$nested?"]()},u.prototype.isEmbedded=function(){return this["$embedded?"]()},u.prototype.hasExtensions=function(){return this["$extensions?"]()},u.prototype.getDoctype=function(){return this.doctype},u.prototype.getBackend=function(){return this.backend},u.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},u.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},u.prototype.setTitle=function(t){return this["$title="](t)},u.prototype.getDocumentTitle=function(t){var r=this.$doctitle(e(t));return r===Opal.nil?void 0:r},u.prototype.getDoctitle=u.prototype.getDocumentTitle,u.prototype.getCatalog=function(){return r(this.catalog)},u.prototype.getReferences=u.prototype.getCatalog,u.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},u.prototype.getRevdate=function(){return this.getRevisionDate()},u.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},u.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},u.prototype.setHeaderAttribute=function(t,e,r){return void 0===r&&(r=!0),void 0===e&&(e=""),this.$set_header_attribute(t,e,r)},u.prototype.getAuthors=function(){return this.$authors()};var h=u.Footnote;h.prototype.getIndex=function(){var t=this.$$data.index;return t===Opal.nil?void 0:t},h.prototype.getId=function(){var t=this.$$data.id;return t===Opal.nil?void 0:t},h.prototype.getText=function(){var t=this.$$data.text;return t===Opal.nil?void 0:t};var _=u.ImageReference;_.prototype.getTarget=function(){return this.$$data.target},_.prototype.getImagesDirectory=function(){var t=this.$$data.imagesdir;return t===Opal.nil?void 0:t};var d=u.Author;d.prototype.getName=function(){var t=this.$$data.name;return t===Opal.nil?void 0:t},d.prototype.getFirstName=function(){var t=this.$$data.firstname;return t===Opal.nil?void 0:t},d.prototype.getMiddleName=function(){var t=this.$$data.middlename;return t===Opal.nil?void 0:t},d.prototype.getLastName=function(){var t=this.$$data.lastname;return t===Opal.nil?void 0:t},d.prototype.getInitials=function(){var t=this.$$data.initials;return t===Opal.nil?void 0:t},d.prototype.getEmail=function(){var t=this.$$data.email;return t===Opal.nil?void 0:t},u.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var p=u.RevisionInfo;p.prototype.getDate=function(){return this.date},p.prototype.getNumber=function(){return this.number},p.prototype.getRemark=function(){return this.remark},p.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},u.prototype.getRevisionInfo=function(){return new u.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},u.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},u.prototype.getNotitle=function(){return this.$notitle()},u.prototype.getNoheader=function(){return this.$noheader()},u.prototype.getNofooter=function(){return this.$nofooter()},u.prototype.hasHeader=function(){return this["$header?"]()},u.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},u.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},u.prototype.parse=function(t){return this.$parse(t)},u.prototype.getDocinfo=function(t,e){return this.$docinfo(t,e)},u.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},u.prototype.counterIncrement=function(t,e){return this.$counter_increment(t,e)},u.prototype.counter=function(t,e){return this.$counter(t,e)},u.prototype.getSafe=function(){return this.safe},u.prototype.getCompatMode=function(){return this.compat_mode},u.prototype.getSourcemap=function(){var t=this.sourcemap;return t!==Opal.nil&&t},u.prototype.getCounters=function(){return r(this.counters)},u.prototype.getCallouts=function(){return this.$callouts()},u.prototype.getBaseDir=function(){return this.base_dir},u.prototype.getOptions=function(){return r(this.options)},u.prototype.getOutfilesuffix=function(){return this.outfilesuffix},u.prototype.getParentDocument=function(){var t=this.parent_document;return t===Opal.nil?void 0:t},u.prototype.getReader=function(){return this.reader},u.prototype.getConverter=function(){return this.converter},u.prototype.getExtensions=function(){var t=this.extensions;return t===Opal.nil?void 0:t};var f=u.Title;f.prototype.getMain=function(){return this.main},f.prototype.getCombined=function(){return this.combined},f.prototype.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},f.prototype.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},f.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var m=Opal.Asciidoctor.Inline;m.create=function(t,r,n,i){return this.$new(t,r,n,e(i))},m.prototype.convert=function(){return this.$convert()},m.prototype.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},m.prototype.getType=function(){return this.$type()},m.prototype.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t};var y=Opal.Asciidoctor.List;y.prototype.hasItems=function(){return this["$items?"]()},y.prototype.getItems=function(){return this.blocks};var g=Opal.Asciidoctor.ListItem;g.prototype.getText=function(){return this.$text()},g.prototype.setText=function(t){return this["$text="](t)},g.prototype.hasText=function(){return this["$text?"]()},g.prototype.getMarker=function(){return this.marker},g.prototype.setMarker=function(t){this.marker=t},g.prototype.getList=function(){return this.$list()},g.prototype.getParent=g.prototype.getList;var b=Opal.Asciidoctor.Reader;b.prototype.pushInclude=function(t,r,n,i,$){return this.$push_include(t,r,n,i,e($))},b.prototype.getCursor=function(){return this.$cursor()},b.prototype.getLines=function(){return this.$lines()},b.prototype.getString=function(){return this.$string()},b.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},b.prototype.isEmpty=function(){return this["$empty?"]()},b.prototype.peekLine=function(t){t=t||!1;var e=this.$peek_line(t);return e===Opal.nil?void 0:e},b.prototype.readLine=function(){var t=this.$read_line();return t===Opal.nil?void 0:t},b.prototype.readLines=function(){return this.$read_lines()},b.prototype.read=function(){return this.$read()};var v=Opal.Asciidoctor.Reader.Cursor;v.prototype.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},v.prototype.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},v.prototype.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},v.prototype.getLineNumber=function(){return this.lineno};var x=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=x,x.getLogger=function(){return this.$logger()},x.setLogger=function(t){this.logger=t},x.newLogger=function(t,e){return function(t,e){return $(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),t,e,{},{add:function(t){if(t.length>=2&&"object"===_typeof(t[2])&&"$$smap"in t[2]){var e=t[2],n=r(e);n.getText=function(){return this.text},n.getSourceLocation=function(){return this.source_location},n.$inspect=function(){var t=this.getSourceLocation();return t?t.getPath()+": line "+t.getLineNumber()+": "+this.getText():this.getText()},t[2]=n}return t.length>=1&&(t[1]=t[1]===Opal.nil?void 0:t[1]),t}})}(t,e).$new()},x.newFormatter=function(t,e){return function(t,e){return $(Opal.const_get_qualified(Opal.Logger,"Formatter"),t,e,{},{call:function(t){for(var e=0;e<t.length;e++)"object"===_typeof(t[e])&&"$$smap"in t[e]&&(t[e]=r(t[e]));return t}})}(t,e).$new()};var w=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=w,w.get=function(t){return w.$constants()[t]};var k=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=k,k.prototype.call=function(t,e,r,n){return this.$call(w.get(t),e,r,n)};var E=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=E,E.create=function(){return this.$new()},E.prototype.getMessages=function(){for(var t=this.messages,e=[],n=0;n<t.length;n++){var i=t[n],$=r(i);"string"==typeof $.message?$.getText=function(){return this.message}:($.message=r($.message),$.getText=function(){return this.message.text}),$.getSeverity=function(){return this.severity.toString()},$.getSourceLocation=function(){return this.message.source_location},e.push($)}return e};var A=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=A,A.getLogger=function(){return x.$logger()},A.createLogMessage=function(t,r){return A.prototype.$message_with_context(t,e(r))},b.prototype.getLogger=A.getLogger,b.prototype.createLogMessage=A.createLogMessage,c.prototype.getLogger=A.getLogger,c.prototype.createLogMessage=A.createLogMessage;var O=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=O,O.prototype.getMaxSeverity=function(){var t=this.max_severity;return t===Opal.nil?void 0:t},O.prototype.getFormatter=function(){return this.formatter},O.prototype.setFormatter=function(t){this.formatter=t},O.prototype.getLevel=function(){return this.level},O.prototype.setLevel=function(t){this.level=t},O.prototype.getProgramName=function(){return this.progname},O.prototype.setProgramName=function(t){this.progname=t};var S=Opal.const_get_qualified("::","Logger"),R=function(t,e,r){t["$"+e](r)};S.prototype.add=function(t,e,r){var n="string"==typeof t?w[t.toUpperCase()]:t;this.$add(n,e,r)},S.prototype.log=S.prototype.add,S.prototype.debug=function(t){R(this,"debug",t)},S.prototype.info=function(t){R(this,"info",t)},S.prototype.warn=function(t){R(this,"warn",t)},S.prototype.error=function(t){R(this,"error",t)},S.prototype.fatal=function(t){R(this,"fatal",t)},S.prototype.isDebugEnabled=function(){return this["$debug?"]()},S.prototype.isInfoEnabled=function(){return this["$info?"]()},S.prototype.isWarnEnabled=function(){return this["$warn?"]()},S.prototype.isErrorEnabled=function(){return this["$error?"]()},S.prototype.isFatalEnabled=function(){return this["$fatal?"]()};var C=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=C,C.create=function(){return this.$new()},C.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;var I=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=I,I.create=function(){return this.$new()},I.prototype.printReport=function(t,e){var r;if(t)if("function"==typeof t.$add)r=function(e){t.$add(1,e)};else if("function"==typeof t.log)r=t.log;else{if("function"!=typeof t.write)throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");r=function(e){t.write(e,"utf-8")}}else r=function(t){Opal.gvars.stdout.$write(t)};e&&r("Input file: "+e),r(" Time to read and parse source: "+this.$read_parse().toFixed(2)),r(" Time to convert document: "+this.$convert().toFixed(2)),r(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};var T=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=T,T.register=function(t,e){var i="string"==typeof t?t:t[0];if("function"==typeof e){var s=e.prototype,o=Object.getOwnPropertyNames(s);for(var a in e={},o){var l=o[a];e[l]=s[l]}}var c=$(L,i,e,{},{format:function(t){return t.length>=2&&"object"===_typeof(t[2])&&"$$smap"in t[2]&&(t[2]=r(t[2])),t.length>=1&&(t[1]=t[1]===Opal.nil?void 0:t[1]),t},highlight:function(t){if(t.length>=3&&"object"===_typeof(t[3])&&"$$smap"in t[3]){var e=t[3];for(var i in e=r(e)){var $=e[i];if("callouts"===i){var s=n($);for(var o in s)for(var a=s[o],l=0;l<a.length;l++)for(var c=a[l],u=0;u<c.length;u++)c[u]=c[u]===Opal.nil?void 0:c[u];e[i]=s}else e[i]=$===Opal.nil?void 0:$}t[3]=e}return t.length>=2&&(t[2]=t[2]===Opal.nil?void 0:t[2]),t}});for(var u in e)e.hasOwnProperty(u)&&function(t){var r=e[t];"handlesHighlighting"===t?Opal.def(c,"$highlight?",function(){return r.call()}):"hasDocinfo"===t&&Opal.def(c,"$docinfo?",function(t){return r.apply(this,[t])})}(u);return Opal.def(c,"$name",function(){return i}),T.$register(c,t),c},T.for=function(t){var e=T.$for(t);return e===Opal.nil?void 0:e};var L=Opal.const_get_qualified(T,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=L,L.prototype.registerFor=function(t){T.$register(this,t)};var N=function(t){return t.$$arity=t.length,t},D=function(t,e,r,n){return"object"===_typeof(r)||r.$$is_class?t["$"+e](r,n):Opal.send(t,e,n&&[n],N(r))},B=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=B,B.create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"create",null,N(t)):"function"==typeof e?Opal.send(this,"create",[t],N(e)):this.$create()},B.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,N(t)):Opal.send(this,"register",[t],N(e))},B.getGroups=function(){return r(this.$groups())},B.unregisterAll=function(){this.$unregister_all()},B.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,i=e.$$keys;n<i.length;n++){var $=i[n];r[$.toString()]=$}for(var s=0;s<t.length;s++){var o=t[s];o in r&&Opal.hash_delete(e,r[o])}};var M=B.Registry;M.prototype.getGroups=B.getGroups,M.prototype.unregisterAll=function(){this.groups=Opal.hash()},M.prototype.unregister=B.unregister,M.prototype.prefer=function(t,e){return 1===arguments.length&&(e=t,t=null),"object"===_typeof(e)||e.$$is_class?this.$prefer(t,e):Opal.send(this,"prefer",t&&[t],N(e))},M.prototype.block=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"block",e,t)},M.prototype.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"inline_macro",e,t)},M.prototype.includeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"include_processor",e,t)},M.prototype.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"block_macro",e,t)},M.prototype.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"tree_processor",e,t)},M.prototype.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"postprocessor",e,t)},M.prototype.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"preprocessor",e,t)},M.prototype.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),D(this,"docinfo_processor",e,t)},M.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},M.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},M.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},M.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},M.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},M.prototype.hasBlocks=function(){return this["$blocks?"]()},M.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},M.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},M.prototype.getPreprocessors=function(){return this.$preprocessors()},M.prototype.getTreeProcessors=function(){return this.$tree_processors()},M.prototype.getIncludeProcessors=function(){return this.$include_processors()},M.prototype.getPostprocessors=function(){return this.$postprocessors()},M.prototype.getDocinfoProcessors=function(t){return this.$docinfo_processors(t)},M.prototype.getBlocks=function(){return this.block_extensions.$values()},M.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},M.prototype.getInlineMacros=function(){return this.$inline_macros()},M.prototype.getInlineMacroFor=function(t){var e=this["$registered_for_inline_macro?"](t);return!1===e?void 0:e},M.prototype.getBlockFor=function(t,e){if(void 0===e){var r=this.$find_block_extension(t);return r===Opal.nil?void 0:r}var n=this["$registered_for_block?"](t,e);return!1===n?void 0:n},M.prototype.getBlockMacroFor=function(t){var e=this["$registered_for_block_macro?"](t);return!1===e?void 0:e};var F=B.Processor;F.prototype.prepend=function(){this.$option("position",">>")},F.prototype.process=function(t){var e=new Proxy(t,{apply:function(t,e,n){for(var i=0;i<n.length;i++)"object"===_typeof(n[i])&&"$$smap"in n[i]&&(n[i]=r(n[i]));return t.apply(e,n)}});return Opal.send(this,"process",null,N(e))},F.prototype.named=function(t){return this.$named(t)},F.prototype.createBlock=function(t,r,n,i,$){return this.$create_block(t,r,n,e(i),e($))},F.prototype.createList=function(t,r,n){return this.$create_list(t,r,e(n))},F.prototype.createListItem=function(t,e){return this.$create_list_item(t,e)},F.prototype.createImageBlock=function(t,r,n){return this.$create_image_block(t,e(r),e(n))},F.prototype.createInline=function(t,r,n,i){return i&&i.attributes&&(i.attributes=e(i.attributes)),this.$create_inline(t,r,n,e(i))},F.prototype.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},F.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},F.prototype.resolvesAttributes=function(t){return this.$resolves_attributes(t)};var z=B.BlockProcessor;z.prototype.onContext=function(t){return this.$on_context(t)},z.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))},z.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},z.prototype.parseContentAs=function(t){this.$parse_content_as(t)};var P=B.BlockMacroProcessor;P.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},P.prototype.parseContentAs=function(t){this.$parse_content_as(t)};var j=B.InlineMacroProcessor;j.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},j.prototype.parseContentAs=function(t){this.$parse_content_as(t)},j.prototype.matchFormat=function(t){this.$match_format(t)};var q=B.IncludeProcessor;q.prototype.handles=function(t){return Opal.send(this,"handles?",null,N(t))},q.prototype.prefer=function(){this.$prefer()},B.TreeProcessor.prototype.prefer=function(){this.$prefer()},B.Postprocessor.prototype.prefer=function(){this.$prefer()},B.Preprocessor.prototype.prefer=function(){this.$prefer()};var U=B.DocinfoProcessor;function H(t,e,r){return $(Opal.const_get_qualified(B,t),e,r,{"handles?":function(){return!0}})}U.prototype.prefer=function(){this.$prefer()},U.prototype.atLocation=function(t){this.$at_location(t)},B.createPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("Postprocessor",t,e)},B.newPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPostprocessor(t,e).$new()},B.createPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("Preprocessor",t,e)},B.newPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPreprocessor(t,e).$new()},B.createTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("TreeProcessor",t,e)},B.newTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createTreeProcessor(t,e).$new()},B.createIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("IncludeProcessor",t,e)},B.newIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createIncludeProcessor(t,e).$new()},B.createDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("DocinfoProcessor",t,e)},B.newDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createDocinfoProcessor(t,e).$new()},B.createBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("BlockProcessor",t,e)},B.newBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockProcessor(t,e).$new()},B.createInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("InlineMacroProcessor",t,e)},B.newInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createInlineMacroProcessor(t,e).$new()},B.createBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),H("BlockMacroProcessor",t,e)},B.newBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockMacroProcessor(t,e).$new()};var Y=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Y,Y.prototype.convert=function(t,r,n){return this.$convert(t,r,e(n))},Y.create=function(t,r){return this.$create(t,e(r))};var G=Opal.Asciidoctor.Converter.Factory;Opal.Asciidoctor.ConverterFactory=G,G.register=function(t,e){"object"===_typeof(t)&&void 0===t.$convert&&"function"==typeof t.convert&&Opal.def(t,"$convert",t.convert);var r=[t].concat(e);return Y.$register.apply(Y,r)},G.getDefault=function(t){return this.$default(t)},G.prototype.create=function(t,r){return this.$create(t,e(r))};var W=Opal.Asciidoctor.Converter.Html5Converter;return Opal.Asciidoctor.Html5Converter=W,W.create=function(){return this.$new()},W.prototype.convert=function(t,e,r){return this.$convert(t,e,r)},Opal.Asciidoctor.prototype.getVersion=function(){return"2.0.3"},Opal.Asciidoctor},"object"===_typeof(module)&&module.exports?module.exports=factory:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(t){return factory(t.config())}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__=[module]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__(0),__webpack_require__(3),__webpack_require__(4).Buffer,__webpack_require__(8)(module))},function(t,e){var r,n,i=t.exports={};function $(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===$||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:$}catch(t){r=$}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var a,l=[],c=!1,u=-1;function h(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&_())}function _(){if(!c){var t=o(h);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||c||o(_)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(5),i=r(6),$=r(7);function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return l(this,t,e,r)}function l(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=o(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(a.isBuffer(e)){var r=0|_(e.length);return 0===(t=o(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?o(t,0):h(t,e);if("Buffer"===e.type&&$(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(c(e),t=o(t,e<0?0:0|_(e)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|_(e.length);t=o(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function _(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return P(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(t).length;default:if(n)return P(t).length;e=(""+e).toLowerCase(),n=!0}}function p(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function f(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var $,s=1,o=t.length,a=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for($=r;$<o;$++)if(l(t,$)===l(e,-1===c?0:$-c)){if(-1===c&&(c=$),$-c+1===a)return c*s}else-1!==c&&($-=$-c),c=-1}else for(r+a>o&&(r=o-a),$=r;$>=0;$--){for(var u=!0,h=0;h<a;h++)if(l(t,$+h)!==l(e,h)){u=!1;break}if(u)return $}return-1}function y(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var $=e.length;if($%2!=0)throw new TypeError("Invalid hex string");n>$/2&&(n=$/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function g(t,e,r,n){return q(P(e,t.length-r),t,r,n)}function b(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function v(t,e,r,n){return b(t,e,r,n)}function x(t,e,r,n){return q(j(e),t,r,n)}function w(t,e,r,n){return q(function(t,e){for(var r,n,i,$=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,$.push(i),$.push(n);return $}(e,t.length-r),t,r,n)}function k(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var $,s,o,a,l=t[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u<=r)switch(u){case 1:l<128&&(c=l);break;case 2:128==(192&($=t[i+1]))&&(a=(31&l)<<6|63&$)>127&&(c=a);break;case 3:$=t[i+1],s=t[i+2],128==(192&$)&&128==(192&s)&&(a=(15&l)<<12|(63&$)<<6|63&s)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:$=t[i+1],s=t[i+2],o=t[i+3],128==(192&$)&&128==(192&s)&&128==(192&o)&&(a=(15&l)<<18|(63&$)<<12|(63&s)<<6|63&o)>65535&&a<1114112&&(c=a)}null===c?(c=65533,u=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=u}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=A));return r}(n)}e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,r){return l(null,t,e,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,r){return function(t,e,r,n){return c(e),e<=0?o(t,e):void 0!==r?"string"==typeof n?o(t,e).fill(r,n):o(t,e).fill(r):o(t,e)}(null,t,e,r)},a.allocUnsafe=function(t){return u(null,t)},a.allocUnsafeSlow=function(t){return u(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,$=Math.min(r,n);i<$;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)p(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return O(this,e,r);case"latin1":case"binary":return S(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var $=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),o=Math.min($,s),l=this.slice(n,i),c=t.slice(e,r),u=0;u<o;++u)if(l[u]!==c[u]){$=l[u],s=c[u];break}return $<s?-1:s<$?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return f(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return f(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var $=!1;;)switch(n){case"hex":return y(this,t,e,r);case"utf8":case"utf-8":return g(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return v(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if($)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function S(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",$=e;$<r;++$)i+=z(t[$]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",$=0;$<n.length;$+=2)i+=String.fromCharCode(n[$]+256*n[$+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,r,n,i,$){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<$)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function L(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,$=Math.min(t.length-r,2);i<$;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,$=Math.min(t.length-r,4);i<$;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,$){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,$){return $||D(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function M(t,e,r,n,$){return $||D(t,0,r,8),i.write(t,e,r,n,52,8),r+8}a.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;r=new a(i,void 0);for(var $=0;$<i;++$)r[$]=this[$+t]}return r},a.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,$=0;++$<e&&(i*=256);)n+=this[t+$]*i;return n},a.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,$=0;++$<e&&(i*=256);)n+=this[t+$]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,$=this[t+--n];n>0&&(i*=256);)$+=this[t+--n]*i;return $>=(i*=128)&&($-=Math.pow(2,8*e)),$},a.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||T(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,$=0;for(this[e]=255&t;++$<r&&(i*=256);)this[e+$]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||T(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,$=1;for(this[e+i]=255&t;--i>=0&&($*=256);)this[e+i]=t/$&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);T(this,t,e,r,i-1,-i)}var $=0,s=1,o=0;for(this[e]=255&t;++$<r&&(s*=256);)t<0&&0===o&&0!==this[e+$-1]&&(o=1),this[e+$]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);T(this,t,e,r,i-1,-i)}var $=r-1,s=1,o=0;for(this[e+$]=255&t;--$>=0&&(s*=256);)t<0&&0===o&&0!==this[e+$+1]&&(o=1),this[e+$]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return M(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return M(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,$=n-r;if(this===t&&r<e&&e<n)for(i=$-1;i>=0;--i)t[i+e]=this[i+r];else if($<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<$;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+$),e);return $},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var $;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for($=e;$<r;++$)this[$]=t;else{var s=a.isBuffer(t)?t:P(new a(t,n).toString()),o=s.length;for($=0;$<r-e;++$)this[$+e]=s[$%o]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function P(t,e){var r;e=e||1/0;for(var n=t.length,i=null,$=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&$.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&$.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&$.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&$.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;$.push(r)}else if(r<2048){if((e-=2)<0)break;$.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;$.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;$.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return $}function j(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(0))},function(t,e,r){"use strict";e.byteLength=function(t){var e=l(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=l(t),n=r[0],s=r[1],o=new $(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),a=0,c=s>0?n-4:n,u=0;u<c;u+=4)e=i[t.charCodeAt(u)]<<18|i[t.charCodeAt(u+1)]<<12|i[t.charCodeAt(u+2)]<<6|i[t.charCodeAt(u+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;2===s&&(e=i[t.charCodeAt(u)]<<2|i[t.charCodeAt(u+1)]>>4,o[a++]=255&e);1===s&&(e=i[t.charCodeAt(u)]<<10|i[t.charCodeAt(u+1)]<<4|i[t.charCodeAt(u+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e);return o},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,$=[],s=0,o=r-i;s<o;s+=16383)$.push(c(t,s,s+16383>o?o:s+16383));1===i?(e=t[r-1],$.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],$.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return $.join("")};for(var n=[],i=[],$="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=s.length;o<a;++o)n[o]=s[o],i[s.charCodeAt(o)]=o;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,r){for(var i,$,s=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(n[($=i)>>18&63]+n[$>>12&63]+n[$>>6&63]+n[63&$]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var $,s,o=8*i-n-1,a=(1<<o)-1,l=a>>1,c=-7,u=r?i-1:0,h=r?-1:1,_=t[e+u];for(u+=h,$=_&(1<<-c)-1,_>>=-c,c+=o;c>0;$=256*$+t[e+u],u+=h,c-=8);for(s=$&(1<<-c)-1,$>>=-c,c+=n;c>0;s=256*s+t[e+u],u+=h,c-=8);if(0===$)$=1-l;else{if($===a)return s?NaN:1/0*(_?-1:1);s+=Math.pow(2,n),$-=l}return(_?-1:1)*s*Math.pow(2,$-n)},e.write=function(t,e,r,n,i,$){var s,o,a,l=8*$-i-1,c=(1<<l)-1,u=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:$-1,d=n?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),(e+=s+u>=1?h/a:h*Math.pow(2,1-u))*a>=2&&(s++,a/=2),s+u>=c?(o=0,s=c):s+u>=1?(o=(e*a-1)*Math.pow(2,i),s+=u):(o=e*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;t[r+_]=255&o,_+=d,o/=256,i-=8);for(s=s<<i|o,l+=i;l>0;t[r+_]=255&s,_+=d,s/=256,l-=8);t[r+_-d]|=128*p}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);